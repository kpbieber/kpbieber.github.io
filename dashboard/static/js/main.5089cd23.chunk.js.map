{"version":3,"sources":["components/visuals/TextBox.js","components/visuals/CustomTable.js","styles/main.scss","reducers/activeTiles.js","reducers/tiles.js","reducers/activeLayouts.js","reducers/layouts.js","reducers/activeTab.js","reducers/tabs.js","reducers/ui.js","reducers/data.js","reducers/index.js","actions/index.js","components/NavBar.js","components/forms/GaugeForm.js","components/forms/BasicGraphForm.js","components/forms/TextBoxForm.js","components/forms/MultiAxesConfig.js","components/forms/AdvancedGraphForm.js","components/forms/TableForm.js","components/forms/CustomTableForm.js","components/forms/MapForm.js","components/forms/CylinderGaugeForm.js","components/forms/SolidGaugeForm.js","components/forms/IframeTileForm.js","containers/SideBar.js","containers/Modal.js","containers/Tabs.js","components/visuals/Gauge.js","util/dummy-data.js","components/visuals/BasicGraph.js","components/visuals/Map.js","components/visuals/AdvancedGraph.js","components/visuals/TileType.js","components/visuals/Table.js","components/visuals/CylinderGauge.js","components/visuals/SolidGauge.js","components/visuals/IframeTile.js","containers/Tile.js","containers/Main.js","components/App.js","serviceWorker.js","index.js","configureStore.js","util/keys.js","util/index.js","styles/variables.scss"],"names":["TextBox","state","time","Date","toTimeString","substring","substitutions","text","data","_this","props","i","dataItems","label","eval","e","_this2","this","setInterval","setState","properties","tile","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","style","width","height","position","padding","dangerouslySetInnerHTML","__html","Component","mapStateToProps","_ref","defaultProps","asset","assetId","assetAlias","assetDefinitionName","connect","CustomTable","globalFilter","loading","header","react__WEBPACK_IMPORTED_MODULE_7___default","textAlign","className","margin","primereact_inputtext__WEBPACK_IMPORTED_MODULE_15__","type","onChange","stopPropagation","target","value","placeholder","size","marginLeft","cursor","title","onClick","fetchData","react_icons_fi__WEBPACK_IMPORTED_MODULE_10__","export","_callee","C_LimeDev_Webpages_react_apps_dashboard_with_redux_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","wrap","_context","prev","next","axios","url","baseURL","keys","BASE_URL","method","headers","Content-Type","Authorization","TOKEN","then","res","catch","err","console","log","stop","dt","exportCSV","linkTemplate","rowData","column","body","cell","replace","renderTable","_this$state","top","left","transform","react_spinners__WEBPACK_IMPORTED_MODULE_11__","sizeUnit","color","variables","fontColor","columns","dynamicCols","map","col","primereact_column__WEBPACK_IMPORTED_MODULE_14__","key","field","sortable","primereact_datatable__WEBPACK_IMPORTED_MODULE_13__","ref","el","rows","paginator","prevProps","table","Fragment","zIndex","onMouseDown","_ref2","module","exports","activeTiles","arguments","length","undefined","action","Object","toConsumableArray","concat","id","dataGrid","filter","payload","tiles","activeTab","addTiles","addedTile","index","splice","newTiles","slice","newTile","push","activeLayouts","layouts","tab","newLayouts","name","tabs","objectSpread","ui","sidebar","modal","visible","viewOnly","status","dataItemsObject","dataItemId","attributesObject","attributeName","attributes","assetDef","combineReducers","saveDashboard","asyncToGenerator","regenerator_default","mark","dispatch","dashId","request","getParameterByName","JSON","stringify","sent","_x","apply","loadDashboard","_callee2","assetDefId","_request","newDash","postNewDash","newurl","_context2","dashboardId","dashboardName","systemDefinitionId","assetDefinitionId","config","alert","window","location","protocol","host","pathname","history","pushState","path","_x2","currentData","_ref3","_callee3","_context3","_x3","_ref4","_callee4","_context4","_x4","assetData","_ref5","_callee5","_context5","_x5","assetDefinitionData","_ref6","_callee6","_context6","_x6","toggleViewOnly","toggleSidebar","toggleModal","resetModal","addTile","x","y","w","h","guid","deleteTile","editTile","saveLayouts","addTab","editTab","deleteTab","changeTab","actions","_props$data","show","innerWidth","react_default","fi","display","primereact_checkbox","marginTop","borderRadius","backgroundColor","checked","fontSize","htmlFor","listStyle","href","GaugeForm","dataItem","min","max","unit","band1","band1End","band2End","band2","band3","handleChange","preventDefault","addData","defineProperty","_tile$properties","newDi","di","dropdown","optionLabel","options","required","inputtext","marginBottom","colorpicker","defaultColor","times","selectOptions","LiveDataGraphForm","yaxis","liveStart","fixedStart","end","timeType","legend","renderTimeSelection","calendar","showTime","showButtonBar","newDis","find","_this$state2","timeSelection","selectbutton","multiselect","TextBoxForm","edit","items","htmlValue","addText","string","displayData","command","att","editor","onTextChange","panelmenu","model","overflow","MultiAxesConfig","axes","series","axis","addAxis","prevState","addSeries","renderSeries","plot","verticalAlign","handleDelete","renderAxes","newSeries","_this$state3","_this$props","submitModal","closeModal","primereact_button","marginRight","icon","background","border","MultiAxesLiveForm","editPos","openModal","showHideClassName","forms_MultiAxesConfig","tableOptions","TableForm","option","CustomTableForm","inputtextarea","MapForm","showAll","CylinderGaugeForm","fillColor","SolidGaugeForm","IframeTileForm","TileOptions","form","BasicGraphForm","AdvancedGraphForm","SideBar","handleFormSubmit","handleSave","valid","handleData","formData","renderForm","Form","_this$props2","primereact_sidebar","onHide","paddingTop","onSubmit","forms","Gauge","CylinderGauge","SolidGauge","BasicGraph","Map","AdvancedGraph","Table","IframeTile","Modal","Tabs","nextTab","renderTab","onDoubleClick","handleTabRename","handleDeleteTab","handleAddTab","confirm","handleSubmit","newTab","_this$props3","chartInit","_this$props$tile","Number","am4core","commercialLicense","chart","am4charts","innerRadius","startAngle","endAngle","xAxes","strictMinMax","colorSet","renderer","ticks","template","stroke","labels","radius","strokeOpacity","grid","disabled","hiddenState","opacity","setStateOnChildren","numberFormatter","bigNumberPrefixes","number","suffix","numberFormat","range0","axisRanges","create","endValue","axisFill","fillOpacity","fill","getIndex","range1","range2","radarContainer","createChild","isMeasured","horizontalCenter","verticalCenter","Title","titles","hand","hands","showValue","cubicOut","dispose","Math","round","dummyData","date","LiveDataGraph","dateAxis","valueAxis","exporting","menu","align","minGridDistance","startLocation","endLocation","t0","yAxes","line","strokeWidth","behavior","xAxis","createSeries","scrollbarX","parent","bottomAxesContainer","t1","_this$props$tile$prop","start","startTime","endTime","five","toJSON","ten","halfhour","hour","Name","DataItems","StartTime","EndTime","Format","Type","abrupt","timestamp","dateX","dataFields","valueY","tensionX","minBulletDistance","interpolationDuration","transitionDuration","tooltipText","tooltip","cornerRadius","pointerOrientation","minWidth","minHeight","textValign","bullet","bullets","circle","states","scale","endBullet","events","on","moveTo","last","point","validatePosition","newData","_loop","react_spinners","bottom","google","overlays","onMapReady","assets","ass","maps","Marker","lat","latitude","lng","longitude","center","zoom","onOverlayClick","paddingBottom","gmap","MultiAxesLive","opposite","_i","createAxes","values","yAxis","TileType","serialNumber","renderFileTable","primereact_column","filename","datatable","renderEventTable","renderAlarmTable","renderDataItemTable","categoryAxis","category","baseGrid","adapter","add","series1","categoryX","series2","stacked","fillValue","emptyValue","fontWeight","colors","valueX","categoryY","clustered","getFor","cornerRadiusTopLeft","radarColumn","raw","full","index_min_default","allowFullScreen","components","Tile","TagName","right","handleEditTile","ResponsiveGridLayout","WidthProvider","Responsive","Main","renderGrids","visibility","breakpoints","lg","md","sm","xs","xxs","cols","rowHeight","onLayoutChange","layout","handleLayoutChange","isDraggable","isResizable","renderTile","data-grid","containers_Tile","React","am4themes_dark","autoSetClassName","App","loginStatus","interval","NavBar","containers_SideBar","containers_Modal","containers_Tabs","containers_Main","Boolean","hostname","match","enhancedStore","preLoadedState","middlewareEnhancer","applyMiddleware","ReduxThunk","composedEnhancer","compose","createStore","rootReducer","configureStore","ReactDOM","render","es","store","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","__webpack_require__","d","__webpack_exports__","s4","floor","random","toString","results","RegExp","exec","decodeURIComponent","C_LimeDev_Webpages_react_apps_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","toLowerCase","sessionStorage","destination","login"],"mappings":"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V,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,GACV,CACCuY,KAAQ,aACRvY,MAAS,GACV,CACCuY,KAAQ,aACRvY,MAAS,GACV,CACCuY,KAAQ,aACRvY,MAAS,GACV,CACCuY,KAAQ,aACRvY,MAAS,GACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,aACRvY,MAAS,IACV,CACCuY,KAAQ,a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","file":"static/js/main.5089cd23.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { getParameterByName } from '../../util';\r\n\r\nclass TextBox extends Component {\r\n  static defaultProps = {\r\n    data: {\r\n      asset: {\r\n        assetId: 0,\r\n        assetAlias: '',\r\n        assetDefinitionName: ''\r\n      }\r\n    }\r\n  }\r\n  state = {\r\n    time : new Date().toTimeString().substring(0,5)\r\n  }\r\n  componentDidMount() {\r\n    setInterval(() => this.setState({time:new Date().toTimeString().substring(0,5)}),5000)\r\n  }\r\n  substitutions = (text) => {\r\n    try{\r\n      const data =  this.props.data\r\n      for(var i = 0 ; i < data.dataItems; i++){\r\n          data[data.dataItems[i].label] = data.dataItems[i]\r\n      }\r\n      //console.log(data)\r\n      return eval('`'+text+'`');\r\n      //const { assetId, assetAlias, assetDefinitionName } = this.props.data.asset;\r\n      // return text\r\n      // .replace(\"{assetId}\",assetId)\r\n      // .replace(\"{assetAlias}\",assetAlias)\r\n      // .replace(\"{assetDefinitionName}\",assetDefinitionName)\r\n      // .replace(\"{date}\",new Date().toDateString())\r\n      // .replace(\"{time}\",this.state.time)\r\n    }\r\n    catch(e){\r\n      return text\r\n    }\r\n  }\r\n  \r\n\r\n  render () {\r\n    const { properties } = this.props.tile;\r\n    return (\r\n      <section style={{width: '100%', height: '100%', position: 'relative'}} >\r\n        <div style={{padding:'.3rem'}} dangerouslySetInnerHTML={{__html: this.substitutions(properties.text)}}>\r\n        </div>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ data }) {\r\n\treturn { data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(TextBox);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { FiRefreshCcw, FiSave } from 'react-icons/fi';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport { keys } from '../../util/keys';\r\n//import { getParameterByName } from '../../util';\r\nimport { FiMove } from 'react-icons/fi';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Column } from 'primereact/column';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport variables from '../../styles/variables.scss';\r\n\r\nclass CustomTable extends Component {\r\n  state = {\r\n    globalFilter: '',\r\n    data: [],\r\n    loading: true\r\n  }\r\n\r\n  header = (<div style={{'textAlign':'left'}}>\r\n    <i className=\"pi pi-search\" style={{margin:'4px 4px 0 3rem'}}></i>\r\n    <InputText\r\n      type=\"search\"\r\n      onChange={(e) => {\r\n        e.stopPropagation();\r\n        this.setState({globalFilter: e.target.value})}\r\n      }\r\n      placeholder=\"Search\"\r\n      size=\"50\"\r\n    />\r\n    <span\r\n      style={{marginLeft:'1rem', cursor:'pointer'}}\r\n      title='Refresh Data'\r\n      onClick={(e) => {this.setState({loading:true});this.fetchData()}}\r\n    >\r\n      <FiRefreshCcw size='1rem' style={{height:'1rem'}} />\r\n    </span>\r\n    <span\r\n      style={{marginLeft:'1rem', cursor:'pointer'}}\r\n      title='Export data as csv'\r\n      onClick={(e) => {this.export()}}\r\n    >\r\n      <FiSave size='1rem' style={{height:'1rem'}} onClick={this.export} />\r\n    </span>\r\n  </div>);\r\n\r\n  fetchData = async () => {\r\n    const { properties } = this.props.tile;\r\n    axios({\r\n      url: properties.url,\r\n      baseURL: keys.BASE_URL,\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": keys.TOKEN,\r\n      },\r\n    })\r\n    .then((res) => {\r\n      this.setState({data: res.data, loading: false});\r\n    })\r\n    .catch((err) => {\r\n      console.log(err);\r\n      this.setState({loading:false});\r\n    });\r\n  }\r\n\r\n  export = () => {\r\n    this.dt.exportCSV();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { properties } = this.props.tile;\r\n    if(prevProps.tile.properties !== properties) {\r\n      this.fetchData();\r\n    }\r\n  }\r\n\r\n  linkTemplate = (rowData, column, body) => {\r\n    const cell = body(rowData).replace(/\\^/g,' ');\r\n    return (<div dangerouslySetInnerHTML={{__html: cell}}></div>)\r\n  }\r\n\r\n  renderTable = () => {\r\n    const {data, loading} = this.state;\r\n    if(loading) {\r\n      return (\r\n        <div\r\n          style={{position:'absolute', top:'50%',left:'50%', transform: 'translate(-50%)'}}\r\n        >\r\n          <ScaleLoader sizeUnit={'px'} size={30} color={variables.fontColor} />\r\n        </div>)\r\n    } else {\r\n      try {\r\n        const columns  = eval(this.props.tile.properties.columns.replace(/\\s/g,''));\r\n        const dynamicCols = columns.map((col, i) => {\r\n          if (col.body) {\r\n            return <Column key={i} field={col.field} header={col.header} sortable={true} body={(rowData, column) => this.linkTemplate(rowData, column, col.body)}/>\r\n          } else {\r\n            return <Column key={i} field={col.field} header={col.header} sortable={true} />\r\n          }\r\n        });\r\n        return (\r\n          <DataTable\r\n            ref={(el) => { this.dt = el; }}\r\n            value={data}\r\n            rows={10}\r\n            paginator={true}\r\n            globalFilter={this.state.globalFilter}\r\n            header={this.header}\r\n          >\r\n            {dynamicCols}\r\n          </DataTable>\r\n        )\r\n      } catch(err) {\r\n        return (\r\n          <div\r\n            style={{position:'absolute', top:'50%',left:'50%', transform: 'translate(-50%)'}}\r\n          >Invalid Input, please try again\r\n          </div>)\r\n      }\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const table = this.renderTable();\r\n    return ( < >\r\n      <div className='table-background' style={{height: '100%', width:'100%'}}>\r\n        <span\r\n          style={{ position: 'absolute', top: '5px', left: '35px', zIndex: 1000, cursor:'grab' }}\r\n        > <FiMove style={{height:'1rem'}} />\r\n        </span>\r\n        <div onMouseDown={e => e.stopPropagation()}>\r\n          {table}\r\n        </div>\r\n      </div>\r\n    </> )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data}) {\r\n  return ({data});\r\n}\r\n\r\nexport default connect(mapStateToProps)(CustomTable);\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontColor\":\"rgba(255, 255, 255, 0.8)\"};","const activeTiles = (state=[], action) => {\r\n  switch(action.type) {\r\n    case 'ADD_TILE':\r\n      return [\r\n        ...state,\r\n        {\r\n          id: action.id,\r\n          properties: action.tile.properties,\r\n          dataGrid: action.tile.dataGrid\r\n        }\r\n      ];\r\n    case 'DELETE_TILE':\r\n      return state.filter(tile => tile.id !== action.id)\r\n    case 'LOAD_DASHBOARD':\r\n      if(action.payload.data.tiles) {\r\n        return action.payload.data.tiles[0];\r\n      } else {\r\n        return state;\r\n      }\r\n    case 'SET_ACTIVE_TILES':\r\n      if(action.tiles) {\r\n        return action.tiles\r\n      } else {\r\n        return [];\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default activeTiles;\r\n","const tiles = (state=[[]], action) => {\r\n  switch(action.type) {\r\n    case 'ADD_TILE': {\r\n      const { activeTab, id, tile } = action;\r\n      const addTiles = state;\r\n      const addedTile = [...state[activeTab.index], {id: id, properties: tile.properties, dataGrid: tile.dataGrid}];\r\n      addTiles.splice(activeTab.index, 1, addedTile);\r\n      return [...addTiles];\r\n    }\r\n    case 'DELETE_TILE': {\r\n      const { activeTab, id } = action;\r\n      const newTiles = state[activeTab.index].filter(tile => tile.id !== id);\r\n      const tiles = state.slice(0);\r\n      tiles.splice(activeTab.index, 1, newTiles);\r\n      return [...tiles];\r\n    }\r\n    case 'EDIT_TILE': {\r\n      const { index, newTile } = action;\r\n      const newTiles = state[index].filter((tile) => tile.id !== newTile.id);\r\n      newTiles.push(newTile);\r\n      const tiles = state.slice(0);\r\n      tiles.splice(index, 1, newTiles);\r\n      return [...tiles];\r\n    }\r\n    case 'ADD_TAB':\r\n      return [\r\n        ...state,\r\n        []\r\n      ]\r\n    case 'DELETE_TAB':\r\n      // filter state with index of tab\r\n      return state.filter((tiles, i) => i !== action.index);\r\n    case 'LOAD_DASHBOARD':\r\n      if(action.payload.data.tiles) {\r\n        return action.payload.data.tiles\r\n      } else {\r\n        return state;\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default tiles;\r\n","const activeLayouts = (state={}, action) => {\r\n  switch(action.type) {\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default activeLayouts;\r\n","const layouts = (state=[{}], action) => {\r\n  switch(action.type) {\r\n    case 'SAVE_LAYOUT':\r\n      const { layouts, tab } = action;\r\n      const newLayouts = state.slice(0);\r\n      newLayouts.splice(tab.index, 1, layouts);\r\n      return newLayouts;\r\n    case 'ADD_TAB':\r\n      return [\r\n        ...state,\r\n        {}\r\n      ];\r\n    case 'DELETE_TAB':\r\n      // filter state with index of tab\r\n      return state.filter((layouts, i) => i !== action.index);\r\n    case 'SAVE_DASHBOARD' :\r\n      return state;\r\n    case 'LOAD_DASHBOARD':\r\n      if(action.payload.data.layouts) {\r\n        return action.payload.data.layouts;\r\n      } else {\r\n        return state;\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default layouts;\r\n","const activeTab = (state={name:'default', index:0}, action) => {\r\n  switch(action.type) {\r\n    case 'CHANGE_TAB':\r\n      return action.tab;\r\n    case 'DELETE_TAB':\r\n      return state;\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default activeTab;\r\n","const tabs = (state=[{name: 'default', index:0}], action) => {\r\n  switch(action.type) {\r\n    case 'ADD_TAB':\r\n      return [\r\n        ...state,\r\n        action.tab\r\n      ];\r\n    case 'EDIT_TAB': {\r\n      return state.map((tab, i) => {\r\n        if(i === action.tab.index) {\r\n          return {\r\n            ...tab,\r\n            name: action.name\r\n          }\r\n        } else {\r\n          return tab;\r\n        }\r\n      })\r\n    }\r\n    case 'DELETE_TAB':\r\n      return state.map((tab,i) => {\r\n        if(i > action.index) {\r\n          return {\r\n            name: tab.name,\r\n            index: tab.index - 1\r\n          };\r\n        } else {\r\n          return tab;\r\n        }\r\n      })\r\n      .filter((tab, i) => i !== action.index);\r\n    case 'LOAD_DASHBOARD':\r\n    if(action.payload.data.tabs) {\r\n      return action.payload.data.tabs;\r\n    } else {\r\n      return state;\r\n    }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default tabs;\r\n","const ui = (state={sidebar: false, modal: {visible:false, tile:null}, viewOnly: false}, action) => {\r\n  switch(action.type) {\r\n    case 'TOGGLE_SIDEBAR':\r\n    const sidebar = !state.sidebar;\r\n      return {\r\n        ...state,\r\n        sidebar\r\n      }\r\n    case 'TOGGLE_MODAL':\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          visible: true,\r\n          tile: action.tile\r\n        }\r\n      }\r\n    case 'RESET_MODAL': {\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          visible: false,\r\n          tile: null\r\n        }\r\n      }\r\n    }\r\n    case 'EDIT_TILE': {\r\n      // action has tile\r\n      return {\r\n        ...state,\r\n        modal: {\r\n          ...state.modal,\r\n          tile: action.tile,\r\n        }\r\n      }\r\n    }\r\n    case 'TOGGLE_VIEWONLY': {\r\n      return {\r\n        ...state,\r\n        viewOnly: !state.viewOnly\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default ui;\r\n","const data = (state={}, action) => {\r\n  switch(action.type) {\r\n    case 'CURRENT_DATA': {\r\n      if(action.payload.status === 200) {\r\n        var dataItemsObject = {}\r\n        for(var i = 0 ; i < action.payload.data.length; i++){\r\n          dataItemsObject[action.payload.data[i].dataItemId] = action.payload.data[i]\r\n        }\r\n        return {\r\n          ...state,\r\n          dataItems: action.payload.data,\r\n          dataItemsObject: dataItemsObject\r\n\r\n        };\r\n      } else {\r\n        console.log(action.payload)\r\n        return {\r\n          ...state,\r\n          dataItems: null\r\n        };\r\n      }\r\n    }\r\n    case 'ATTRIBUTES_DATA': {\r\n      if(action.payload.status === 200) {\r\n        var attributesObject = {}\r\n        for(var i = 0 ; i < action.payload.data.length; i++){\r\n          attributesObject[action.payload.data[i].attributeName] = action.payload.data[i]\r\n        }\r\n        return {\r\n          ...state,\r\n          attributes: action.payload.data,\r\n          attributesObject: attributesObject\r\n\r\n        };\r\n      } else {\r\n        console.log(action.payload)\r\n        return {\r\n          ...state,\r\n          attributes: null\r\n        };\r\n      }\r\n    }\r\n    case 'ASSET_DATA': {\r\n      if(action.payload.status === 200) {\r\n        return {\r\n          ...state,\r\n          asset: action.payload.data\r\n        };\r\n      } else {\r\n        console.log(action.payload)\r\n        return {\r\n          ...state,\r\n          asset: null\r\n        };\r\n      }\r\n    }\r\n    case 'ASSET_DEFINITION_DATA': {\r\n      if(action.payload.status === 200) {\r\n        return {\r\n          ...state,\r\n          assetDef: action.payload.data\r\n        };\r\n      } else {\r\n        console.log(action.payload)\r\n        return {\r\n          ...state,\r\n          assetDef: null\r\n        };\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport default data;\r\n","import { combineReducers } from 'redux';\r\nimport activeTiles from './activeTiles';\r\nimport tiles from './tiles';\r\nimport activeLayouts from './activeLayouts';\r\nimport layouts from './layouts';\r\nimport activeTab from './activeTab';\r\nimport tabs from './tabs';\r\nimport ui from './ui';\r\nimport data from './data';\r\n\r\nexport default combineReducers({\r\n  activeTab,\r\n  tabs,\r\n  activeTiles,\r\n  tiles,\r\n  activeLayouts,\r\n  layouts,\r\n  ui,\r\n  data,\r\n});\r\n","import axios from 'axios';\r\nimport { getParameterByName, guid } from '../util';\r\nimport { keys } from '../util/keys';\r\n///////// GENERAL ACTIONS ////////////\r\nexport const saveDashboard = (tiles, layouts, tabs) => async dispatch => {\r\n  const dashId = getParameterByName('dashboardId');\r\n  const url = `/api/dashboards/${dashId}`;\r\n  const request = await axios({\r\n    url: url,\r\n    baseURL: keys.BASE_URL,\r\n    method: 'POST',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": keys.TOKEN,\r\n    },\r\n    data: JSON.stringify({ tiles, layouts, tabs })\r\n  })\r\n  dispatch({\r\n    type: 'SAVE_DASHBOARD',\r\n    payload: request.data\r\n  });\r\n}\r\n\r\nexport const loadDashboard = () => async (dispatch) => {\r\n  let dashId = getParameterByName('dashboardId');\r\n  const assetDefId = getParameterByName('assetDefinitionId');\r\n  const assetId = getParameterByName('assetId');\r\n  if (!dashId) {\r\n    const request = await axios({\r\n      url: `/api/assetDefinitions/${assetDefId}/Dashboards`,\r\n      baseURL: keys.BASE_URL,\r\n      method: 'GET',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": keys.TOKEN\r\n      }\r\n    })\r\n    if(request.data.length !== 0) {\r\n      dashId = request.data[0].dashboardId;\r\n    } else {\r\n      const newDash = {\r\n      \t\"dashboardId\":0,\r\n      \t\"dashboardName\":\"assetdef16dashboard\",\r\n      \t\"systemDefinitionId\":null,\r\n      \t\"assetDefinitionId\":assetDefId,\r\n      \t\"config\":\" \"\r\n      }\r\n      const postNewDash = await axios({\r\n        url: '/api/dashboards',\r\n        baseURL: keys.BASE_URL,\r\n        method: 'POST',\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": keys.TOKEN,\r\n        },\r\n        data: JSON.stringify(newDash)\r\n      });\r\n      dashId = postNewDash[0].dashboardId;\r\n      alert('No dashboard for this asset was found, creating a new one');\r\n      console.log(dashId);\r\n    }\r\n    // add dashboardId parameter\r\n    var newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + `?dashboardId=${dashId}&assetDefinitionId=${assetDefId}&assetId=${assetId}`;\r\n    window.history.pushState({ path: newurl }, '', newurl);\r\n  }\r\n  const request = await axios({\r\n    url: `/api/dashboards/${dashId}`,\r\n    baseURL: keys.BASE_URL,\r\n    method: 'GET',\r\n    headers: {\r\n      \"Content-Type\": \"application/json\",\r\n      \"Authorization\": keys.TOKEN\r\n    }\r\n  });\r\n  dispatch({\r\n    type: 'LOAD_DASHBOARD',\r\n    payload: request\r\n  })\r\n\r\n}\r\n\r\nexport const currentData = () =>  async dispatch => {\r\n  const assetId = getParameterByName('assetId');\r\n  const url = `/api/Assets/${assetId}/currentDataItems`;\r\n  const request = await axios({\r\n    url: url,\r\n    baseURL: keys.BASE_URL,\r\n    method: 'GET',\r\n    headers: {\"Authorization\": keys.TOKEN, \"Content-Type\": 'application/json'}\r\n  });\r\n  dispatch({\r\n    type: 'CURRENT_DATA',\r\n    payload: request\r\n  });\r\n}\r\nexport const attributes = () =>  async dispatch => {\r\n  const assetId = getParameterByName('assetId');\r\n  const url = `/api/assets/${assetId}/attributes`;\r\n  const request = await axios({\r\n    url: url,\r\n    baseURL: keys.BASE_URL,\r\n    method: 'GET',\r\n    headers: {\"Authorization\": keys.TOKEN, \"Content-Type\": 'application/json'}\r\n  });\r\n  dispatch({\r\n    type: 'ATTRIBUTES_DATA',\r\n    payload: request\r\n  });\r\n}\r\nexport const assetData = () => async dispatch => {\r\n  const assetId = getParameterByName('assetId');\r\n  const url = `/api/assets/${assetId}`\r\n  const request = await axios({\r\n    url: url,\r\n    baseURL: keys.BASE_URL,\r\n    method: 'GET',\r\n    headers: {\"Authorization\": keys.TOKEN, \"Content-Type\": \"application/json\"}\r\n  });\r\n  dispatch({\r\n    type: 'ASSET_DATA',\r\n    payload: request\r\n  });\r\n}\r\n\r\nexport const assetDefinitionData = () => async dispatch => {\r\n  const assetDefinitionId = getParameterByName('assetDefinitionId');\r\n  const url = `/api/assetdefinitions/${assetDefinitionId}`\r\n  const request = await axios({\r\n    url: url,\r\n    baseURL: keys.BASE_URL,\r\n    method: 'GET',\r\n    headers: {\"Authorization\": keys.TOKEN, \"Content-Type\": \"application/json\"}\r\n  });\r\n  dispatch({\r\n    type: 'ASSET_DEFINITION_DATA',\r\n    payload: request\r\n  });\r\n}\r\n\r\n//////// UI ACTIONS /////////\r\nexport const toggleViewOnly = () => ({\r\n  type: 'TOGGLE_VIEWONLY'\r\n});\r\n\r\nexport const toggleSidebar = () => ({\r\n  type: 'TOGGLE_SIDEBAR',\r\n})\r\n\r\nexport const toggleModal = (tile) => ({\r\n  type: 'TOGGLE_MODAL',\r\n  tile\r\n})\r\n\r\nexport const resetModal = () => ({\r\n  type: 'RESET_MODAL'\r\n})\r\n\r\n//////// TILE ACTIONS //////////////\r\n\r\nexport const addTile = (properties, activeTab) => {\r\n  const tile = {\r\n    dataGrid: {x: 999, y: 0, w: 2, h: 2},\r\n    properties\r\n  }\r\n  return {\r\n    type: 'ADD_TILE',\r\n    id: guid(),\r\n    tile,\r\n    activeTab\r\n  }\r\n}\r\n\r\nexport const deleteTile = (id, activeTab) => ({\r\n  type: 'DELETE_TILE',\r\n  id,\r\n  activeTab\r\n})\r\n\r\nexport const editTile = (newTile, index) => ({\r\n  type: 'EDIT_TILE',\r\n  newTile,\r\n  index\r\n})\r\n\r\n/////////// LAYOUT ACTIONS ////////////////\r\nexport const saveLayouts = (layouts, tab) => {\r\n  return {\r\n    type: 'SAVE_LAYOUT',\r\n    layouts,\r\n    tab\r\n  }\r\n}\r\n\r\n\r\n/////// TAB ACTIONS ///////////\r\nexport const addTab = (tab) => {\r\n  return {\r\n    type: 'ADD_TAB',\r\n    tab\r\n  }\r\n}\r\n\r\nexport const editTab = (tab, name) => {\r\n  return {\r\n    type: 'EDIT_TAB',\r\n    tab,\r\n    name\r\n  }\r\n}\r\n\r\nexport const deleteTab = (index) => {\r\n  return {\r\n    type: 'DELETE_TAB',\r\n    index\r\n  }\r\n}\r\n\r\nexport const changeTab = (tab) => {\r\n  return {\r\n    type: 'CHANGE_TAB',\r\n    tab\r\n  }\r\n}\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { getParameterByName } from '../util';\r\nimport * as actions from '../actions';\r\nimport { FiMenu } from 'react-icons/fi';\r\nimport { Checkbox } from 'primereact/checkbox';\r\n\r\nfunction Navbar(props) {\r\n\tconst { toggleSidebar, toggleViewOnly, ui } = props;\r\n\tconst { asset, assetDef } = props.data;\r\n\tconst viewOnly = ui.viewOnly ? 'none' : ''\r\n\tconst show = window.innerWidth > 600 ? 'block' : 'none';\r\n\tconst name = asset && assetDef ?\r\n\t getParameterByName('mode') === 'builder' ? assetDef.assetDefinitionName : asset.assetAlias\r\n\t : '';\r\n\treturn (\r\n\t\t<nav className=\"navbar\">\r\n\t\t\t<div className='navbar-menu navbar-section' onClick={toggleSidebar} style={{cursor:'pointer'}} >\r\n\t\t\t\t<FiMenu style={{display: viewOnly, height:'1.75rem'}} className='navbar-menu-icon' size={'1.75rem'} />\r\n\t\t\t</div>\r\n\t\t\t<div className='navbar-section'>\r\n\t\t\t\t<Checkbox\r\n\t\t\t\t\tstyle={{marginTop:'.2rem', marginLeft:'1.5rem', borderRadius: '4px', backgroundColor:'#444 '}}\r\n\t\t\t\t\ttitle='Click to toggle'\r\n\t\t\t\t\tclassName=''\r\n\t\t\t\t\tname='viewOnly'\r\n\t\t\t\t\tchecked={ui.viewOnly}\r\n\t\t\t\t\tonChange={toggleViewOnly}\r\n\t\t\t\t/>\r\n\t\t\t\t<label\r\n\t\t\t\t\tstyle={{color:'white', fontSize: '.75rem', marginLeft:'.5rem', }}\r\n\t\t\t\t\ttitle='Click checkbox to toggle'\r\n\t\t\t\t\thtmlFor=\"viewOnly\"\r\n\t\t\t\t\tclassName=\"p-checkbox-label navbar-checkbox-label\"\r\n\t\t\t\t>View only mode\r\n\t\t\t\t</label>\r\n\t\t\t</div>\r\n\t\t\t<h1 style={{margin: 0, marginLeft: '1rem'}} className=\"navbar-asset\">{`${name}`}</h1>\r\n\t\t<h1 style={{display: show}} className=\"navbar-brand navbar-section\">Lime Cloud</h1>\r\n\t\t<div  className='navbar-section' style={{marginLeft:'auto', display: show}}>\r\n\t\t\t<ul style={{listStyle: 'none', margin: 0}}>\r\n\t\t\t\t<li className='navbar-navitem'><a href='/assets/list.shtml'>Assets</a></li>\r\n\t\t\t\t<li className='navbar-navitem'><a href='/assetdefinitions/index.shtml'>Asset Definitions</a></li>\r\n\t\t\t</ul>\r\n\t\t</div>\r\n\t\t</nav>\r\n\t)\r\n}\r\n\r\nfunction mapStateToProps({ ui, data }) {\r\n\treturn { ui, data }\r\n}\r\n\r\nexport default connect(mapStateToProps,actions)(Navbar);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { ColorPicker } from 'primereact/colorpicker';\r\n\r\nclass GaugeForm extends Component {\r\n  state = {\r\n    dataItem: null,\r\n    name: '',\r\n    min : '',\r\n    max: '',\r\n    unit: '',\r\n    band1: null,\r\n    band1End: '',\r\n    band2End: '',\r\n    band2: null,\r\n    band3: null\r\n  }\r\n\r\n  dataItems = this.props.data.dataItems;\r\n\r\n  componentDidMount() {\r\n    // populates fields when editing\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const { dataItem, name, min, max, unit, band1, band1End, band2, band2End, band3 } = tile.properties;\r\n      const newDi = this.dataItems.filter((di) => di.label === dataItem.label);\r\n      this.setState({\r\n        dataItems: this.dataItems,\r\n        dataItem: newDi[0],\r\n        name,\r\n        min,\r\n        max,\r\n        unit,\r\n        band1,\r\n        band1End,\r\n        band2,\r\n        band2End,\r\n        band3\r\n      })\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    this.setState({[e.target.name]: e.target.value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { name, dataItem, min, max, unit, band1, band1End, band2, band2End, band3 } = this.state;\r\n    const { dataItems } = this;\r\n    return (\r\n      <div className='component-form'>\r\n          <Dropdown\r\n            style={{width:'100%'}}\r\n            optionLabel={'label'}\r\n            name='dataItem'\r\n            value={dataItem}\r\n            onChange={this.handleChange}\r\n            options={dataItems}\r\n            placeholder='Select a data item'\r\n            filter={true}\r\n            required={true}\r\n          />\r\n        <span className='p-float-label'>\r\n          <InputText\r\n            value={name}\r\n            type='text'\r\n            onChange={this.handleChange}\r\n            name='name'\r\n          />\r\n          <label htmlFor='name'>Title</label>\r\n        </span>\r\n        <span className='p-float-label'>\r\n          <InputText\r\n            value={unit}\r\n            type='text'\r\n            onChange={this.handleChange}\r\n            name='unit'\r\n          />\r\n          <label htmlFor='unit'>Unit</label>\r\n        </span>\r\n        <span className='p-float-label'>\r\n          <InputText\r\n            value={min}\r\n            type='number'\r\n            onChange={this.handleChange}\r\n            name='min'\r\n            required\r\n          />\r\n          <label htmlFor='min'>Min*</label>\r\n        </span>\r\n        <span className='p-float-label'>\r\n          <InputText\r\n            value={max}\r\n            type='number'\r\n            onChange={this.handleChange}\r\n            name='max'\r\n            required\r\n          />\r\n          <label htmlFor='max'>Max*</label>\r\n        </span>\r\n\r\n        <div className='color-picker' style={{marginBottom:'.25rem'}} >\r\n          <span className='color-picker-label'>Band 1:</span>\r\n          <ColorPicker\r\n            value={band1}\r\n            name='band1'\r\n            onChange={this.handleChange}\r\n            defaultColor='000000'\r\n          />\r\n        <span className='color-picker-color'>{band1}</span>\r\n        </div>\r\n        <div className='dialgauge-band-lengths'>\r\n          <span className=''>{min === '' ? 'min to ' : `${min} to `}</span>\r\n          <InputText\r\n            value={band1End}\r\n            style={{width:'50%'}}\r\n            type='number'\r\n            onChange={this.handleChange}\r\n            name='band1End'\r\n            placeholder='Band 1 End*'\r\n            required\r\n          />\r\n        </div>\r\n        <div className='color-picker' style={{marginBottom:'.25rem'}}>\r\n        <span className='color-picker-label'>Band 2:</span>\r\n        <ColorPicker\r\n          value={band2}\r\n          name='band2'\r\n          onChange={this.handleChange}\r\n          defaultColor='000000'\r\n        />\r\n      <span className='color-picker-color'>{band2}</span>\r\n        </div>\r\n        <div className='dialgauge-band-lengths'>\r\n          <span className=''>{band1End === '' ? 'Band 1 End to ' : `${band1End} to `}</span>\r\n              <InputText\r\n                value={band2End}\r\n                style={{width:'50%'}}\r\n                type='number'\r\n                onChange={this.handleChange}\r\n                name='band2End'\r\n                placeholder='Band 2 End*'\r\n                required\r\n              />\r\n        </div>\r\n        <div className='color-picker' style={{marginBottom:'.25rem'}}>\r\n          <span className='color-picker-label'>Band 3:</span>\r\n          <ColorPicker\r\n            value={band3}\r\n            name='band3'\r\n            onChange={this.handleChange}\r\n            defaultColor='000000'\r\n          />\r\n        <span className='color-picker-color'>{band3}</span>\r\n        </div>\r\n        <div className='dialgauge-band-lengths'>\r\n          <span className=''>{band2End === '' ? 'Band 2 End to ' : `${band2End} to `}</span>\r\n          <span className=''> {max === '' ? 'max' : max} </span>\r\n        </div>\r\n        <p style={{fontSize: '12px', marginTop: 0, marginBottom: '.5rem'}}>\r\n          {'Band colors will default if not specifically selected'}\r\n        </p>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data, ui}) {\r\n  return {data, ui}\r\n}\r\n\r\nexport default connect(mapStateToProps)(GaugeForm);\r\n\r\n// <span className='color-picker-color'>{band3}</span>\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { SelectButton } from 'primereact/selectbutton';\r\nimport { Calendar } from 'primereact/calendar';\r\nimport { Checkbox } from 'primereact/checkbox';\r\n\r\nconst times = [\r\n  {label: '5 minutes ago', value: 'five'},\r\n  {label: '10 minutes ago', value: 'ten'},\r\n  {label: 'half hour ago', value: 'halfhour'},\r\n  {label: '1 hour ago', value: 'hour'}\r\n];\r\n\r\nconst selectOptions = [\r\n  {label: 'Live', value: 'live'},\r\n  {label: 'Fixed', value: 'fixed'}\r\n];\r\n\r\nclass LiveDataGraphForm extends Component {\r\n  state = { //form fields\r\n    dataItems: null,\r\n    title: '',\r\n    yaxis: '',\r\n    liveStart: '',\r\n    fixedStart:'',\r\n    end: '',\r\n    timeType: 'live',\r\n    legend: true\r\n  }\r\n\r\n  dataItems = this.props.data.dataItems;\r\n\r\n  componentDidMount() {\r\n    // populates fields when editing\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const { title, yaxis, dataItems, liveStart, fixedStart, end, timeType, legend } = tile.properties;\r\n      const newDis = dataItems ? dataItems.map((di) => {\r\n        return this.dataItems.find((el) => {\r\n          return el.label === di.label\r\n        });\r\n      }) : null\r\n      this.setState({\r\n        title,\r\n        yaxis,\r\n        dataItems: newDis,\r\n        liveStart,\r\n        fixedStart,\r\n        end,\r\n        timeType,\r\n        legend\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const { addData } = this.props;\r\n    const value = e.target.checked ? e.target.checked : e.target.value;\r\n    this.setState({[e.target.name]: value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  renderTimeSelection = () => {\r\n    const { timeType, liveStart, fixedStart, end } = this.state;\r\n    if(timeType === 'live') {\r\n      return (<>\r\n        <Dropdown\r\n          style={{width:'100%'}}\r\n          name='liveStart'\r\n          value={liveStart}\r\n          onChange={this.handleChange}\r\n          options={times}\r\n          placeholder='Select a start time'\r\n        />\r\n      < />)\r\n    } else if (timeType === 'fixed') {\r\n      return (\r\n        < >\r\n        <span className='p-float-label'>\r\n          <Calendar\r\n            className='calendar'\r\n            value={fixedStart}\r\n            name='fixedStart'\r\n            onChange={this.handleChange}\r\n            showTime={true}\r\n            showButtonBar\r\n          />\r\n        <label htmlFor='fixedStart'>Start Time</label>\r\n        </span>\r\n        <span className='p-float-label'>\r\n          <Calendar\r\n            className='calendar'\r\n            value={end}\r\n            name='end'\r\n            onChange={this.handleChange}\r\n            showTime={true}\r\n            showButtonBar\r\n          />\r\n        <label htmlFor='end'>End Time</label>\r\n          </span>\r\n        </>\r\n      )\r\n    } else {\r\n      return <div>Something went wrong</div>\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { title, yaxis, dataItems, legend, timeType } = this.state;\r\n    const timeSelection = this.renderTimeSelection();\r\n    return (\r\n      <section className='component-form'>\r\n        <label>Time Type: </label>\r\n        <SelectButton\r\n          value={timeType}\r\n          name='timeType'\r\n          options={selectOptions}\r\n          onChange={this.handleChange}\r\n        />\r\n        {timeSelection}\r\n        <MultiSelect\r\n          name='dataItems'\r\n          value={dataItems}\r\n          options={this.dataItems}\r\n          optionLabel='label'\r\n          onChange={this.handleChange}\r\n          placeholder='Choose data items'\r\n          filter\r\n          required\r\n        />\r\n      <span className='p-float-label'>\r\n        <InputText\r\n          value={title}\r\n          type='text'\r\n          onChange={this.handleChange}\r\n          name='title'\r\n        />\r\n      <label htmlFor='title'>Title</label>\r\n      </span>\r\n      <span className='p-float-label'>\r\n        <InputText\r\n          value={yaxis}\r\n          type='text'\r\n          onChange={this.handleChange}\r\n          name='yaxis'\r\n        />\r\n      <label htmlFor='yaxis'>Y-Axis Label</label>\r\n      </span>\r\n      <Checkbox checked={legend} onChange={this.handleChange} name='legend' />\r\n      <label htmlFor='legend' className='p-checkbox-label'>Display Legend</label>\r\n      </section >\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data, ui}) {\r\n  return {data, ui}\r\n}\r\n\r\nexport default connect(mapStateToProps)(LiveDataGraphForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Editor } from 'primereact/editor';\r\nimport {Accordion,AccordionTab} from 'primereact/accordion';\r\nimport {PanelMenu} from 'primereact/panelmenu';\r\n\r\n// import '../../../node_modules/quill/dist/quill.core.css';\r\n// import '../../../node_modules/quill/dist/quill.bubble.css';\r\n// import '../../../node_modules/quill/dist/quill.snow.css';\r\n\r\n\r\nclass TextBoxForm extends Component {\r\n  state = {\r\n    text: this.props.ui.modal.tile ? this.props.ui.modal.tile.properties.text : '',\r\n    edit: false,\r\n    items:[]\r\n  }\r\n  componentDidMount() {\r\n    const displayData=this.props.data;\r\n    this.setState({items:[\r\n      {\r\n        label:'Data Items',\r\n        items:displayData.dataItems.map((di)=>{\r\n          return {\r\n            label:di.label,\r\n            items:[{\r\n              label:\"Label\",\r\n              command:()=>{\r\n                this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].label}`)\r\n              }\r\n            },\r\n            {\r\n              label:\"Value\",\r\n              command:()=>{\r\n                this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].value}`)\r\n              }\r\n            }\r\n            ,\r\n            {\r\n              label:\"Timestamp\",\r\n              command:()=>{\r\n                this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].timestamp}`)\r\n              }\r\n            }\r\n            ,\r\n            {\r\n              label:\"Unit\",\r\n              command:()=>{\r\n                this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].unit}`)\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      })\r\n      },\r\n      {\r\n        label:'Attributes',\r\n        items:displayData.attributes.map((att)=>{\r\n          return {\r\n            label:att.attributeName,\r\n            items:[{\r\n              label:\"Name\",\r\n              command:()=>{\r\n                this.addText(`\\${data.attributesObject['${att.attributeName}'].attributeName}`)\r\n              }\r\n            },\r\n            {\r\n              label:\"Value\",\r\n              command:()=>{\r\n                this.addText(`\\${data.attributesObject['${att.attributeName}'].attributeValue}`)\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      })\r\n      }\r\n    ]\r\n    })\r\n    // populates fields when editing\r\n    //const { tile } = this.props.ui.modal;\r\n    // if(tile) {\r\n    //   const { text } = tile.properties;\r\n    //   this.setState({text, edit:true});\r\n    // }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    \r\n    const {addData} = this.props;\r\n    this.setState({text: e.htmlValue}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n  addText = (string) => {\r\n    const { text } = this.state;\r\n    this.setState({text: text + string}, () =>{\r\n    });\r\n  }\r\n  render () {\r\n    const { text, edit } = this.state;\r\n    //const dataItems = \r\n    // const dis = this.props.data.dataItems.map((di)=>{\r\n    //   return (\r\n    //   <AccordionTab header={di.label}>\r\n    //   <ul>\r\n    //    <li \r\n    //       key={di.dataItemId} \r\n    //       onClick={()=>{this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].label}`)}}>\r\n    //       Label\r\n    //     </li>\r\n    //     <li \r\n    //       key={di.dataItemId} \r\n    //       onClick={()=>{this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].value}`)}}>\r\n    //       Value\r\n    //     </li>\r\n    //     <li \r\n    //       key={di.dataItemId} \r\n    //       onClick={()=>{this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].unit}`)}}>\r\n    //       Unit\r\n    //     </li>\r\n    //     <li \r\n    //       key={di.dataItemId} \r\n    //       onClick={()=>{this.addText(`\\${data.dataItemsObject['${di.dataItemId}'].timestamp}`)}}>\r\n    //       Timestamp\r\n    //     </li>\r\n    //   </ul>\r\n    //   </AccordionTab>\r\n    //   )\r\n    // })\r\n    // const attributes = []\r\n    // const att = this.props.data.attributes.map((att)=>{\r\n    //   return (\r\n    //     <AccordionTab header={att.attributeName}>\r\n    //     <ul>\r\n    //      <li \r\n    //         onClick={()=>{this.addText(`\\${data.attributesObject['${att.attributeName}'].attributeName}`)}}>\r\n    //         Name\r\n    //       </li>\r\n    //       <li \r\n    //         onClick={()=>{this.addText(`\\${data.attributesObject['${att.attributeName}'].attributeValue}`)}}>\r\n    //         Value\r\n    //       </li>\r\n    //     </ul>\r\n    //     </AccordionTab>\r\n    //     )\r\n    //   })\r\n    // const substitutions = [\r\n    //   <AccordionTab header=\"Time\">\r\n    //   <li onClick={()=>{this.addText(\"${this.state.time}\")}}>Current Time</li>,\r\n    //   <li>Current Date</li>\r\n    //   </AccordionTab>,\r\n    //   <AccordionTab header=\"Data Items\">\r\n    //   <Accordion>{dis}</Accordion>\r\n    // </AccordionTab>,\r\n    // <AccordionTab header=\"Attributes\">\r\n    //   <Accordion>{att}</Accordion>\r\n    // </AccordionTab>\r\n    //   //<li><ul>{attributes}</ul></li>,\r\n    // ]\r\n    return (\r\n      <section className='component-form' >\r\n        <Editor\r\n          style={{display:'inline-block',}}\r\n          name='text'\r\n          value={text}\r\n          onTextChange={this.handleChange}\r\n          placeholder='Your text here'\r\n        />\r\n      {edit && <p style={{marginTop:0}}>Note: Text in the editior can only be overwritten, not edited.</p>}\r\n      <PanelMenu model={this.state.items} style={{height:'200px',overflow:'scroll'}}/>\r\n      {/* <Accordion style = {{height:\"350px\",overflow:\"scroll\",display:'inline-block'}}>\r\n        {substitutions}\r\n      </Accordion> */}\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ui,data}) {\r\n  return {ui,data}\r\n}\r\nexport default connect(mapStateToProps)(TextBoxForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { FiX } from 'react-icons/fi';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Button } from 'primereact/button';\r\nimport { ColorPicker } from 'primereact/colorpicker';\r\n\r\n\r\n\r\nclass MultiAxesConfig extends Component {\r\n  state = {\r\n    axes: [\r\n      {\r\n        label: 'yaxis0',\r\n        min: '',\r\n        max: '',\r\n      }\r\n    ],\r\n    series: [\r\n      {\r\n        dataItem: null,\r\n        axis: null,\r\n        color: ''\r\n      }\r\n    ]\r\n  }\r\n  dataItems = this.props.data.dataItems\r\n\r\n  componentDidMount() {\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const {axes, series } = tile.properties;\r\n      const newDis = series.map((series) => {\r\n        return this.dataItems.find((el) => {\r\n          if(series.dataItem) {\r\n            return el.label === series.dataItem.label;\r\n          }\r\n        });\r\n      });\r\n      const newSeries = series.map((series, i) => {\r\n        return {\r\n          axis: series.axis,\r\n          dataItem: newDis[i],\r\n          color: series.color\r\n        }\r\n      })\r\n      if(series.length !== 0) {\r\n        this.setState({series: newSeries});\r\n      }\r\n      if(axes.length !== 0) {\r\n        this.setState({axes});\r\n      }\r\n    }\r\n  }\r\n\r\n  handleChange = (e, i, type) => {\r\n    if(type === 'axis') {\r\n      const axes = [...this.state.axes];\r\n      axes[i][e.target.name] = e.target.value;\r\n      this.setState({axes});\r\n    } else if (type === 'series') {\r\n      const series = [...this.state.series];\r\n      series[i][e.target.name] = e.target.value;\r\n      this.setState({series});\r\n    }\r\n  }\r\n\r\n  addAxis = (e) => {\r\n    e.preventDefault();\r\n    const length = this.state.axes.length;\r\n    this.setState(prevState => ({axes: [\r\n      ...prevState.axes,\r\n      {\r\n        label:`yaxis${length}`,\r\n        min: '',\r\n        max:'',\r\n      }\r\n    ]}))\r\n  }\r\n\r\n  addSeries = (e) => {\r\n    e.preventDefault();\r\n    this.setState(prevState => ({series: [\r\n      ...prevState.series,\r\n      {\r\n        dataItem: '',\r\n        axis: '',\r\n        color: ''\r\n      }\r\n    ]}))\r\n  }\r\n\r\n  renderSeries = (plot, i) => {\r\n    const { series, axes } = this.state;\r\n    return (\r\n      <div key={i}style={{width:'100%', marginBottom:'1rem'}}>\r\n        <Dropdown\r\n          name='dataItem'\r\n          className='multiaxis-form-field'\r\n          style={{width:'30%', marginLeft: '0'}}\r\n          options={this.dataItems}\r\n          optionLabel='label'\r\n          value={series[i].dataItem}\r\n          onChange={(e) => this.handleChange(e, i, 'series')}\r\n          filter\r\n          placeholder='Choose data item'\r\n          required\r\n        />\r\n        <Dropdown\r\n          name='axis'\r\n          className='multiaxis-form-field'\r\n          style={{width:'30%'}}\r\n          options={axes}\r\n          optionLabel='label'\r\n          value={series[i].axis}\r\n          onChange={(e) => this.handleChange(e, i, 'series')}\r\n          filter\r\n          placeholder='Choose Y-Axis'\r\n          required\r\n        />\r\n        <ColorPicker\r\n          name='color'\r\n          className='multiaxis-form-field'\r\n          style={{width:'10%'}}\r\n          value={series[i].color}\r\n          onChange={(e) => this.handleChange(e, i, 'series')}\r\n          defaultColor='000000'\r\n        />\r\n        <span\r\n          className='multiaxis-form-field'\r\n          style={{width: '10%',textAlign: 'center', verticalAlign: 'middle'}}\r\n        >\r\n          <FiX size={'1.5rem'} onClick={(e) => this.handleDelete(e, i, 'series')} style={{cursor:'pointer'}} />\r\n        </span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderAxes = (axis, i) => {\r\n    const { axes } = this.state;\r\n    return (\r\n      <div key={i}style={{width:'100%', marginBottom:'1rem'}}>\r\n        <InputText\r\n          style={{width:'30%', marginLeft: '0'}}\r\n          className='multiaxis-form-field'\r\n          type='text'\r\n          value={axes[i].label}\r\n          onChange={(e) => this.handleChange(e, i, 'axis')}\r\n          name='label'\r\n        />\r\n        <InputText\r\n          className='multiaxis-form-field'\r\n          name='min'\r\n          style={{width:'20%'}}\r\n          value={axes[i].min}\r\n          onChange={(e) => this.handleChange(e, i, 'axis')}\r\n          placeholder='min'\r\n          type='number'\r\n        />\r\n        <InputText\r\n          className='multiaxis-form-field'\r\n          name='max'\r\n          style={{width:'20%'}}\r\n          value={axes[i].max}\r\n          onChange={(e) => this.handleChange(e, i, 'axis')}\r\n          placeholder='max'\r\n          type='number'\r\n        />\r\n        <span\r\n          className='multiaxis-form-field'\r\n          style={{width: '10%',textAlign: 'center', verticalAlign: 'middle'}}\r\n        >\r\n          <FiX size={'1.5rem'} onClick={(e) => this.handleDelete(e, i, 'axis')} style={{cursor:'pointer'}} />\r\n        </span>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleDelete = (e, index, type) => {\r\n    const { axes, series } = this.state;\r\n    if(type === 'axis') {\r\n      this.setState({axes: axes.filter((axis, i) => i !== index)})\r\n    } else if(type === 'series') {\r\n      this.setState({series: series.filter((series, i) => i !== index)})\r\n    }\r\n  }\r\n\r\n\r\n\r\n  render () {\r\n    const { axes, series } = this.state;\r\n    const { submitModal, closeModal } = this.props;\r\n\r\n    return (<>\r\n      <div style={{marginBottom: '2rem'}}>\r\n        <div style={{marginBottom: '1rem'}}>\r\n          <span className='multiaxis-form-header' style={{width:'30%', marginLeft:'0'}}>Label</span>\r\n          <span className='multiaxis-form-header' style={{width:'20%'}}>Minimum</span>\r\n          <span className='multiaxis-form-header' style={{width:'20%'}}>Maximum</span>\r\n          <span className='multiaxis-form-header' >Delete</span>\r\n        </div>\r\n        {axes.map(this.renderAxes)}\r\n        <Button label=\"Add Axis\" onClick={this.addAxis} style={{marginRight: '1rem'}}/>\r\n        <span>Note: If no min/max is specified the axis will autoscale.</span>\r\n      </div>\r\n\r\n      <div>\r\n        <div style={{marginBottom: '1rem'}}>\r\n          <span className='multiaxis-form-header' style={{width:'30%', marginLeft:'0'}}>Data Item</span>\r\n          <span className='multiaxis-form-header' style={{width:'30%'}}>Y Axis</span>\r\n          <span className='multiaxis-form-header' style={{width:'10%'}}>Color</span>\r\n          <span className='multiaxis-form-header' >Delete</span>\r\n        </div>\r\n        {series.map(this.renderSeries)}\r\n      <Button style={{marginRight: '1rem'}} label=\"Add Series\" onClick={this.addSeries} />\r\n      <span>Note: Color will default if none specifically selected.</span>\r\n      </div>\r\n      <div className='modal-footer'>\r\n        <Button label=\"Submit\" icon=\"pi pi-check\" onClick={(e) => submitModal(e, axes, series)} />\r\n        <Button label=\"Close\" icon=\"pi pi-times\" onClick={closeModal} style={{marginLeft:'1rem', background: '#e53935', border: '1px solid #e53935'}} />\r\n      </div>\r\n    </>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ data, ui }) {\r\n  return { data, ui };\r\n}\r\n\r\nexport default connect(mapStateToProps)(MultiAxesConfig);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Checkbox } from 'primereact/checkbox';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { Button } from 'primereact/button';\r\nimport { Calendar } from 'primereact/calendar';\r\nimport { SelectButton } from 'primereact/selectbutton';\r\nimport MultiAxesConfig from './MultiAxesConfig';\r\n\r\nconst times = [\r\n  {label: '5 minutes ago', value: 'five'},\r\n  {label: '10 minutes ago', value: 'ten'},\r\n  {label: 'half hour ago', value: 'halfhour'},\r\n  {label: '1 hour ago', value: 'hour'}\r\n];\r\n\r\nconst selectOptions = [\r\n  {label: 'Live', value: 'live'},\r\n  {label: 'Fixed', value: 'fixed'}\r\n];\r\n\r\nclass MultiAxesLiveForm extends Component {\r\n  state = { //form fields\r\n    series: [],\r\n    title: '',\r\n    axes: [],\r\n    liveStart: '',\r\n    fixedStart:'',\r\n    timeType: 'live',\r\n    end: '',\r\n    legend: true,\r\n    visible: false\r\n  }\r\n\r\n  dataItems = this.props.data.dataItems;\r\n  editPos = {}\r\n  componentDidMount() {\r\n    // populates fields when editing\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      this.editPos = {top:'-75%', left:'-220%', width: '200vh'}\r\n      const { title, axes, series, liveStart, fixedStart, timeType, end, legend } = tile.properties;\r\n      this.setState({\r\n        title,\r\n        axes,\r\n        series,\r\n        liveStart,\r\n        fixedStart: new Date(fixedStart),\r\n        end: new Date(end),\r\n        timeType,\r\n        legend\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    const value = e.target.checked ? e.target.checked : e.target.value;\r\n    this.setState({[e.target.name]: value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  openModal = (e) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    this.setState({visible: true})\r\n  }\r\n\r\n  closeModal = (e) => {\r\n    e.stopPropagation();\r\n    e.preventDefault();\r\n    this.setState({visible: false})\r\n  }\r\n\r\n  submitModal = (e, axes, series) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    this.setState({axes, series, visible: false}, () => {\r\n        addData(this.state);\r\n    });\r\n  }\r\n\r\n  renderTimeSelection = () => {\r\n    const { timeType, liveStart, fixedStart, end } = this.state;\r\n    if(timeType === 'live') {\r\n      return (\r\n        <Dropdown\r\n          style={{width:'100%'}}\r\n          name='liveStart'\r\n          value={liveStart}\r\n          onChange={this.handleChange}\r\n          options={times}\r\n          placeholder='Select a start time'\r\n        />\r\n      )\r\n    } else if (timeType === 'fixed') {\r\n      return (\r\n        < >\r\n          <span className='p-float-label'>\r\n            <Calendar\r\n              className='calendar'\r\n              value={fixedStart}\r\n              name='fixedStart'\r\n              onChange={this.handleChange}\r\n              showTime={true}\r\n              showButtonBar\r\n            />\r\n            <label htmlFor='fixedStart'>Start Time</label>\r\n          </span>\r\n          <span className='p-float-label'>\r\n            <Calendar\r\n              className='calendar'\r\n              value={end}\r\n              name='end'\r\n              onChange={this.handleChange}\r\n              showTime={true}\r\n              showButtonBar\r\n            />\r\n            <label htmlFor='end'>End Time</label>\r\n          </span>\r\n        </>\r\n      )\r\n    } else {\r\n      return <div>Something went wrong</div>\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { title, timeType, legend, series, axes } = this.state;\r\n    const timeSelection = this.renderTimeSelection();\r\n    const showHideClassName = `${this.state.visible ? 'modal-show' : 'modal-hide'}`;\r\n\r\n    return (<>\r\n      <section className='component-form' >\r\n        <label>Time Type: </label>\r\n        <SelectButton\r\n          value={timeType}\r\n          name='timeType'\r\n          options={selectOptions}\r\n          onChange={this.handleChange}\r\n        />\r\n        {timeSelection}\r\n        <span className='p-float-label'>\r\n          <InputText\r\n            value={title}\r\n            type='text'\r\n            onChange={this.handleChange}\r\n            name='title'\r\n          />\r\n          <label htmlFor='title'>Title</label>\r\n        </span>\r\n        <div>\r\n          <Checkbox checked={legend} onChange={this.handleChange} name='legend' />\r\n          <label htmlFor='legend' className='p-checkbox-label'>Display Legend</label>\r\n        </div>\r\n        <Button  style={{marginBottom:'1rem'}} onClick={this.openModal} label='Graph Config' />\r\n      </section >\r\n      <div className={`background ${showHideClassName}`} style={this.editPos}>\r\n        <section className={`tab-modal `} style={{position: 'absolute', width: '600px'}} >\r\n          <div className='modal-main'>\r\n            <h1 className='tab-modal-header'>Axis and Plot Config:</h1>\r\n            <MultiAxesConfig submitModal={this.submitModal} closeModal={this.closeModal} series={series} axes={axes} />\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data, ui}) {\r\n  return {data, ui}\r\n}\r\n\r\nexport default connect(mapStateToProps)(MultiAxesLiveForm);\r\n\r\n//  <div className={`background ${showHideClassName}`} style={this.editPos}> </div>\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Dropdown } from 'primereact/dropdown'\r\n\r\nconst tableOptions = [\r\n  {label:'DataItems', value:'dataItems'},\r\n  {label:'Files', value:'files'},\r\n  {label:'Alarms', value:'alarms'},\r\n  {label:'Events', value:'events'},\r\n]\r\n\r\nclass TableForm extends Component {\r\n  state = {\r\n    option: ''\r\n  }\r\n\r\n  dataItems = this.props.data.dataItems;\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    const value = e.target.value ? e.target.value : e.target.checked;\r\n    this.setState({[e.target.name]: value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  render () {\r\n    const { option } = this.state;\r\n    return (\r\n      <section className='component-form'>\r\n        <Dropdown\r\n          style={{width:'100%'}}\r\n          name='option'\r\n          value={option}\r\n          options={tableOptions}\r\n          optionLabel='label'\r\n          onChange={this.handleChange}\r\n          placeholder='Choose Table Type'\r\n          required\r\n          filter\r\n        />\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data}) {\r\n  return {data};\r\n}\r\n\r\nexport default connect(mapStateToProps)(TableForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\n\r\nclass CustomTableForm extends Component {\r\n  state = {\r\n    url: '',\r\n    columns: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const { url, columns } = tile.properties;\r\n      this.setState({\r\n        url,\r\n        columns\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    const value = e.target.value ? e.target.value : e.target.checked;\r\n    this.setState({[e.target.name]: value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <section className='component-form'>\r\n        <InputText\r\n          value={this.state.url}\r\n          onChange={this.handleChange}\r\n          placeholder='Data Source eg. /api/...'\r\n          name='url'\r\n        />\r\n        <InputTextarea\r\n          rows={15}\r\n          columns={50}\r\n          value={this.state.columns}\r\n          onChange={this.handleChange}\r\n          placeholder='Columns: must be in the following format exactly, [{\"header\": \"\", \"field\":\"\"}, {...}, etc].\r\n            To make custom cells, add a \"body\" field to the column object. The field value must be a function that takes a data arguemnt and returns a string of valid html. Opening tags must also have a \"^\" after the tag name. Example, \"body\": () => {return \"<a^ href=\"mylink.com\" >data.field</a> (data)'\r\n          name='columns'\r\n        />\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ data, ui }) {\r\n  return { data, ui };\r\n}\r\n\r\nexport default connect(mapStateToProps)(CustomTableForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { Checkbox } from 'primereact/checkbox';\r\n\r\nclass MapForm extends Component {\r\n  state = {\r\n    showAll: false\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const { showAll } = tile.properties;\r\n      this.setState({\r\n        showAll\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    const value = e.target.checked ? e.target.checked : e.target.value;\r\n    this.setState({[e.target.name]: value}, () => {\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  render () {\r\n    const { showAll } = this.state;\r\n    return (\r\n      <section className='component-form'>\r\n        <Checkbox checked={showAll} onChange={this.handleChange} name='showAll' />\r\n        <label htmlFor='showAll' className='p-checkbox-label'>Show All Assets</label>\r\n      </section>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ui}) {\r\n  return {ui}\r\n}\r\n\r\nexport default connect(mapStateToProps)(MapForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { ColorPicker } from 'primereact/colorpicker';\r\n\r\nclass CylinderGaugeForm extends Component {\r\n  state = {\r\n    dataItem: null,\r\n    min : '',\r\n    max: '',\r\n    unit: '',\r\n    fillColor: ''\r\n  }\r\n\r\n  dataItems = this.props.data.dataItems;\r\n\r\n  componentDidMount() {\r\n    // populates fields when editing\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const { dataItem, name, min, max, unit, band1, band2, band3 } = tile.properties;\r\n      const newDi = this.dataItems.filter((di) => di.label === dataItem.label);\r\n      this.setState({\r\n        dataItems: this.dataItems,\r\n        dataItem: newDi[0],\r\n        name,\r\n        min,\r\n        max,\r\n        unit,\r\n        band1,\r\n        band2,\r\n        band3\r\n      })\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    this.setState({[e.target.name]: e.target.value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { dataItem, max, unit, fillColor } = this.state;\r\n    const { dataItems } = this;\r\n    return (\r\n      <div className='component-form'>\r\n        <Dropdown\r\n          style={{width:'100%'}}\r\n          optionLabel={'label'}\r\n          name='dataItem'\r\n          value={dataItem}\r\n          onChange={this.handleChange}\r\n          options={dataItems}\r\n          placeholder='Select a data item'\r\n          filter={true}\r\n          required\r\n        />\r\n      <span className='p-float-label'>\r\n        <InputText\r\n          value={max}\r\n          type='number'\r\n          onChange={this.handleChange}\r\n          name='max'\r\n          required\r\n        />\r\n\r\n      <label htmlFor='max'>Max*</label>\r\n      </span>\r\n      <span className='p-float-label'>\r\n        <InputText\r\n          value={unit}\r\n          type='text'\r\n          onChange={this.handleChange}\r\n          name='unit'\r\n        />\r\n      <label htmlFor='unit'>Unit</label>\r\n        </span>\r\n        <div className='color-picker'>\r\n          <span className='color-picker-label'>Fill Color:</span>\r\n          <ColorPicker\r\n            value={fillColor}\r\n            name='fillColor'\r\n            onChange={this.handleChange}\r\n            defaultColor='000000'\r\n          />\r\n        <span className='color-picker-color'>{fillColor}</span>\r\n        </div>\r\n        <p style={{fontSize: '12px', marginTop: 0}}>\r\n          {'Fill color will default if not specifically selected'}\r\n        </p>\r\n      </div>\r\n\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data, ui}) {\r\n  return {data, ui}\r\n}\r\n\r\nexport default connect(mapStateToProps)(CylinderGaugeForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { MultiSelect } from 'primereact/multiselect';\r\n\r\nclass SolidGaugeForm extends Component {\r\n  state = {\r\n    dataItems: [],\r\n    max: '',\r\n    unit: ''\r\n  }\r\n\r\n  dataItems = this.props.data.dataItems;\r\n\r\n  componentDidMount() {\r\n    // populates fields when editing\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const { dataItems, max } = tile.properties;\r\n      const newDis = dataItems ? dataItems.map((di) => {\r\n        return this.dataItems.find((el) => {\r\n          return el.label === di.label\r\n        });\r\n      }) : null\r\n      this.setState({\r\n        dataItems: newDis,\r\n        max\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const {addData} = this.props;\r\n    this.setState({[e.target.name]: e.target.value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  render() {\r\n    const { dataItems, max, unit } = this.state;\r\n    return (\r\n      <div className='component-form'>\r\n        <MultiSelect\r\n          name='dataItems'\r\n          value={dataItems}\r\n          options={this.dataItems}\r\n          optionLabel='label'\r\n          onChange={this.handleChange}\r\n          placeholder='Choose data items'\r\n          filter\r\n          required\r\n        />\r\n        <span className='p-float-label'>\r\n        <InputText\r\n          value={max}\r\n          type='number'\r\n          onChange={this.handleChange}\r\n          name='max'\r\n        />\r\n      <label htmlFor='max'>Max*</label>\r\n        </span>\r\n        <span className='p-float-label'>\r\n        <InputText\r\n          value={unit}\r\n          type='text'\r\n          onChange={this.handleChange}\r\n          name='unit'\r\n        />\r\n        <label htmlFor='unit'>Unit</label>\r\n        </span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data, ui}) {\r\n  return {data, ui}\r\n}\r\n\r\nexport default connect(mapStateToProps)(SolidGaugeForm);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { InputText } from 'primereact/inputtext';\r\n\r\nclass IframeTileForm extends Component {\r\n  state = {\r\n    url: ''\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile) {\r\n      const { url } = tile.properties;\r\n      this.setState({\r\n        url\r\n      });\r\n    }\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    const { addData } = this.props;\r\n    this.setState({[e.target.name]: e.target.value}, () =>{\r\n      addData(this.state);\r\n    });\r\n  }\r\n\r\n  render () {\r\n    const { url } = this.state;\r\n    return (\r\n      <div className='component-form'>\r\n        <span className='p-float-label'>\r\n          <InputText\r\n            style={{width:'100%'}}\r\n            value={url}\r\n            type='text'\r\n            onChange={this.handleChange}\r\n            name='url'\r\n            required\r\n            />\r\n          <label htmlFor='url'>url*</label>\r\n        </span>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ ui }) {\r\n  return { ui }\r\n}\r\n\r\nexport default connect(mapStateToProps)(IframeTileForm);\r\n","import React, { Component} from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { Sidebar as PrimeSidebar } from 'primereact/sidebar';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport * as actions from '../actions';\r\nimport GaugeForm from '../components/forms/GaugeForm';\r\nimport BasicGraphForm from '../components/forms/BasicGraphForm';\r\nimport TextBoxForm from '../components/forms/TextBoxForm';\r\nimport AdvancedGraphForm from '../components/forms/AdvancedGraphForm';\r\nimport TableForm from '../components/forms/TableForm';\r\nimport CustomTableForm from '../components/forms/CustomTableForm';\r\nimport MapForm from '../components/forms/MapForm';\r\nimport CylinderGaugeForm from '../components/forms/CylinderGaugeForm';\r\nimport SolidGaugeForm from '../components/forms/SolidGaugeForm';\r\nimport IframeTileForm from '../components/forms/IframeTileForm';\r\n\r\nconst TileOptions = [\r\n  {\r\n    name: 'Basic Graph',\r\n    form: BasicGraphForm,\r\n    value: 'BasicGraph'\r\n  },\r\n  {\r\n    name: 'Advanced Graph',\r\n    form: AdvancedGraphForm,\r\n    value: 'AdvancedGraph'\r\n  },\r\n  {\r\n    name: 'Dial Gauge',\r\n    form: GaugeForm,\r\n    value: 'Gauge'\r\n  },\r\n  {\r\n    name: 'Cylinder Gauge',\r\n    form: CylinderGaugeForm,\r\n    value: 'CylinderGauge'\r\n  },\r\n  {\r\n    name: 'Solid Gauge',\r\n    form: SolidGaugeForm,\r\n    value: 'SolidGauge'\r\n  },\r\n  {\r\n    name: 'Text/Image',\r\n    form: TextBoxForm,\r\n    value: 'TextBox'\r\n  },\r\n  {\r\n    name: 'Basic Table',\r\n    form: TableForm,\r\n    value: 'Table'\r\n  },\r\n  {\r\n    name: 'Custom Table',\r\n    form: CustomTableForm,\r\n    value: 'CustomTable'\r\n  },\r\n  {\r\n    name: 'Google Map',\r\n    form: MapForm,\r\n    value: 'Map'\r\n  },\r\n  {\r\n    name: 'iframe',\r\n    form: IframeTileForm,\r\n    value: 'IframeTile'\r\n  }\r\n]\r\n\r\nclass SideBar extends Component {\r\n  state = {\r\n      properties: {type: null},\r\n  } //form data\r\n\r\n  // validate = () => {\r\n  //   if (this.form.current.reportValidity()) {\r\n  //     this.setState({valid:true});\r\n  //   } else {\r\n  //     this.setState({valid:false});\r\n  //   }\r\n  // }\r\n\r\n  handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n    const { activeTab } = this.props;\r\n    const properties = this.state.properties;\r\n    this.props.addTile(properties, activeTab);\r\n    this.setState({properties: {type: null}});\r\n  }\r\n\r\n  handleSave = () => {\r\n    const {tiles, layouts, tabs} = this.props;\r\n    this.props.saveDashboard(tiles, layouts, tabs)\r\n    .then(() => alert('Dashboard has been saved!'));\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    this.setState({properties: {[e.target.name]: e.value}, valid: true});\r\n  }\r\n\r\n  handleData = (formData) => {\r\n    this.setState({properties:{...this.state.properties, ...formData}})\r\n  }\r\n\r\n  renderForm = () => {\r\n    const { type } = this.state.properties;\r\n    if(type) {\r\n      const Form = type.form;\r\n      return <Form addData={this.handleData} />\r\n    }\r\n    return <div style={{marginBottom: '0'}}></div>\r\n  }\r\n\r\n  render () {\r\n    //const { valid } = this.state;\r\n    const { ui, toggleSidebar } = this.props;\r\n    return (\r\n      <PrimeSidebar\r\n        className={'side'}\r\n        visible={ui.sidebar}\r\n        onHide={toggleSidebar}\r\n        style={{border: '1px solid #595959'}}\r\n      >\r\n        <section style={{paddingTop: '2rem'}}>\r\n          <div>\r\n            <Button className='p-button-raised' onClick={this.handleSave} label={'Save Dashboard'}/>\r\n          </div>\r\n          <form onSubmit={this.handleFormSubmit} className='sidebar-form' >\r\n            <Dropdown\r\n              options={TileOptions}\r\n              style={{width:'100%'}}\r\n              value={this.state.properties.type}\r\n              onChange={this.handleChange}\r\n              name='type'\r\n              placeholder='Select Tile Type'\r\n              optionLabel='name'\r\n            />\r\n            {this.renderForm()}\r\n            <div>\r\n              <Button label={'Add Tile'} type='submit'/>\r\n            </div>\r\n          </form>\r\n        </section>\r\n      </PrimeSidebar>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ tiles, layouts, tabs, activeTab, ui }) {\r\n  return { tiles, layouts, tabs, activeTab, ui }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(SideBar);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from '../actions';\r\nimport { Button } from 'primereact/button';\r\nimport GaugeForm from '../components/forms/GaugeForm';\r\nimport CylinderGaugeForm from '../components/forms/CylinderGaugeForm';\r\nimport SolidGaugeForm from '../components/forms/SolidGaugeForm';\r\nimport BasicGraphForm from '../components/forms/BasicGraphForm';\r\nimport TextBoxForm from '../components/forms/TextBoxForm';\r\nimport AdvancedGraphForm from '../components/forms/AdvancedGraphForm';\r\nimport MapForm from '../components/forms/MapForm';\r\nimport TableForm from '../components/forms/TableForm';\r\nimport CustomTableForm from '../components/forms/CustomTableForm';\r\nimport IframeTileForm from '../components/forms/IframeTileForm';\r\n\r\nconst forms = {\r\n  Gauge: GaugeForm,\r\n  CylinderGauge: CylinderGaugeForm,\r\n  SolidGauge: SolidGaugeForm,\r\n  BasicGraph: BasicGraphForm,\r\n  TextBox: TextBoxForm,\r\n  Map: MapForm,\r\n  AdvancedGraph: AdvancedGraphForm,\r\n  Table: TableForm,\r\n  CustomTable: CustomTableForm,\r\n  IframeTile: IframeTileForm\r\n}\r\n\r\nclass Modal extends Component {\r\n  state = {\r\n    properties: {type: null}\r\n  }\r\n\r\n  handleData = (formData) => {\r\n    const { tile } = this.props.ui.modal;\r\n    this.setState({properties:{...this.state.properties,  type: tile.properties.type, ...formData}})\r\n  }\r\n\r\n  renderForm = () => {\r\n    const { tile } = this.props.ui.modal;\r\n    if(tile && tile.properties.type && forms[tile.properties.type.value]) {\r\n      const Form = forms[tile.properties.type.value];\r\n      return <Form addData={this.handleData}/>\r\n    } else {\r\n      return <div>No Type Selected</div>\r\n    }\r\n  }\r\n\r\n  closeModal = () => {\r\n    const { resetModal } = this.props;\r\n    this.setState({properties: {type:null}});\r\n    resetModal();\r\n  }\r\n\r\n  submitModal = () => {\r\n    const { resetModal, ui, editTile, activeTab } = this.props;\r\n    const { properties } = this.state;\r\n    const newTile = {...ui.modal.tile, properties: {...properties}};\r\n    if (properties.type){\r\n      editTile(newTile, activeTab.index);\r\n    }\r\n    this.setState({properties: {type:null}});\r\n    resetModal();\r\n  }\r\n\r\n  render () {\r\n    const { ui } = this.props;\r\n    const showHideClassName = `${ui.modal.visible ? 'modal-show' : 'modal-hide'}`;\r\n\r\n    return (\r\n      <div className={`background ${showHideClassName}`}>\r\n        <section className={`modal`}>\r\n          <div className='modal-main'>\r\n            <h1 style={{margin: 0, marginBottom: '1rem', fontSize: '1.25rem'}}>Edit Tile:</h1>\r\n            {this.renderForm()}\r\n            <div className='modal-footer'>\r\n              <Button label=\"Submit\" icon=\"pi pi-check\" onClick={this.submitModal} />\r\n              <Button label=\"Close\" icon=\"pi pi-times\" onClick={this.closeModal} style={{marginLeft:'1rem', background: '#e53935', border: '1px solid #e53935'}} />\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ ui, activeTab }) {\r\n  return { ui, activeTab }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Modal);\r\n","import React, { Component } from 'react';\r\nimport { connect } from \"react-redux\";\r\nimport { FiPlus,FiX } from 'react-icons/fi';\r\nimport {InputText} from 'primereact/inputtext';\r\nimport { Button } from 'primereact/button';\r\nimport * as actions from '../actions';\r\n\r\nclass Tabs extends Component {\r\n  state = {\r\n    nextTab: this.props.tabs.length,\r\n    visible: false,\r\n    name: '',\r\n    type: ''\r\n  }\r\n\r\n  renderTab = (tab, i) => {\r\n    const { activeTab, ui } = this.props;\r\n    const viewOnly = ui.viewOnly ? 'none' : ''\r\n    let className = 'tab-item';\r\n    if(tab.index === activeTab.index) {\r\n      className += ' tab-active'\r\n    }\r\n    return (\r\n      <li\r\n        key={i}\r\n        className={className}\r\n        style={{textAlign: 'center'}}\r\n        onClick={() => this.props.changeTab(tab)}\r\n      ><span name='edit' onDoubleClick={(e) => this.handleTabRename(e,tab)} title='Double click to edit tab name' >{tab.name}</span>\r\n        <span  style={{display:viewOnly}} className={`tab-delete`} title='Click to delete tab'>\r\n          <FiX\r\n            style={{height:'1rem'}}\r\n            className='tab-delete tab-icon'\r\n            size={'1rem'}\r\n            onClick={(e) => this.handleDeleteTab(e,tab.index)}\r\n          />\r\n        </span>\r\n      </li>)\r\n  }\r\n\r\n  handleTabRename = (e, tab) => {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.setState({name: tab.name, type: tab});\r\n    this.openModal();\r\n  }\r\n\r\n  handleAddTab = (e) => {\r\n    this.setState({type:'add'})\r\n    this.openModal();\r\n  }\r\n\r\n  handleDeleteTab = (e,index) => {\r\n    e.stopPropagation();\r\n    const { deleteTab, changeTab, tabs, activeTab } = this.props;\r\n    if(window.confirm('Are you sure you want to delete this tab?')) {\r\n      deleteTab(index);\r\n      if(activeTab.index === index) {\r\n        const newIndex = activeTab.index === 0 ? 0 : activeTab.index - 1\r\n        changeTab(tabs[newIndex]);\r\n      }\r\n    }\r\n  }\r\n\r\n  handleSubmit = (e) => {\r\n    const { nextTab, name, type } = this.state;\r\n    if(type === 'add') {\r\n      this.props.addTab({name:`${name !== '' ? name : 'tab'+nextTab}`, index: nextTab});\r\n      const newTab = nextTab + 1;\r\n      this.setState({nextTab: newTab, visible: false, name: ''});\r\n    } else if(typeof(type) === 'object') {\r\n      // type is the tab object\r\n      this.props.editTab(type, name);\r\n      this.setState({visible: false, name: ''});\r\n    }\r\n  }\r\n\r\n\r\n  closeModal = () => {\r\n    this.setState({visible: false, name: ''})\r\n  }\r\n\r\n  openModal = () => {\r\n    this.setState({visible: true})\r\n  }\r\n\r\n  handleChange = (e) => {\r\n    e.preventDefault();\r\n    this.setState({[e.target.name]: e.target.value});\r\n  }\r\n\r\n  render () {\r\n    const { type } = this.state;\r\n    const { tabs, ui } = this.props;\r\n    const viewOnly = ui.viewOnly ? 'none' : ''\r\n    const showHideClassName = `${this.state.visible ? 'modal-show' : 'modal-hide'}`;\r\n    return ( < >\r\n      <ul className='tabs' >\r\n        {tabs && tabs.map(this.renderTab)}\r\n        <FiPlus  name='add' style={{display:viewOnly, height:'1.75rem'}} size={'1.75rem'} className={`newtab-btn`} title='Create New Tab' onClick={(e) => this.handleAddTab(e)}/>\r\n      </ul>\r\n      <div className={`background ${showHideClassName}`} >\r\n        <section className={`tab-modal`} >\r\n          <div className='modal-main' >\r\n            <h1 className='tab-modal-header'>{type === 'add' ? 'Add New Tab:' : 'Edit Tab:'}</h1>\r\n            <div>\r\n              <InputText\r\n                placeholder='Tab Name'\r\n                name='name'\r\n                style={{width:'100%', marginBottom:'1rem'}}\r\n                value={this.state.name}\r\n                onChange={this.handleChange}\r\n              />\r\n            </div>\r\n            <div className='modal-footer'>\r\n              <Button label=\"Submit\" icon=\"pi pi-check\" onClick={(e) => this.handleSubmit(e)} />\r\n              <Button label=\"Close\" icon=\"pi pi-times\" onClick={this.closeModal} style={{marginLeft:'1rem', background: '#e53935', border: '1px solid #e53935'}} />\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </div>\r\n    </>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ activeTab, tabs, ui }) {\r\n  return { activeTab, tabs, ui };\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Tabs);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\n\r\nclass Gauge extends Component {\r\n\tstatic defaultProps = {\r\n\t}\r\n\r\n\tchartInit = () => {\r\n\t\tconst { id, properties } = this.props.tile;\r\n\t\tconst min = Number(properties.min);\r\n\t\tconst max = Number(properties.max);\r\n\t\tconst band1End = Number(properties.band1End);\r\n\t\tconst band2End = Number(properties.band2End);\r\n\r\n\t\tam4core.options.commercialLicense = true;\r\n\t\tthis.chart = am4core.create(id, am4charts.GaugeChart);\r\n\t\tthis.chart.innerRadius = -8;\r\n\t\tthis.chart.startAngle = 135;\r\n\t\tthis.chart.endAngle = 405;\r\n\r\n\t\tconst axis = this.chart.xAxes.push(new am4charts.ValueAxis());\r\n\t\taxis.min = +properties.min;\r\n\t\taxis.max = +properties.max;\r\n\t\taxis.strictMinMax = true;\r\n\t\tconst colorSet = new am4core.ColorSet();\r\n\t\taxis.renderer.ticks.template.stroke = '#fff'; //this.chart.colors.getIndex(6);\r\n\t\taxis.renderer.labels.template.radius = 5;\r\n\t\taxis.renderer.ticks.template.strokeOpacity = .35;\r\n\t\t//axis.renderer.ticks\r\n\t\taxis.renderer.grid.template.disabled = true;\r\n\t\taxis.renderer.ticks.template.length = -12;\r\n\t\taxis.hiddenState.properties.opacity = 1;\r\n\t\taxis.hiddenState.properties.visible = true;\r\n\t\taxis.setStateOnChildren = true;\r\n\t\taxis.numberFormatter.bigNumberPrefixes = [\r\n\t\t\t{ \"number\": 1000, \"suffix\" : \"k\"},\r\n\t\t\t{ \"number\": 1000000, \"suffix\": \"M\" },\r\n\t\t\t{ \"number\": 1e+9, \"suffix\": \"G\" },\r\n\t\t]\r\n\t\taxis.numberFormatter.numberFormat = '#,###.#a'\r\n\r\n\t\tconst range0 = axis.axisRanges.create();\r\n\t\trange0.value = min;\r\n\t\trange0.endValue = band1End ? (min + max)*band1End/max : (min + max)*.5;\r\n\t\trange0.axisFill.fillOpacity = .9;\r\n\t\trange0.axisFill.fill = properties.band1 ? `#${properties.band1}` : colorSet.getIndex(0);\r\n\r\n\t\tconst range1 = axis.axisRanges.create();\r\n\t\trange1.value = band1End ? (min + max)*band1End/max : (min + max)*.5;\r\n\t\trange1.endValue = band2End ? (max - min)*band2End/max + min : (max - min)*.8 + min;\r\n\t\trange1.axisFill.fillOpacity = .9;\r\n\t\trange1.axisFill.fill = properties.band2 ? `#${properties.band2}` : colorSet.getIndex(2);\r\n\r\n\t\tconst range2 = axis.axisRanges.create();\r\n\t\trange2.value = band2End ? (max - min)*band2End/max + min : (max - min)*.8 + min;\r\n\t\trange2.endValue = max;\r\n\t\trange2.axisFill.fillOpacity = .9;\r\n\t\trange2.axisFill.fill = properties.band3 ? `#${properties.band3}` : colorSet.getIndex(4);\r\n\r\n\t\tthis.label = this.chart.radarContainer.createChild(am4core.Label);\r\n\t\tthis.label.isMeasured = false;\r\n\t\tthis.label.horizontalCenter = \"middle\";\r\n\t\tthis.label.verticalCenter = \"bottom\";\r\n\t\tthis.label.y = 70;\r\n\t\tthis.label.fontSize = 25;\r\n\t\tthis.label.text = \"\";\r\n\t\tthis.label.text = `${properties.min} ${properties.unit ? properties.unit : ''}`;\r\n\r\n\t\tconst Title = this.chart.titles.create();\r\n\t\tTitle.text = properties.name !== '' ? properties.name : properties.dataItem ? properties.dataItem.label : '';\r\n\t\tTitle.marginBottom = 15;\r\n\t\tthis.hand = this.chart.hands.push(new am4charts.ClockHand());\r\n\t\tthis.hand.showValue(properties.min, 1000, am4core.ease.cubicOut);\r\n\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.chartInit()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst { properties } = this.props.tile;\r\n\t\tconst { dataItems } = this.props.data;\r\n\t\tif(prevProps.tile.properties !== properties) {\r\n\t\t\tthis.chart.dispose();\r\n\t\t\tthis.chartInit();\r\n\t\t}\r\n\r\n\t\tif(properties.dataItem && dataItems) {\r\n\t\t\tconst { label } = properties.dataItem;\r\n\t\t\tconst value = dataItems.find(di => di.label === label) ? Math.round(dataItems.find(di => di.label === label).value * 100) / 100 : properties.min;\r\n\t\t\tthis.hand.showValue(value, 1000, am4core.ease.cubicOut);\r\n\t\t\tthis.label.text = `${value} ${properties.unit}`;\r\n\t\t} else {\r\n\t\t\tthis.hand.showValue(properties.min, 1000, am4core.ease.cubicOut);\r\n\t\t\tthis.label.text = `N/A ${properties.unit}`;\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t if (this.chart) {\r\n\t\t this.chart.dispose();\r\n\t }\r\n }\r\n\r\n\trender() {\r\n\t\tconst { id } = this.props.tile;\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tid={id}\r\n\t\t\t\tstyle={{width: \"100%\", height: \"100%\"}}\r\n\t\t\t>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps({ data }) {\r\n\treturn { data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(Gauge)\r\n","export const dummyData = [{\r\n        \"date\": \"2012-07-27\",\r\n        \"value\": 13\r\n    }, {\r\n        \"date\": \"2012-07-28\",\r\n        \"value\": 11\r\n    }, {\r\n        \"date\": \"2012-07-29\",\r\n        \"value\": 15\r\n    }, {\r\n        \"date\": \"2012-07-30\",\r\n        \"value\": 16\r\n    }, {\r\n        \"date\": \"2012-07-31\",\r\n        \"value\": 18\r\n    }, {\r\n        \"date\": \"2012-08-01\",\r\n        \"value\": 13\r\n    }, {\r\n        \"date\": \"2012-08-02\",\r\n        \"value\": 22\r\n    }, {\r\n        \"date\": \"2012-08-03\",\r\n        \"value\": 23\r\n    }, {\r\n        \"date\": \"2012-08-04\",\r\n        \"value\": 20\r\n    }, {\r\n        \"date\": \"2012-08-05\",\r\n        \"value\": 17\r\n    }, {\r\n        \"date\": \"2012-08-06\",\r\n        \"value\": 16\r\n    }, {\r\n        \"date\": \"2012-08-07\",\r\n        \"value\": 18\r\n    }, {\r\n        \"date\": \"2012-08-08\",\r\n        \"value\": 21\r\n    }, {\r\n        \"date\": \"2012-08-09\",\r\n        \"value\": 26\r\n    }, {\r\n        \"date\": \"2012-08-10\",\r\n        \"value\": 24\r\n    }, {\r\n        \"date\": \"2012-08-11\",\r\n        \"value\": 29\r\n    }, {\r\n        \"date\": \"2012-08-12\",\r\n        \"value\": 32\r\n    }, {\r\n        \"date\": \"2012-08-13\",\r\n        \"value\": 18\r\n    }, {\r\n        \"date\": \"2012-08-14\",\r\n        \"value\": 24\r\n    }, {\r\n        \"date\": \"2012-08-15\",\r\n        \"value\": 22\r\n    }, {\r\n        \"date\": \"2012-08-16\",\r\n        \"value\": 18\r\n    }, {\r\n        \"date\": \"2012-08-17\",\r\n        \"value\": 19\r\n    }, {\r\n        \"date\": \"2012-08-18\",\r\n        \"value\": 14\r\n    }, {\r\n        \"date\": \"2012-08-19\",\r\n        \"value\": 15\r\n    }, {\r\n        \"date\": \"2012-08-20\",\r\n        \"value\": 12\r\n    }, {\r\n        \"date\": \"2012-08-21\",\r\n        \"value\": 8\r\n    }, {\r\n        \"date\": \"2012-08-22\",\r\n        \"value\": 9\r\n    }, {\r\n        \"date\": \"2012-08-23\",\r\n        \"value\": 8\r\n    }, {\r\n        \"date\": \"2012-08-24\",\r\n        \"value\": 7\r\n    }, {\r\n        \"date\": \"2012-08-25\",\r\n        \"value\": 5\r\n    }, {\r\n        \"date\": \"2012-08-26\",\r\n        \"value\": 11\r\n    }, {\r\n        \"date\": \"2012-08-27\",\r\n        \"value\": 13\r\n    }, {\r\n        \"date\": \"2012-08-28\",\r\n        \"value\": 18\r\n    }, {\r\n        \"date\": \"2012-08-29\",\r\n        \"value\": 20\r\n    }, {\r\n        \"date\": \"2012-08-30\",\r\n        \"value\": 29\r\n    }, {\r\n        \"date\": \"2012-08-31\",\r\n        \"value\": 33\r\n    }, {\r\n        \"date\": \"2012-09-01\",\r\n        \"value\": 42\r\n    }, {\r\n        \"date\": \"2012-09-02\",\r\n        \"value\": 35\r\n    }, {\r\n        \"date\": \"2012-09-03\",\r\n        \"value\": 31\r\n    }, {\r\n        \"date\": \"2012-09-04\",\r\n        \"value\": 47\r\n    }, {\r\n        \"date\": \"2012-09-05\",\r\n        \"value\": 52\r\n    }, {\r\n        \"date\": \"2012-09-06\",\r\n        \"value\": 46\r\n    }, {\r\n        \"date\": \"2012-09-07\",\r\n        \"value\": 41\r\n    }, {\r\n        \"date\": \"2012-09-08\",\r\n        \"value\": 43\r\n    }, {\r\n        \"date\": \"2012-09-09\",\r\n        \"value\": 40\r\n    }, {\r\n        \"date\": \"2012-09-10\",\r\n        \"value\": 39\r\n    }, {\r\n        \"date\": \"2012-09-11\",\r\n        \"value\": 34\r\n    }, {\r\n        \"date\": \"2012-09-12\",\r\n        \"value\": 29\r\n    }, {\r\n        \"date\": \"2012-09-13\",\r\n        \"value\": 34\r\n    }, {\r\n        \"date\": \"2012-09-14\",\r\n        \"value\": 37\r\n    }, {\r\n        \"date\": \"2012-09-15\",\r\n        \"value\": 42\r\n    }, {\r\n        \"date\": \"2012-09-16\",\r\n        \"value\": 49\r\n    }, {\r\n        \"date\": \"2012-09-17\",\r\n        \"value\": 46\r\n    }, {\r\n        \"date\": \"2012-09-18\",\r\n        \"value\": 47\r\n    }, {\r\n        \"date\": \"2012-09-19\",\r\n        \"value\": 55\r\n    }, {\r\n        \"date\": \"2012-09-20\",\r\n        \"value\": 59\r\n    }, {\r\n        \"date\": \"2012-09-21\",\r\n        \"value\": 58\r\n    }, {\r\n        \"date\": \"2012-09-22\",\r\n        \"value\": 57\r\n    }, {\r\n        \"date\": \"2012-09-23\",\r\n        \"value\": 61\r\n    }, {\r\n        \"date\": \"2012-09-24\",\r\n        \"value\": 59\r\n    }, {\r\n        \"date\": \"2012-09-25\",\r\n        \"value\": 67\r\n    }, {\r\n        \"date\": \"2012-09-26\",\r\n        \"value\": 65\r\n    }, {\r\n        \"date\": \"2012-09-27\",\r\n        \"value\": 61\r\n    }, {\r\n        \"date\": \"2012-09-28\",\r\n        \"value\": 66\r\n    }, {\r\n        \"date\": \"2012-09-29\",\r\n        \"value\": 69\r\n    }, {\r\n        \"date\": \"2012-09-30\",\r\n        \"value\": 71\r\n    }, {\r\n        \"date\": \"2012-10-01\",\r\n        \"value\": 67\r\n    }, {\r\n        \"date\": \"2012-10-02\",\r\n        \"value\": 63\r\n    }, {\r\n        \"date\": \"2012-10-03\",\r\n        \"value\": 46\r\n    }, {\r\n        \"date\": \"2012-10-04\",\r\n        \"value\": 32\r\n    }, {\r\n        \"date\": \"2012-10-05\",\r\n        \"value\": 21\r\n    }, {\r\n        \"date\": \"2012-10-06\",\r\n        \"value\": 18\r\n    }, {\r\n        \"date\": \"2012-10-07\",\r\n        \"value\": 21\r\n    }, {\r\n        \"date\": \"2012-10-08\",\r\n        \"value\": 28\r\n    }, {\r\n        \"date\": \"2012-10-09\",\r\n        \"value\": 27\r\n    }, {\r\n        \"date\": \"2012-10-10\",\r\n        \"value\": 36\r\n    }, {\r\n        \"date\": \"2012-10-11\",\r\n        \"value\": 33\r\n    }, {\r\n        \"date\": \"2012-10-12\",\r\n        \"value\": 31\r\n    }, {\r\n        \"date\": \"2012-10-13\",\r\n        \"value\": 30\r\n    }, {\r\n        \"date\": \"2012-10-14\",\r\n        \"value\": 34\r\n    }, {\r\n        \"date\": \"2012-10-15\",\r\n        \"value\": 38\r\n    }, {\r\n        \"date\": \"2012-10-16\",\r\n        \"value\": 37\r\n    }, {\r\n        \"date\": \"2012-10-17\",\r\n        \"value\": 44\r\n    }, {\r\n        \"date\": \"2012-10-18\",\r\n        \"value\": 49\r\n    }, {\r\n        \"date\": \"2012-10-19\",\r\n        \"value\": 53\r\n    }, {\r\n        \"date\": \"2012-10-20\",\r\n        \"value\": 57\r\n    }, {\r\n        \"date\": \"2012-10-21\",\r\n        \"value\": 60\r\n    }, {\r\n        \"date\": \"2012-10-22\",\r\n        \"value\": 61\r\n    }, {\r\n        \"date\": \"2012-10-23\",\r\n        \"value\": 69\r\n    }, {\r\n        \"date\": \"2012-10-24\",\r\n        \"value\": 67\r\n    }, {\r\n        \"date\": \"2012-10-25\",\r\n        \"value\": 72\r\n    }, {\r\n        \"date\": \"2012-10-26\",\r\n        \"value\": 77\r\n    }, {\r\n        \"date\": \"2012-10-27\",\r\n        \"value\": 75\r\n    }, {\r\n        \"date\": \"2012-10-28\",\r\n        \"value\": 70\r\n    }, {\r\n        \"date\": \"2012-10-29\",\r\n        \"value\": 72\r\n    }, {\r\n        \"date\": \"2012-10-30\",\r\n        \"value\": 70\r\n    }, {\r\n        \"date\": \"2012-10-31\",\r\n        \"value\": 72\r\n    }, {\r\n        \"date\": \"2012-11-01\",\r\n        \"value\": 73\r\n    }, {\r\n        \"date\": \"2012-11-02\",\r\n        \"value\": 67\r\n    }, {\r\n        \"date\": \"2012-11-03\",\r\n        \"value\": 68\r\n    }, {\r\n        \"date\": \"2012-11-04\",\r\n        \"value\": 65\r\n    }, {\r\n        \"date\": \"2012-11-05\",\r\n        \"value\": 71\r\n    }, {\r\n        \"date\": \"2012-11-06\",\r\n        \"value\": 75\r\n    }, {\r\n        \"date\": \"2012-11-07\",\r\n        \"value\": 74\r\n    }, {\r\n        \"date\": \"2012-11-08\",\r\n        \"value\": 71\r\n    }, {\r\n        \"date\": \"2012-11-09\",\r\n        \"value\": 76\r\n    }, {\r\n        \"date\": \"2012-11-10\",\r\n        \"value\": 77\r\n    }, {\r\n        \"date\": \"2012-11-11\",\r\n        \"value\": 81\r\n    }, {\r\n        \"date\": \"2012-11-12\",\r\n        \"value\": 83\r\n    }, {\r\n        \"date\": \"2012-11-13\",\r\n        \"value\": 80\r\n    }, {\r\n        \"date\": \"2012-11-14\",\r\n        \"value\": 81\r\n    }, {\r\n        \"date\": \"2012-11-15\",\r\n        \"value\": 87\r\n    }, {\r\n        \"date\": \"2012-11-16\",\r\n        \"value\": 82\r\n    }, {\r\n        \"date\": \"2012-11-17\",\r\n        \"value\": 86\r\n    }, {\r\n        \"date\": \"2012-11-18\",\r\n        \"value\": 80\r\n    }, {\r\n        \"date\": \"2012-11-19\",\r\n        \"value\": 87\r\n    }, {\r\n        \"date\": \"2012-11-20\",\r\n        \"value\": 83\r\n    }, {\r\n        \"date\": \"2012-11-21\",\r\n        \"value\": 85\r\n    }, {\r\n        \"date\": \"2012-11-22\",\r\n        \"value\": 84\r\n    }, {\r\n        \"date\": \"2012-11-23\",\r\n        \"value\": 82\r\n    }, {\r\n        \"date\": \"2012-11-24\",\r\n        \"value\": 73\r\n    }, {\r\n        \"date\": \"2012-11-25\",\r\n        \"value\": 71\r\n    }, {\r\n        \"date\": \"2012-11-26\",\r\n        \"value\": 75\r\n    }, {\r\n        \"date\": \"2012-11-27\",\r\n        \"value\": 79\r\n    }, {\r\n        \"date\": \"2012-11-28\",\r\n        \"value\": 70\r\n    }, {\r\n        \"date\": \"2012-11-29\",\r\n        \"value\": 73\r\n    }, {\r\n        \"date\": \"2012-11-30\",\r\n        \"value\": 61\r\n    }, {\r\n        \"date\": \"2012-12-01\",\r\n        \"value\": 62\r\n    }, {\r\n        \"date\": \"2012-12-02\",\r\n        \"value\": 66\r\n    }, {\r\n        \"date\": \"2012-12-03\",\r\n        \"value\": 65\r\n    }, {\r\n        \"date\": \"2012-12-04\",\r\n        \"value\": 73\r\n    }, {\r\n        \"date\": \"2012-12-05\",\r\n        \"value\": 79\r\n    }, {\r\n        \"date\": \"2012-12-06\",\r\n        \"value\": 78\r\n    }, {\r\n        \"date\": \"2012-12-07\",\r\n        \"value\": 78\r\n    }, {\r\n        \"date\": \"2012-12-08\",\r\n        \"value\": 78\r\n    }, {\r\n        \"date\": \"2012-12-09\",\r\n        \"value\": 74\r\n    }, {\r\n        \"date\": \"2012-12-10\",\r\n        \"value\": 73\r\n    }, {\r\n        \"date\": \"2012-12-11\",\r\n        \"value\": 75\r\n    }, {\r\n        \"date\": \"2012-12-12\",\r\n        \"value\": 70\r\n    }, {\r\n        \"date\": \"2012-12-13\",\r\n        \"value\": 77\r\n    }, {\r\n        \"date\": \"2012-12-14\",\r\n        \"value\": 67\r\n    }, {\r\n        \"date\": \"2012-12-15\",\r\n        \"value\": 62\r\n    }, {\r\n        \"date\": \"2012-12-16\",\r\n        \"value\": 64\r\n    }, {\r\n        \"date\": \"2012-12-17\",\r\n        \"value\": 61\r\n    }, {\r\n        \"date\": \"2012-12-18\",\r\n        \"value\": 59\r\n    }, {\r\n        \"date\": \"2012-12-19\",\r\n        \"value\": 53\r\n    }, {\r\n        \"date\": \"2012-12-20\",\r\n        \"value\": 54\r\n    }, {\r\n        \"date\": \"2012-12-21\",\r\n        \"value\": 56\r\n    }, {\r\n        \"date\": \"2012-12-22\",\r\n        \"value\": 59\r\n    }, {\r\n        \"date\": \"2012-12-23\",\r\n        \"value\": 58\r\n    }, {\r\n        \"date\": \"2012-12-24\",\r\n        \"value\": 55\r\n    }, {\r\n        \"date\": \"2012-12-25\",\r\n        \"value\": 52\r\n    }, {\r\n        \"date\": \"2012-12-26\",\r\n        \"value\": 54\r\n    }, {\r\n        \"date\": \"2012-12-27\",\r\n        \"value\": 50\r\n    }, {\r\n        \"date\": \"2012-12-28\",\r\n        \"value\": 50\r\n    }, {\r\n        \"date\": \"2012-12-29\",\r\n        \"value\": 51\r\n    }, {\r\n        \"date\": \"2012-12-30\",\r\n        \"value\": 52\r\n    }, {\r\n        \"date\": \"2012-12-31\",\r\n        \"value\": 58\r\n    }, {\r\n        \"date\": \"2013-01-01\",\r\n        \"value\": 60\r\n    }, {\r\n        \"date\": \"2013-01-02\",\r\n        \"value\": 67\r\n    }, {\r\n        \"date\": \"2013-01-03\",\r\n        \"value\": 64\r\n    }, {\r\n        \"date\": \"2013-01-04\",\r\n        \"value\": 66\r\n    }, {\r\n        \"date\": \"2013-01-05\",\r\n        \"value\": 60\r\n    }, {\r\n        \"date\": \"2013-01-06\",\r\n        \"value\": 63\r\n    }, {\r\n        \"date\": \"2013-01-07\",\r\n        \"value\": 61\r\n    }, {\r\n        \"date\": \"2013-01-08\",\r\n        \"value\": 60\r\n    }, {\r\n        \"date\": \"2013-01-09\",\r\n        \"value\": 65\r\n    }, {\r\n        \"date\": \"2013-01-10\",\r\n        \"value\": 75\r\n    }, {\r\n        \"date\": \"2013-01-11\",\r\n        \"value\": 77\r\n    }, {\r\n        \"date\": \"2013-01-12\",\r\n        \"value\": 78\r\n    }, {\r\n        \"date\": \"2013-01-13\",\r\n        \"value\": 70\r\n    }, {\r\n        \"date\": \"2013-01-14\",\r\n        \"value\": 70\r\n    }, {\r\n        \"date\": \"2013-01-15\",\r\n        \"value\": 73\r\n    }, {\r\n        \"date\": \"2013-01-16\",\r\n        \"value\": 71\r\n    }, {\r\n        \"date\": \"2013-01-17\",\r\n        \"value\": 74\r\n    }, {\r\n        \"date\": \"2013-01-18\",\r\n        \"value\": 78\r\n    }, {\r\n        \"date\": \"2013-01-19\",\r\n        \"value\": 85\r\n    }, {\r\n        \"date\": \"2013-01-20\",\r\n        \"value\": 82\r\n    }, {\r\n        \"date\": \"2013-01-21\",\r\n        \"value\": 83\r\n    }, {\r\n        \"date\": \"2013-01-22\",\r\n        \"value\": 88\r\n    }, {\r\n        \"date\": \"2013-01-23\",\r\n        \"value\": 85\r\n    }, {\r\n        \"date\": \"2013-01-24\",\r\n        \"value\": 85\r\n    }, {\r\n        \"date\": \"2013-01-25\",\r\n        \"value\": 80\r\n    }, {\r\n        \"date\": \"2013-01-26\",\r\n        \"value\": 87\r\n    }, {\r\n        \"date\": \"2013-01-27\",\r\n        \"value\": 84\r\n    }, {\r\n        \"date\": \"2013-01-28\",\r\n        \"value\": 83\r\n    }, {\r\n        \"date\": \"2013-01-29\",\r\n        \"value\": 84\r\n    }, {\r\n        \"date\": \"2013-01-30\",\r\n        \"value\": 81\r\n    }]\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { keys } from '../../util/keys';\r\nimport { getParameterByName } from '../../util';\r\nimport { dummyData } from '../../util/dummy-data';\r\nimport { FiMove, FiRefreshCw } from \"react-icons/fi\";\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport variables from '../../styles/variables.scss';\r\n\r\nclass LiveDataGraph extends Component {\r\n  state = {\r\n    loading: true\r\n  }\r\n\r\n  chartInit = async () => {\r\n    try {\r\n      const { id, properties } = this.props.tile;\r\n      am4core.options.commercialLicense = true;\r\n      this.chart = am4core.create(id, am4charts.XYChart);\r\n      this.chart.exporting.menu = new am4core.ExportMenu();\r\n      this.chart.exporting.menu.verticalAlign = 'bottom';\r\n      this.chart.exporting.menu.align = 'left';\r\n      // Create axes\r\n  \t\tconst dateAxis = this.chart.xAxes.push(new am4charts.DateAxis());\r\n  \t\tdateAxis.renderer.minGridDistance = 75;\r\n  \t\tdateAxis.renderer.grid.template.location = 0.5;\r\n  \t\tdateAxis.startLocation = 0.5;\r\n  \t\tdateAxis.endLocation = 0.5;\r\n\r\n      this.chart.data = properties.dataItems ? await this.fetchData() : dummyData;\r\n  \t\tconst valueAxis = this.chart.yAxes.push(new am4charts.ValueAxis());\r\n  \t\tvalueAxis.title.text = properties.yaxis !== '' ? properties.yaxis : '';\r\n  \t\tvalueAxis.renderer.line.strokeOpacity = 1;\r\n  \t  valueAxis.renderer.line.strokeWidth = 2;\r\n  \t  valueAxis.renderer.grid.template.disabled = true;\r\n\r\n  \t\tthis.chart.cursor = new am4charts.XYCursor();\r\n  \t\tthis.chart.cursor.behavior = \"panXY\";\r\n  \t\tthis.chart.cursor.xAxis = dateAxis;\r\n  \t\t// Create series\r\n  \t\tif(properties.dataItems) { //this.chart.data.length !== 0\r\n  \t\t\tfor (let i = 0; i < properties.dataItems.length; i++) {\r\n  \t\t\t\tconst name = properties.dataItems[i].label;\r\n  \t\t\t\tconst field = `${properties.dataItems[i].assetId}-${properties.dataItems[i].dataItemId}`;\r\n  \t\t\t\tthis.createSeries(field, 'timestamp', name);\r\n  \t\t\t}\r\n  \t\t} else {\r\n  \t\t\tthis.createSeries('value', 'date', 'No dataItems selected');\r\n  \t\t}\r\n  \t\t// Create a horizontal scrollbar with previe and place it underneath the date axis\r\n  \t\tthis.chart.scrollbarX = new am4core.Scrollbar();\r\n  \t\tthis.chart.scrollbarX.parent = this.chart.bottomAxesContainer;\r\n  \t\tthis.chart.legend = properties.legend ? new am4charts.Legend() : null;\r\n  \t\t//Title\r\n  \t\tconst Title = this.chart.titles.create();\r\n  \t\tTitle.text = properties.title !== '' ? properties.title : '';\r\n  \t\tTitle.marginBottom = 5;\r\n  \t\tthis.setState({loading: false});\r\n    } catch(e) {\r\n      console.log(e);\r\n      this.setState({loading: 'failed'})\r\n    }\r\n  }\r\n\r\n  fetchData = async () => {\r\n    const { dataItems, timeType, liveStart, fixedStart, end, start } = this.props.tile.properties;\r\n    const assetId = getParameterByName('assetId');\r\n    const times ={\r\n      five: new Date(new Date() - (1000*60*5)).toJSON(),\r\n      ten: new Date(new Date() - (1000*60*10)).toJSON(),\r\n      halfhour: new Date(new Date() - (1000*60*60/2)).toJSON(),\r\n      hour: new Date(new Date() - (1000*60*60)).toJSON()\r\n    }\r\n    const startTime = start ? times[start] : timeType === 'live' ? times[liveStart] : fixedStart;\r\n    const endTime = timeType === 'live' ? new Date().toJSON() : end;\r\n    const url = '/api/HistoricalDataItems';\r\n    const data = dataItems.map(di => {\r\n      return {\r\n        assetId: assetId,\r\n        dataItemId: di.dataItemId\r\n      }\r\n    })\r\n    const request = await axios({\r\n      url: url,\r\n      baseURL: keys.BASE_URL,\r\n      method: 'POST',\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        \"Authorization\": keys.TOKEN,\r\n      },\r\n      data: {\r\n        \"Name\": \"request\",\r\n        \"DataItems\" : data,\r\n        \"StartTime\": startTime,// ? startTime : new Date(new Date() - (1000*60*1)).toJSON(),\r\n        \"EndTime\": endTime,\r\n        \"Format\":{\"Type\":\"DataItemChart\"}\r\n      }\r\n    });\r\n    if (request.data.length !== 0) {\r\n      return request.data.map((di) => {\r\n          return {\r\n            ...di,\r\n            timestamp: new Date(di.timestamp)\r\n          }\r\n        });\r\n    } else {\r\n      return [{timestamp: new Date(), value: 0}];\r\n    }\r\n  }\r\n\r\n  createSeries = (field, dateX, name) => {\r\n    const { timeType } = this.props.tile.properties;\r\n    const series = this.chart.series.push(new am4charts.LineSeries());\r\n    series.dataFields.valueY = field;\r\n    series.dataFields.dateX = dateX;\r\n    series.strokeWidth = 3; // 3px\r\n    series.name = name;\r\n    series.tensionX = 0.85;\r\n    series.minBulletDistance = 15;\r\n    series.interpolationDuration = 0;\r\n    series.transitionDuration = 0;\r\n    // Drop-shaped tooltips\r\n    series.tooltipText = `${name}: {${field}}`//\"{value}\"\r\n    series.tooltip.background.cornerRadius = 20;\r\n    series.tooltip.background.strokeOpacity = 0;\r\n    series.tooltip.pointerOrientation = \"vertical\";\r\n    series.tooltip.label.minWidth = 40;\r\n    series.tooltip.label.minHeight = 40;\r\n    series.tooltip.label.textAlign = \"middle\";\r\n    series.tooltip.label.textValign = \"middle\";\r\n    // Make bullets grow on hover - bullets throughout graph\r\n    const bullet = series.bullets.push(new am4charts.CircleBullet());\r\n    bullet.circle.strokeWidth = 2;\r\n    bullet.circle.radius = 4;\r\n    bullet.circle.fill = am4core.color(\"#fff\");\r\n    const bullethover = bullet.states.create(\"hover\");\r\n    bullethover.properties.scale = 1.3;\r\n    // bullet that moves along the end of the graph\r\n    if(timeType === 'live') {\r\n      const endBullet = series.createChild(am4charts.CircleBullet);\r\n      endBullet.circle.radius = 3;\r\n      endBullet.fillOpacity = 1;\r\n      //endBullet.fill = this.chart.colors.getIndex(0);\r\n      endBullet.isMeasured = true;\r\n      series.events.on(\"validated\", function() {\r\n        endBullet.moveTo(series.dataItems.last.point);\r\n        endBullet.validatePosition();\r\n      });\r\n    }\r\n  }\r\n\r\n  async componentDidMount() {\r\n    await this.chartInit();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.chart) {\r\n     this.chart.dispose();\r\n    }\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { properties } = this.props.tile;\r\n    const { dataItems } = this.props.data;\r\n    if(prevProps.tile.properties !== properties) {\r\n      this.chart.dispose();\r\n      this.setState({loading:true})\r\n      this.chartInit();\r\n    }\r\n    if(properties.dataItems && dataItems && properties.timeType === 'live') {\r\n      const newData = {}\r\n      for (let i = 0; i < properties.dataItems.length; i++) {\r\n        const di = properties.dataItems[i];\r\n        newData[`${di.assetId}-${di.dataItemId}`] = dataItems.find(el => el.label === di.label) ? dataItems.find(el => el.label === di.label).value : 0;\r\n      }\r\n      newData.timestamp = new Date();\r\n      if(this.chart.data.length === 0) {\r\n        this.chart.data = [newData];\r\n      } else {\r\n        this.chart.addData(newData);\r\n      }\r\n\t\t}\r\n  }\r\n\r\n  render () {\r\n    const { id } = this.props.tile;\r\n    const { loading } = this.state;\r\n    return (\r\n      < >\r\n        <div style={{position: 'absolute', top: '40%', left:'50%', transform: 'translateX(-50%)', display:loading === true ? 'block' : 'none'}}>\r\n          <ScaleLoader\r\n            sizeUnit={'px'}\r\n            size={30}\r\n            color={variables.fontColor}\r\n          />\r\n        </div>\r\n        <div style={{position: 'absolute', top: '40%', left:'50%', transform: 'translateX(-50%)', display:loading === 'failed' ? 'block' : 'none'}}>\r\n          Something went wrong, try refreshing this tile\r\n        </div>\r\n        <div style={{width: \"100%\", height: \"100%\", position: 'relative'}} >\r\n          <span\r\n            style={{ position: 'absolute', top: '5px', left: '40px', zIndex: 1000, cursor:'grab' }}\r\n          >\r\n          <span title='Click and hold to move tile' >\r\n            <FiMove style={{height:'1rem'}} />\r\n          </span>\r\n          <span title='Click to refresh graph'>\r\n            <FiRefreshCw\r\n              style={{height:'1rem', marginLeft:'.75rem', cursor:'pointer'}}\r\n              onClick={() => {this.setState({loading:true});this.chartInit();}}\r\n            />\r\n          </span>\r\n          </span>\r\n          <div\r\n            id={id}\r\n            style={{width: \"100%\", height: \"96%\", position: 'absolute', bottom: '0'}}\r\n            onMouseDown={e => e.stopPropagation()}\r\n          >\r\n          </div>\r\n        </div>\r\n    </>)\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ data }) {\r\n\treturn { data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(LiveDataGraph);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport * as actions from '../../actions';\r\nimport { keys } from '../../util/keys'\r\nimport { GMap } from 'primereact/gmap';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport variables from '../../styles/variables.scss';\r\n\r\nconst google = window.google;\r\n\r\nclass Map extends Component {\r\n  state = {\r\n    overlays: [],\r\n    options: {},\r\n    loading : true,\r\n  }\r\n\r\n  onMapReady = async () => {\r\n    const { asset } = this.props.data;\r\n    const { showAll } = this.props.tile.properties;\r\n    const assets = showAll ? await this.fetchData() : null;\r\n    if (asset) {\r\n      const overlays = assets ? assets.map((ass) => {\r\n        return new google.maps.Marker({\r\n          position:{lat:ass.latitude, lng: ass.longitude},\r\n          title: ass.assetAlias\r\n        })\r\n      }) : [\r\n        new google.maps.Marker({position:{lat: asset.latitude, lng: asset.longitude}, title: asset.assetAlias})\r\n      ];\r\n      const options = {\r\n        center: asset ? {lat: asset.latitude, lng: asset.longitude } : {lat:29.7604, lng: -95.3698},\r\n        zoom: 10\r\n      };\r\n      this.setState({overlays, options, loading:false});\r\n    }\r\n  }\r\n\r\n  fetchData = async () => {\r\n    const url = '/api/assets';\r\n    try {\r\n      const request = await axios({\r\n        url: url,\r\n        baseURL: keys.BASE_URL,\r\n        method: 'GET',\r\n        headers: {\r\n          \"Content-Type\": \"application/json\"\r\n        }\r\n      });\r\n      return request.data;\r\n    } catch(e) {\r\n      console.log(e);\r\n      return null;\r\n    }\r\n  }\r\n\r\n  onOverlayClick = (e) => {\r\n    // console.log(e);\r\n    // let title = e.overlay.title;\r\n    // const content = '<div>' + title + '</div>';\r\n    // const infowindow = new google.maps.InfoWindow({\r\n    //   content: content\r\n    // });\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    const { properties } = this.props.tile;\r\n    if(prevProps.tile.properties !== properties) {\r\n      //this.setState({loading:true});\r\n      this.onMapReady();\r\n    }\r\n  }\r\n\r\n  render () {\r\n    const { asset } = this.props.data;\r\n    const { overlays, loading } = this.state;\r\n    const options = {\r\n      center: asset ? {lat: asset.latitude, lng: asset.longitude } : {lat:29.7604, lng: -95.3698},\r\n      zoom: 10\r\n    };\r\n    if (asset) {\r\n      return (\r\n        <div\r\n          style={{width:'96%', height: '96%', margin: 'auto', marginTop: '1.5rem', paddingBottom: '1.5rem'}}\r\n          onMouseDown={e => e.stopPropagation()}\r\n        >\r\n          <GMap\r\n            options={options}\r\n            overlays={overlays}\r\n            onMapReady={this.onMapReady}\r\n            style={{width:'100%', height: '100%', borderRadius: '5px'}}\r\n            onMouseDown={e => e.stopPropagation()}\r\n          />\r\n        </div>\r\n      )\r\n\r\n    } else {\r\n      return (\r\n        <div style={{position: 'absolute', top: '40%', left:'50%', transform: 'translateX(-50%)', display:loading === true ? 'block' : 'none'}}>\r\n          <ScaleLoader\r\n            sizeUnit={'px'}\r\n            size={30}\r\n            color={variables.fontColor}\r\n          />\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ data }) {\r\n\treturn { data }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Map);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { keys } from '../../util/keys';\r\nimport { getParameterByName } from '../../util';\r\n//import { dummyData } from '../../util/dummy-data';\r\nimport { FiMove, FiRefreshCw } from \"react-icons/fi\";\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\nimport variables from '../../styles/variables.scss';\r\n\r\nclass MultiAxesLive extends Component {\r\n\tstate = {\r\n\t\tloading: true\r\n\t}\r\n\r\n\tstatic defaultProps = {}\r\n\r\n\tchartInit = async () => {\r\n\t\ttry {\r\n\t\t\tconst { id, properties } = this.props.tile;\r\n\t\t\tam4core.options.commercialLicense = true;\r\n\t\t\tthis.chart = am4core.create(id, am4charts.XYChart);\r\n\t\t\tthis.chart.exporting.menu = new am4core.ExportMenu();\r\n\t\t\tthis.chart.exporting.menu.verticalAlign = 'bottom';\r\n\t\t\tthis.chart.exporting.menu.align = 'left';\r\n\t\t\t// data will come from /api/HistoricalDataItems based on selected data items\r\n\t\t\tthis.chart.data = await this.fetchData();\r\n\t\t\t// Create axes\r\n\t\t\tconst dateAxis = this.chart.xAxes.push(new am4charts.DateAxis());\r\n\t\t\t//dateAxis.baseInterval = {\"timeUnit\": 'minute', \"count\": 1};\r\n\t\t\tdateAxis.renderer.minGridDistance = 100;\r\n\t\t\tdateAxis.renderer.grid.template.location = 0.5;\r\n\t\t\tdateAxis.startLocation = 0.5;\r\n\t\t\tdateAxis.endLocation = 0.5;\r\n\t\t\t// loop through based on dataitem this.props.\r\n\t\t\t// or use props from new field\r\n\t\t\tthis.chart.cursor = new am4charts.XYCursor();\r\n\t\t\tthis.chart.cursor.behavior = \"panXY\";\r\n\t\t\tthis.chart.cursor.xAxis = dateAxis;\r\n\t\t\t//this.chart.cursor.snapToSeries = series;\r\n\t\t\t// create y Axis\r\n\t\t\tif (properties.axes) {\r\n\t\t\t\tfor (let i = 0; i < properties.axes.length; i++) {\r\n\t\t\t\t\tconst opposite = i % 2 === 0 ? false : true;\r\n\t\t\t\t\tthis.createAxes(properties.axes[i], opposite);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.chart.yAxes.push(new am4charts.ValueAxis());\r\n\t\t\t}\r\n\r\n\t\t\t// Create series\r\n\t\t\tif(properties.series) {\r\n\t\t\t\tfor (let i = 0; i < properties.series.length; i++) {\r\n\t\t\t\t\tconst name = properties.series[i].dataItem ? properties.series[i].dataItem.label : `plot${i}`;\r\n\t\t\t\t\tconst field = properties.series[i].dataItem ?\r\n\t\t\t\t\t\t`${properties.series[i].dataItem.assetId}-${properties.series[i].dataItem.dataItemId}` :\r\n\t\t\t\t\t\t`field${i}`;\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tthis.createSeries(field, 'timestamp', name, properties.series[i]);\r\n\t\t\t\t\t} catch(e) {\r\n\t\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthis.createSeries('value', 'date', 'default', this.chart.yAxes.values[0])\r\n\t\t\t}\r\n\t\t\t// Create a horizontal scrollbar with previe and place it underneath the date axis\r\n\t\t\tthis.chart.scrollbarX = new am4core.Scrollbar();\r\n\t\t\tthis.chart.scrollbarX.parent = this.chart.bottomAxesContainer;\r\n\t\t\tthis.chart.legend = properties.legend ? new am4charts.Legend() : null;\r\n\t\t\t//Title\r\n\t\t\tconst Title = this.chart.titles.create();\r\n\t\t\tTitle.text = properties.title !== '' ? properties.title : '';\r\n\t\t\tTitle.marginBottom = 5;\r\n\t\t\tthis.setState({loading: false});\r\n\t\t} catch(e) {\r\n\t\t\tconsole.log(e);\r\n\t\t\tthis.setState({loading: 'failed'})\r\n\t\t}\r\n\t}\r\n\r\n\tfetchData = async () => {\r\n\t\tconst { start, liveStart, fixedStart, timeType, end, series } = this.props.tile.properties;\r\n\t\tconst assetId = getParameterByName('assetId');\r\n    const times ={\r\n      five: new Date(new Date() - (1000*60*5)).toJSON(),\r\n      ten: new Date(new Date() - (1000*60*10)).toJSON(),\r\n      halfhour: new Date(new Date() - (1000*60*60/2)).toJSON(),\r\n      hour: new Date(new Date() - (1000*60*60)).toJSON()\r\n    }\r\n\r\n    const startTime = start ? times[start] : timeType === 'live' ? times[liveStart] : fixedStart;\r\n\t\tconst endTime = timeType ? timeType === 'live' ? new Date().toJSON() : end : new Date().toJSON();\r\n\t\tconst url = '/api/HistoricalDataItems';\r\n\t\tconst data = series ? series.map(di => {\r\n\t\t\treturn {\r\n\t\t\t\tassetId: assetId,\r\n\t\t\t\tdataItemId: di.dataItem ? di.dataItem.dataItemId : 0\r\n\t\t\t}\r\n\t\t}) : {};\r\n\t\tconst request = await axios({\r\n\t\t\turl: url,\r\n\t\t\tbaseURL: keys.BASE_URL,\r\n\t\t\tmethod: 'POST',\r\n\t\t\theaders: {\r\n\t      \"Content-Type\": \"application/json\",\r\n\t      \"Authorization\": keys.TOKEN,\r\n\t    },\r\n\t\t\tdata: {\r\n\t\t\t\t\"Name\": \"request\",\r\n\t\t\t\t\"DataItems\" : data,\r\n\t\t\t\t\"StartTime\": startTime,\r\n        \"EndTime\": endTime,\r\n        \"Format\":{\"Type\":\"DataItemChart\"}\r\n\t\t\t}\r\n\t\t});\r\n\t\tif(request.data.length !== 0){\r\n\t\t\treturn request.data.map((di) => {\r\n\t\t\t\treturn {\r\n\t\t\t\t\t...di,\r\n\t\t\t\t\ttimestamp: new Date(di.timestamp)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\treturn [{timestamp: new Date(), value: 0}];\r\n\t\t}\r\n\t}\r\n\r\n\tcreateSeries = (field, dateX, name, plot) => {\r\n\t\tconst { timeType } = this.props.tile.properties;\r\n\t\tconst series = this.chart.series.push(new am4charts.LineSeries());\r\n\t\tseries.dataFields.valueY = field;\r\n\t\tseries.dataFields.dateX = dateX;\r\n\t\tseries.strokeWidth = 3; // 3px\r\n\t\tseries.name = name;\r\n\t\tseries.yAxis = plot.axis ? this[plot.axis.label]: plot;\r\n\t\tseries.tensionX = 0.85;\r\n\t\tseries.minBulletDistance = 15;\r\n\t\tif(plot.color && plot.color !== '') {\r\n\t\t\tseries.stroke = am4core.color(`#${plot.color}`);\r\n\t\t\tseries.fill = series.stroke;\r\n\t\t}\r\n\t\t// Drop-shaped tooltips\r\n\t\tseries.tooltipText = `${name}: {${field}}`//\"{value}\"\r\n\t\tseries.tooltip.background.cornerRadius = 20;\r\n\t\tseries.tooltip.background.strokeOpacity = 0;\r\n\t\tseries.tooltip.pointerOrientation = \"vertical\";\r\n\t\tseries.tooltip.label.minWidth = 40;\r\n\t\tseries.tooltip.label.minHeight = 40;\r\n\t\tseries.tooltip.label.textAlign = \"middle\";\r\n\t\tseries.tooltip.label.textValign = \"middle\";\r\n\t\t// Make bullets grow on hover\r\n\t\tconst bullet = series.bullets.push(new am4charts.CircleBullet());\r\n\t\tbullet.circle.strokeWidth = 2;\r\n\t\tbullet.circle.radius = 4;\r\n\t\tbullet.circle.fill = am4core.color(\"#fff\");\r\n\t\tconst bullethover = bullet.states.create(\"hover\");\r\n\t\tbullethover.properties.scale = 1.3;\r\n\r\n\t\tif(timeType === 'live') {\r\n\t\t\t// bullet that moves along the end of the graph\r\n\t\t\tconst endBullet = series.createChild(am4charts.CircleBullet);\r\n\t\t\tendBullet.circle.radius = 3;\r\n\t\t\tendBullet.fillOpacity = 1;\r\n\t\t\t//endBullet.fill = this.chart.colors.getIndex(0);\r\n\t\t\tendBullet.isMeasured = true;\r\n\t\t\tseries.events.on(\"validated\", function() {\r\n\t\t\t\tendBullet.moveTo(series.dataItems.last.point);\r\n\t\t\t\tendBullet.validatePosition();\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n\tcreateAxes = (axis, opposite) => {\r\n\t\tthis[axis.label] = this.chart.yAxes.push(new am4charts.ValueAxis());\r\n\t\tthis[axis.label].title.text = axis.label !== '' ? axis.label : '';\r\n\t\tthis[axis.label].renderer.line.strokeOpacity = 1;\r\n\t  this[axis.label].renderer.line.strokeWidth = 2;\r\n\t  this[axis.label].renderer.grid.template.disabled = true;\r\n\t\tthis[axis.label].renderer.opposite = opposite;\r\n\t\tthis[axis.label].min = axis.min !== '' ? +axis.min : null;\r\n\t\tthis[axis.label].max = axis.max !== '' ? +axis.max : null;\r\n\t\tif(axis.min !== '' && axis.max !== '') {\r\n\t\t\tthis[axis.label].strictMinMax = true;\r\n\t\t}\r\n\t}\r\n\r\n\tasync componentDidMount() {\r\n\t\tawait this.chartInit();\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tif (this.chart) {\r\n \t\t  this.chart.dispose();\r\n \t  }\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst { properties } = this.props.tile;\r\n\t\tconst { dataItems } = this.props.data;\r\n\t\tif(prevProps.tile.properties !== properties) {\r\n\t\t\tthis.chart.dispose();\r\n\t\t\tthis.chartInit();\r\n\t\t}\r\n\t\tif(properties.series && dataItems && properties.timeType === 'live') { //this.chart.length !== 0\r\n\t\t\tconst newData = {};\r\n\t\t\tfor (let i = 0; i < properties.series.length; i++) {\r\n\t\t\t\ttry{\r\n\t\t\t\t\tconst di = properties.series[i].dataItem;\r\n\t\t\t\t\tnewData[`${di.assetId}-${di.dataItemId}`] = dataItems.find(el => el.label === di.label) ? dataItems.find(el => el.label === di.label).value : 0\r\n\t\t\t\t} catch(e) {\r\n\t\t\t\t\tconsole.log(e);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tnewData.timestamp = new Date();\r\n\t\t\tthis.chart.addData(newData);\r\n\t\t}\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { id } = this.props.tile;\r\n\t\tconst { loading } = this.state;\r\n\t\tconst visible = loading ? 'block' : 'none';\r\n\t\treturn ( < >\r\n\t\t\t<div style={{position: 'absolute', top: '40%', left:'50%', transform: 'translateX(-50%)', display:loading === 'failed' ? 'block' : 'none'}}>\r\n\t\t\t\tSomething went wrong, try refreshing this tile\r\n\t\t\t</div>\r\n\t\t\t<div style={{position: 'absolute', top: '40%', left:'50%', transform: 'translateX(-50%)', display:visible}}>\r\n\t\t\t\t<ScaleLoader\r\n\t\t\t\t\tsizeUnit={'px'}\r\n\t\t\t\t\tsize={30}\r\n\t\t\t\t\tcolor={variables.fontColor}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div style={{width: \"100%\", height: \"100%\", position: 'relative'}} >\r\n\t\t\t\t<span\r\n          style={{ position: 'absolute', top: '5px', left: '40px', zIndex: 1000, cursor:'grab' }}\r\n        >\r\n\t\t\t\t\t<span title='Click and hold to move tile'>\r\n\t\t\t\t\t\t<FiMove style={{height:'1rem'}} />\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<span title='Click to refresh graph'>\r\n\t\t\t\t\t\t<FiRefreshCw\r\n\t\t\t\t\t\t\tstyle={{height:'1rem', marginLeft:'.75rem', cursor:'pointer'}}\r\n\t\t\t\t\t\t\tonClick={() => {this.setState({loading:true});this.chartInit();}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</span>\r\n        </span>\r\n\t\t\t\t<div\r\n\t\t\t\t\tid={id}\r\n\t\t\t\t\tstyle={{width: \"100%\", height: \"96%\", position: 'absolute', bottom: '0'}}\r\n\t\t\t\t\tonMouseDown={e => e.stopPropagation()}\r\n\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps({ data }) {\r\n\treturn { data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(MultiAxesLive);\r\n","import React from 'react'\r\n\r\nfunction TileType(props) {\r\n\treturn (\r\n\t\t<div style={{position: 'absolute', top: '15%'}}>\r\n\t\t\t<p style={{textAlign:'center', margin: 0}}>\r\n\t\t\t\tEither no type was selected or this tile type is deprecated, please delete and recreate this tile\r\n\t\t\t</p>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default TileType;\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport axios from 'axios';\r\nimport { ScaleLoader } from 'react-spinners';\r\nimport { keys } from '../../util/keys';\r\nimport { getParameterByName } from '../../util';\r\nimport { FiMove } from 'react-icons/fi';\r\nimport { FiRefreshCcw, FiSave } from 'react-icons/fi';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport {Column} from 'primereact/column';\r\nimport { InputText } from 'primereact/inputtext';\r\n\r\nclass Table extends Component {\r\n  state = {\r\n    globalFilter: '',\r\n    data: [],\r\n    loading:true\r\n  }\r\n\r\n  header = (<div style={{'textAlign':'left'}}>\r\n    <i className=\"pi pi-search\" style={{margin:'4px 4px 0 3rem'}}></i>\r\n    <InputText\r\n      type=\"search\"\r\n      onChange={(e) => {\r\n        e.stopPropagation();\r\n        this.setState({globalFilter: e.target.value})}\r\n      }\r\n      placeholder=\"Search\"\r\n      size=\"50\"\r\n    />\r\n    <span\r\n      style={{marginLeft:'1rem', cursor:'pointer'}}\r\n      title='Refresh Data'\r\n      onClick={(e) => {this.setState({loading:true});this.fetchData()}}\r\n    >\r\n      <FiRefreshCcw size='1rem' style={{height:'1rem'}} />\r\n    </span>\r\n    <span\r\n      style={{marginLeft:'1rem', cursor:'pointer'}}\r\n      title='Export data as csv'\r\n      onClick={(e) => {this.export()}}\r\n    >\r\n      <FiSave size='1rem' style={{height:'1rem'}} onClick={this.export} />\r\n    </span>\r\n  </div>);\r\n\r\n  fetchData = async () => {\r\n    const { option } = this.props.tile.properties;\r\n    const id = getParameterByName('assetId');\r\n    switch(option.value) {\r\n      case 'dataItems':\r\n        this.setState({loading: false})\r\n        break\r\n      case 'alarms':\r\n        axios({\r\n          url: `/api/Assets/${id}/Alarms`,\r\n          baseURL: keys.BASE_URL,\r\n          method: 'GET',\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": keys.TOKEN,\r\n          },\r\n        })\r\n        .then((res) => this.setState({data: res.data, loading:false}))\r\n        break\r\n      case 'events':\r\n        axios({\r\n          url: `/api/Assets/${id}/Events`,\r\n          baseURL: keys.BASE_URL,\r\n          method: 'GET',\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": keys.TOKEN,\r\n          },\r\n        })\r\n        .then((res) => this.setState({data: res.data, loading: false}))\r\n        break\r\n      case 'files':\r\n        axios({\r\n          url: `/api/assets/${id}`,\r\n          baseURL: keys.BASE_URL,\r\n          method: 'GET',\r\n          headers: {\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": keys.TOKEN,\r\n          },\r\n        })\r\n        .then((res) => {\r\n          const date = new Date(new Date() - (1000*60*60*24*7)).toJSON()\r\n          const { serialNumber } = res.data;\r\n          axios({\r\n            url: `/api/files?hostname=${serialNumber}&startDate=${date}`,\r\n            baseURL: keys.BASE_URL,\r\n            method: 'GET',\r\n            headers: {\r\n              \"Content-Type\": \"application/json\",\r\n              \"Authorization\": keys.TOKEN,\r\n            },\r\n          })\r\n          .then((res) => this.setState({data: res.data, loading: false}))\r\n        })\r\n        break\r\n      default:\r\n        this.setState({loading: false});\r\n        break\r\n    }\r\n  }\r\n\r\n  export = () => {\r\n    this.dt.exportCSV();\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.fetchData();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n  }\r\n\r\n  renderFileTable = () => {\r\n    const { data } = this.state;\r\n    const columns = [\r\n      {header: 'File Name', field: 'filename'},\r\n      {header: 'Host Name', field: 'hostname'},\r\n      {header: 'haspId', field: 'haspId'},\r\n      {header: 'Timestamp', field: 'timestamp'},\r\n    ];\r\n    const dynamicCols = columns.map((col, i) => {\r\n      if(col.field === 'filename') {\r\n        return (\r\n          <Column\r\n            key={i}\r\n            field={col.field}\r\n            header={col.header}\r\n            sortable={true}\r\n            body={(rowData, column) => (<a href={`${rowData.filename}`} >{`${rowData.filename}`}</a>)}\r\n         />)\r\n      } else {\r\n        return <Column key={i} field={col.field} header={col.header} sortable={true} />\r\n      }\r\n\r\n    });\r\n    return (\r\n      <DataTable\r\n        ref={(el) => { this.dt = el; }}\r\n        value={data}\r\n        rows={10}\r\n        paginator={true}\r\n        globalFilter={this.state.globalFilter}\r\n        header={this.header}\r\n      >\r\n        {dynamicCols}\r\n      </DataTable>\r\n    )\r\n  }\r\n\r\n  renderEventTable = () => {\r\n    const { data } = this.state;\r\n    const columns = [\r\n      {header: 'Name', field: 'name'},\r\n      {header: 'Cause', field: 'cause'},\r\n      {header: 'Recieved', field: 'received'},\r\n      {header: 'Timestamp', field: 'timestamp'},\r\n      {header: 'Count', field: 'count'}\r\n    ]\r\n    const dynamicCols = columns.map((col, i) => {\r\n      return <Column key={i} field={col.field} header={col.header} sortable={true} />\r\n    });\r\n    return (\r\n      <DataTable\r\n        ref={(el) => { this.dt = el; }}\r\n        value={data}\r\n        rows={10}\r\n        paginator={true}\r\n        globalFilter={this.state.globalFilter}\r\n        header={this.header}\r\n      >\r\n        {dynamicCols}\r\n      </DataTable>\r\n    )\r\n  }\r\n\r\n  renderAlarmTable = () => {\r\n    const { data } = this.state;\r\n    const columns = [\r\n      {header:'Name', field: 'name'},\r\n      {header:'Reason', field: 'reason'},\r\n      {header: 'Cause', field: 'cause'},\r\n      {header: 'Last Raised', field: 'raised'},\r\n      {header: 'Severity', field: 'severity'},\r\n      {header: 'Count', field: 'count'}\r\n    ]\r\n    const dynamicCols = columns.map((col, i) => {\r\n      return <Column key={i} field={col.field} header={col.header} sortable={true} />\r\n    });\r\n    return (\r\n      <DataTable\r\n        ref={(el) => { this.dt = el; }}\r\n        value={data}\r\n        rows={10}\r\n        paginator={true}\r\n        globalFilter={this.state.globalFilter}\r\n        header={this.header}\r\n      >\r\n        {dynamicCols}\r\n      </DataTable>\r\n    )\r\n  }\r\n\r\n  renderDataItemTable = () => {\r\n    let data;\r\n    if (this.props.data.dataItems) {\r\n      data = this.props.data.dataItems.map(di => {\r\n        return {\r\n          ...di,\r\n          value: Math.round(di.value * 1000) / 1000\r\n        }\r\n      });\r\n    }\r\n    const columns = [\r\n      {header: 'Label', field: 'label'},\r\n      {header: 'Value', field: 'value'},\r\n    ];\r\n    const dynamicCols = columns.map((col, i) => {\r\n      return <Column key={i} field={col.field} header={col.header} sortable={true}/>\r\n    });\r\n    return (\r\n      <DataTable\r\n        ref={(el) => { this.dt = el; }}\r\n        value={data}\r\n        rows={10}\r\n        paginator={true}\r\n        globalFilter={this.state.globalFilter}\r\n        header={this.header}\r\n      >\r\n        {dynamicCols}\r\n      </DataTable>\r\n    )\r\n  }\r\n\r\n  render () {\r\n    const { loading } = this.state;\r\n    const { option } = this.props.tile.properties;\r\n    let renderTable;\r\n    if(loading) {\r\n      return (\r\n        <div\r\n          style={{position:'absolute', top:'50%',left:'50%', transform: 'translate(-50%)'}}\r\n        ><ScaleLoader sizeUnit={'px'} size={30} color={'#fff'} />\r\n        </div>)\r\n    } else {\r\n      switch(option.value) {\r\n        case 'dataItems':\r\n          renderTable = this.renderDataItemTable();\r\n          break\r\n        case 'alarms':\r\n          renderTable = this.renderAlarmTable();\r\n          break\r\n        case 'events':\r\n          renderTable = this.renderEventTable();\r\n          break\r\n        case 'files':\r\n          renderTable = this.renderFileTable();\r\n          break\r\n        default:\r\n          renderTable = this.renderDataItemTable();\r\n          break\r\n      }\r\n      return ( < >\r\n        <div className='table-background' style={{height: '100%', width:'100%'}}>\r\n          <span\r\n            style={{ position: 'absolute', top: '5px', left: '35px', zIndex: 1000, cursor:'grab' }}\r\n          > <FiMove style={{height:'1rem'}} />\r\n          </span>\r\n          <div onMouseDown={e => e.stopPropagation()}>\r\n            {renderTable}\r\n          </div>\r\n        </div>\r\n      </> )\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({data}) {\r\n  return ({data});\r\n}\r\n\r\nexport default connect(mapStateToProps)(Table);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\n\r\nclass CylinderGauge extends Component {\r\n\tstatic defaultProps = {}\r\n\r\n\tchartInit = () => {\r\n\t\tconst { id, properties } = this.props.tile;\r\n\t\t//const min = Number(properties.min);\r\n\t\tconst max = Number(properties.max);\r\n\t\tconst dataItem = properties.dataItem;\r\n\t\tconst color = properties.fillColor;\r\n\r\n\t\tam4core.options.commercialLicense = true;\r\n\t\tthis.chart = am4core.create(id, am4charts.XYChart3D);\r\n\r\n\t\tconst title = this.chart.createChild(am4core.Label);\r\n\t\ttitle.text = `${dataItem.label}`;\r\n\t\ttitle.align = 'center';\r\n\t\tconst label = this.chart.createChild(am4core.Label);\r\n\t\tlabel.text = `Max: ${max}`;\r\n\t\tlabel.align = \"center\";\r\n\t\tlabel.isMeasured = false;\r\n\t\tlabel.x = am4core.percent(50);\r\n\t\tlabel.horizontalCenter = 'middle';\r\n\t\tlabel.y = am4core.percent(0);\r\n\r\n\t\tconst categoryAxis = this.chart.xAxes.push(new am4charts.CategoryAxis());\r\n\t\tcategoryAxis.dataFields.category = \"category\";\r\n\t\tcategoryAxis.renderer.grid.template.location = 0;\r\n\t\tcategoryAxis.renderer.grid.template.strokeOpacity = 0;\r\n\r\n\t\tconst valueAxis = this.chart.yAxes.push(new am4charts.ValueAxis());\r\n\t\tvalueAxis.renderer.grid.template.strokeOpacity = 0;\r\n\t\tvalueAxis.min = -20;\r\n\t\tvalueAxis.max = 120;\r\n\t\tvalueAxis.strictMinMax = true;\r\n\t\tvalueAxis.renderer.baseGrid.disabled = true;\r\n\r\n\t\tvalueAxis.renderer.labels.template.adapter.add(\"text\", function(text) {\r\n\t\t  if ((text > 100) || (text < 0)) {\r\n\t\t    return \"\";\r\n\t\t  }\r\n\t\t  else {\r\n\t\t    return text + \"%\";\r\n\t\t  }\r\n\t\t});\r\n\r\n\t\tconst series1 = this.chart.series.push(new am4charts.ConeSeries());\r\n\t\tseries1.dataFields.valueY = \"fillValue\";\r\n\t\tseries1.dataFields.categoryX = \"category\";\r\n\t\tseries1.columns.template.width = am4core.percent(80);\r\n\t\tseries1.columns.template.fillOpacity = 0.9;\r\n\t\tseries1.columns.template.strokeOpacity = 1;\r\n\t\tseries1.columns.template.strokeWidth = 2;\r\n\t\tif(color !== '') {\r\n\t\t\tseries1.columns.template.fill = `#${color}`;\r\n\t\t\tseries1.columns.template.stroke = `#${color}`;\r\n\t\t}\r\n\r\n\t\tconst series2 = this.chart.series.push(new am4charts.ConeSeries());\r\n\t\tseries2.dataFields.valueY = \"emptyValue\";\r\n\t\tseries2.dataFields.categoryX = \"category\";\r\n\t\tseries2.stacked = true;\r\n\t\tseries2.columns.template.width = am4core.percent(80);\r\n\t\tseries2.columns.template.fill = am4core.color(\"#000\");\r\n\t\tseries2.columns.template.fillOpacity = 0.1;\r\n\t\tseries2.columns.template.stroke = am4core.color(\"#000\");\r\n\t\tseries2.columns.template.strokeOpacity = 0.2;\r\n\t\tseries2.columns.template.strokeWidth = 2;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.chartInit()\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst { properties } = this.props.tile;\r\n\t\tconst { dataItems } = this.props.data;\r\n\r\n\t\tif(prevProps.tile.properties !== properties) {\r\n\t\t\tthis.chart.dispose();\r\n\t\t\tthis.chartInit();\r\n\t\t}\r\n\t\t// update on new current data call\r\n\t\tif( properties.dataItem && dataItems && prevProps.data.dataItems !== dataItems) {\r\n\t\t\tconst newData= dataItems.find(el => el.label === properties.dataItem.label).value;\r\n\t\t\tthis.chart.data = [\r\n\t\t\t\t{\r\n\t\t\t\t\t'category': `${Math.round(newData*100)/100} ${properties.unit}`,\r\n\t\t\t\t\t'fillValue': (newData/properties.max)*100, // (value/max)*100\r\n\t\t\t\t\t'emptyValue': ((properties.max - newData)/properties.max)*100 // ((max-value)/max)*100\r\n\t\t\t\t}\r\n\t\t\t];\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t if (this.chart) {\r\n\t\t this.chart.dispose();\r\n\t }\r\n  }\r\n\r\n\trender() {\r\n\t\tconst { id } = this.props.tile;\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tid={id}\r\n\t\t\t\tstyle={{width: \"100%\", height: \"100%\"}}\r\n\t\t\t>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps({ data }) {\r\n\treturn { data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(CylinderGauge)\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\r\n\r\nclass SolidGauge extends Component {\r\n\tstatic defaultProps = {}\r\n\r\n\tchartInit = () => {\r\n\t\tconst { id, properties } = this.props.tile;\r\n\t\tthis.chart = am4core.create(id, am4charts.RadarChart);\r\n\r\n\t\tthis.chart.startAngle = -90;\r\n\t\tthis.chart.endAngle = 180;\r\n\t\tthis.chart.innerRadius = am4core.percent(10);\r\n\t\t// Set number format\r\n\t\tthis.chart.numberFormatter.numberFormat = \"#.##\";\r\n\t\t// Create axes\r\n\t\tconst categoryAxis = this.chart.yAxes.push(new am4charts.CategoryAxis());\r\n\t\tcategoryAxis.dataFields.category = \"category\";\r\n\t\tcategoryAxis.renderer.grid.template.location = 0;\r\n\t\tcategoryAxis.renderer.grid.template.strokeOpacity = 0;\r\n\t\tcategoryAxis.renderer.labels.template.horizontalCenter = \"right\";\r\n\t\tcategoryAxis.renderer.labels.template.fontWeight = 300;\r\n\t\tcategoryAxis.renderer.labels.template.adapter.add(\"fill\", (fill, target) => {\r\n\t\t  return (target.dataItem.index >= 0) ? this.chart.colors.getIndex(target.dataItem.index) : fill;\r\n\t\t});\r\n\t\tcategoryAxis.renderer.minGridDistance = 10;\r\n\r\n\t\tconst valueAxis = this.chart.xAxes.push(new am4charts.ValueAxis());\r\n\t\tvalueAxis.renderer.grid.template.strokeOpacity = 0;\r\n\t\tvalueAxis.min = 0;\r\n\t\tvalueAxis.max = 100;\r\n\t\tvalueAxis.strictMinMax = true;\r\n\t\tvalueAxis.renderer.labels.template.adapter.add(\"text\", (text) => {\r\n\t\t\tif(text >= 100) {\r\n\t\t\t\treturn `${properties.max} ${properties.unit ? properties.unit : ''}`;\r\n\t\t\t}\r\n\t\t\treturn text + \"%\";\r\n\t\t});\r\n\r\n\t\t// Create series\r\n\t\tconst series1 = this.chart.series.push(new am4charts.RadarColumnSeries());\r\n\t\tseries1.dataFields.valueX = \"full\";\r\n\t\tseries1.dataFields.categoryY = \"category\";\r\n\t\tseries1.clustered = false;\r\n\t\tseries1.columns.template.fill = new am4core.InterfaceColorSet().getFor(\"alternativeBackground\");\r\n\t\tseries1.columns.template.fillOpacity = 0.08;\r\n\t\tseries1.columns.template.cornerRadiusTopLeft = 20;\r\n\t\tseries1.columns.template.strokeWidth = 0;\r\n\t\tseries1.columns.template.radarColumn.cornerRadius = 20;\r\n\r\n\t\tconst series2 = this.chart.series.push(new am4charts.RadarColumnSeries());\r\n\t\tseries2.dataFields.valueX = \"value\";\r\n\t\tseries2.dataFields.categoryY = \"category\";\r\n\t\tseries2.clustered = false;\r\n\t\tseries2.columns.template.strokeWidth = 0;\r\n\t\tseries2.columns.template.tooltipText = `[bold]{raw} ${properties.unit ? properties.unit : ''}`;\r\n\t\tseries2.columns.template.radarColumn.cornerRadius = 20;\r\n\r\n\t\tseries2.columns.template.adapter.add(\"fill\", (fill, target) => {\r\n\t\t  return this.chart.colors.getIndex(target.dataItem.index);\r\n\t\t});\r\n\r\n\t\t// Add cursor\r\n\t\tthis.chart.cursor = new am4charts.RadarCursor();\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tthis.chartInit();\r\n\t}\r\n\r\n\tcomponentDidUpdate(prevProps) {\r\n\t\tconst { properties } = this.props.tile;\r\n\t\tconst { dataItems } = this.props.data;\r\n\t\tif(prevProps.tile.properties !== properties) {\r\n\t\t\tthis.chart.dispose();\r\n\t\t\tthis.chartInit();\r\n\t\t}\r\n\t\tif(properties.dataItems && dataItems) {\r\n\t\t\tconst newData = [];\r\n\t\t\tfor(let i = 0; i < properties.dataItems.length; i++) {\r\n\t\t\t\tconst di = properties.dataItems[i];\r\n\t\t\t\tconst newDi = dataItems.find(el => el.label === di.label);\r\n\t\t\t\tnewData[i] = {\r\n\t\t\t\t\t'category': newDi.label,\r\n\t\t\t\t\t'value': (newDi.value/properties.max)*100,\r\n\t\t\t\t\t'raw': newDi.value,\r\n\t\t\t\t\t'full': properties.max\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tthis.chart.data = newData;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t if (this.chart) {\r\n\t\t this.chart.dispose();\r\n\t }\r\n\t // update on new current data call\r\n\t // update this.chart.data\r\n }\r\n\r\n\trender() {\r\n\t\tconst { id } = this.props.tile;\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tid={id}\r\n\t\t\t\tstyle={{width: \"100%\", height: \"100%\"}}\r\n\t\t\t>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nfunction mapStateToProps({ data }) {\r\n\treturn { data }\r\n}\r\n\r\nexport default connect(mapStateToProps)(SolidGauge)\r\n","import React, { Component } from 'react';\r\nimport Iframe from 'react-iframe';\r\n\r\nclass IframeTile extends Component {\r\n  render () {\r\n    const { id, properties } = this.props.tile;\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\tid={id}\r\n\t\t\t\tstyle={{width:'96%', height: '96%', margin: 'auto', marginTop: '1.5rem', paddingBottom: '1.5rem', borderRadius: '5px'}}\r\n\t\t\t>\r\n        <Iframe\r\n          url={properties.url}\r\n          style={{borderRadius: '5px'}}\r\n          width=\"100%\"\r\n          height=\"100%\"\r\n          className=\"\"\r\n          display=\"initial\"\r\n          position=\"relative\"\r\n          allowFullScreen\r\n        />\r\n\t\t\t</div>\r\n\t\t)\r\n  }\r\n}\r\n\r\nexport default IframeTile;\r\n","import React, { Component } from 'react'\r\nimport { connect } from \"react-redux\";\r\nimport { FiSettings, FiX } from \"react-icons/fi\";\r\nimport * as actions from '../actions';\r\nimport Gauge from '../components/visuals/Gauge';\r\nimport BasicGraph from '../components/visuals/BasicGraph';\r\nimport TextBox from '../components/visuals/TextBox';\r\nimport Map from '../components/visuals/Map';\r\nimport AdvancedGraph from '../components/visuals/AdvancedGraph';\r\nimport TileType from '../components/visuals/TileType';\r\nimport Table from '../components/visuals/Table';\r\nimport CustomTable from '../components/visuals/CustomTable';\r\nimport CylinderGauge from '../components/visuals/CylinderGauge';\r\nimport SolidGauge from '../components/visuals/SolidGauge';\r\nimport IframeTile from '../components/visuals/IframeTile';\r\n\r\nconst components = {\r\n  TileType: TileType,\r\n  Gauge: Gauge,\r\n  BasicGraph: BasicGraph,\r\n  AdvancedGraph: AdvancedGraph,\r\n  TextBox: TextBox,\r\n  Map: Map,\r\n  Table: Table,\r\n  CustomTable: CustomTable,\r\n  CylinderGauge: CylinderGauge,\r\n  SolidGauge: SolidGauge,\r\n  IframeTile: IframeTile\r\n}\r\n\r\nclass Tile extends Component {\r\n  handleEditTile(tile) {\r\n    const { toggleModal } = this.props;\r\n    toggleModal(tile);\r\n  }\r\n\r\n  render () {\r\n    const { tile, deleteTile, activeTab, ui  } = this.props;\r\n    const TagName = tile.properties.type && components[tile.properties.type.value] ? components[tile.properties.type.value] : components['TileType'];\r\n    const viewOnly = ui.viewOnly ? 'none' : '';\r\n    return ( < >\r\n      <div className='tile' style={{height: '100%', width: '100%'}}>\r\n        <span\r\n          className='tile-remove'\r\n          style={{position: 'absolute', top: '5px', right: '10px', zIndex: 1000, display: viewOnly }}\r\n          title=\"Click to delete tile\"\r\n          onClick={() => deleteTile(tile.id, activeTab)}\r\n        > <FiX style={{height:'1rem'}}/>\r\n        </span>\r\n        <span\r\n          style={{position: 'absolute', top: '5px', left: '10px', zIndex: 1000, cursor: 'pointer', display: viewOnly }}\r\n          title=\"Click to Edit tile\"\r\n          onClick={(e) => this.handleEditTile(tile)}\r\n        ><FiSettings style={{height:'1rem'}} size={'1rem'} />\r\n        </span>\r\n        <TagName tile={tile} />\r\n      </div>\r\n    </> )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ activeTab, ui }) {\r\n  return { activeTab, ui };\r\n}\r\n\r\nexport default connect(mapStateToProps,actions)(Tile);\r\n","import React from 'react'\r\nimport {Responsive, WidthProvider} from 'react-grid-layout';\r\nimport { connect } from \"react-redux\";\r\nimport * as actions from '../actions';\r\nimport Tile from '../containers/Tile';\r\n\r\nconst ResponsiveGridLayout = WidthProvider(Responsive);\r\n\r\nclass Main extends React.Component {\r\n  renderGrids = (tab) => {\r\n    const { tiles, layouts, activeTab, ui } = this.props;\r\n    const display = activeTab.index === tab.index ? 'visible' : 'hidden'\r\n    const height = activeTab.index === tab.index ? '' : 0\r\n    return (\r\n      <div style={{visibility: display, height: height}} key={tab.index}>\r\n        <ResponsiveGridLayout\r\n          style={{visibility:display, height: height}}\r\n          key={tab.index}\r\n          breakpoints={{lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0}}\r\n          cols={{lg: 12, md: 9, sm: 6, xs: 4, xxs: 2}}\r\n          rowHeight={80}\r\n          layouts={layouts[tab.index]}\r\n          onLayoutChange={(layout, layouts) => this.handleLayoutChange(layout, layouts, tab)}\r\n          isDraggable={!ui.viewOnly}\r\n          isResizable={!ui.viewOnly}\r\n        >\r\n          {tiles[tab.index] && tiles[tab.index].map(this.renderTile)}\r\n        </ResponsiveGridLayout>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  renderTile = (tile) => {\r\n    return (\r\n      <div key={tile.id} data-grid={tile.dataGrid} >\r\n        <Tile tile={tile} toggleModal={this.toggleModal}/>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  handleLayoutChange = (layout, layouts, tab) => {\r\n    this.props.saveLayouts(layouts, tab)\r\n  }\r\n\r\n  render () {\r\n    const { tabs } = this.props;\r\n    return ( < >\r\n      {tabs && tabs.map(this.renderGrids)}\r\n      </>\r\n    )\r\n  }\r\n}\r\n\r\nfunction mapStateToProps({ activeTab, layouts, tiles, ui, tabs }) {\r\n  return { activeTab, layouts, tiles, ui, tabs }\r\n}\r\n\r\nexport default connect(mapStateToProps, actions)(Main);\r\n\r\n// class Main extends React.Component {\r\n//\r\n//   renderTile = (tile) => {\r\n//     return (\r\n//       <div key={tile.id} data-grid={tile.dataGrid} >\r\n//         <Tile tile={tile} toggleModal={this.toggleModal}/>\r\n//       </div>\r\n//     )\r\n//   }\r\n//\r\n//   handleLayoutChange = (layout, layouts) => {\r\n//     const { activeTab } = this.props;\r\n//     this.props.saveLayouts(layouts, activeTab)\r\n//   }\r\n//\r\n//   render () {\r\n//     const { tiles, layouts, activeTab, ui } = this.props;\r\n//     return ( < >\r\n//       <ResponsiveGridLayout\r\n//         breakpoints={{lg: 1200, md: 996, sm: 768, xs: 480, xxs: 0}}\r\n//         cols={{lg: 12, md: 9, sm: 6, xs: 4, xxs: 2}}\r\n//         rowHeight={80}\r\n//         layouts={layouts[activeTab.index]}\r\n//         onLayoutChange={this.handleLayoutChange}\r\n//         isDraggable={!ui.viewOnly}\r\n//         isResizable={!ui.viewOnly}\r\n//       >\r\n//         {tiles[activeTab.index] && tiles[activeTab.index].map(this.renderTile)}\r\n//       </ResponsiveGridLayout>\r\n//       </>\r\n//     )\r\n//   }\r\n// }\r\n//\r\n// function mapStateToProps({ activeTab, layouts, tiles, ui }) {\r\n//   return { activeTab, layouts, tiles, ui }\r\n// }\r\n//\r\n// export default connect(mapStateToProps, actions)(Main);\r\n","import React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { PulseLoader } from 'react-spinners';\r\nimport * as actions from '../actions';\r\nimport { getParameterByName, loginStatus } from '../util';\r\nimport NavBar from './NavBar';\r\nimport SideBar from '../containers/SideBar';\r\nimport Modal from '../containers/Modal';\r\nimport Tabs from '../containers/Tabs';\r\nimport Main from '../containers/Main';\r\nimport * as am4core from \"@amcharts/amcharts4/core\";\r\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\r\nimport am4themes_dark from \"@amcharts/amcharts4/themes/dark\";\r\n// css entry point\r\nimport variables from '../styles/variables.scss';\r\nimport '../styles/main.scss';\r\nam4core.useTheme(am4themes_dark);\r\n//am4core.useTheme(am4themes_animated);\r\nam4core.options.autoSetClassName = true;\r\nclass App extends Component {\r\n  state = {\r\n    loading: true\r\n  }\r\n\r\n  async componentDidMount() {\r\n    const status = await loginStatus();\r\n    if(getParameterByName('mode') !== 'builder') {\r\n      this.props.toggleViewOnly();\r\n    }\r\n    await this.props.loadDashboard()\r\n    .then(() => this.setState({loading: false}))\r\n    .catch((e) => {\r\n      console.log(e);\r\n      this.setState({loading: 'failed'});\r\n    });\r\n    await this.props.currentData();\r\n    await this.props.assetData();\r\n    await this.props.attributes();\r\n    await this.props.assetDefinitionData();\r\n    this.interval = setInterval(() => this.props.currentData(), 3000);\r\n  }\r\n\r\n  render() {\r\n    const { loading } = this.state;\r\n    if(loading === 'failed') {\r\n      return ( < >\r\n        <NavBar toggleSidebar={this.toggleSidebar} />\r\n        <section style={{height:'94vh'}}>\r\n          <div style={{position: 'absolute', top: '50%', left:'50%', transform: 'translateX(-50%)'}}>\r\n            <h2 >Failed to load Dashboard. Please refresh.</h2>\r\n          </div>\r\n        </section>\r\n        </>\r\n      )\r\n    } else if (loading) {\r\n      return ( < >\r\n        <NavBar toggleSidebar={this.toggleSidebar} />\r\n        <section style={{height:'94vh'}} >\r\n          <div style={{position: 'absolute', top: '50%', left:'50%', transform: 'translateX(-50%)'}} >\r\n            <PulseLoader\r\n              sizeUnit={'px'}\r\n              size={20}\r\n              color={variables.fontColor}\r\n            />\r\n          </div>\r\n        </section>\r\n        </>\r\n      )\r\n    }\r\n    return (\r\n      < >\r\n        <NavBar toggleSidebar={this.toggleSidebar} />\r\n        <SideBar className='sidebar' />\r\n        <Modal />\r\n        <Tabs />\r\n        <Main className='main'/>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default connect(null, actions)(App);\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","// React imports\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\n// Redux imports\r\nimport { Provider } from 'react-redux';\r\nimport configureStore from './configureStore';\r\n// my imports\r\nimport App from './components/App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n\r\n\r\nconst enhancedStore = configureStore();\r\n\r\nReactDOM.render(\r\n  <Provider store={enhancedStore}>\r\n    <App />\r\n  </Provider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","import { createStore, applyMiddleware, compose } from 'redux';\r\nimport ReduxThunk from 'redux-thunk'\r\nimport rootReducer from './reducers';\r\n//import {compose} from 'redux-devtools';\r\n\r\nexport default function configureStore(preLoadedState) {\r\n  const middlewareEnhancer = applyMiddleware(ReduxThunk);\r\n  const composedEnhancer = compose(middlewareEnhancer);\r\n  const enhancedStore = createStore(rootReducer, preLoadedState, composedEnhancer);\r\n\r\n  return enhancedStore;\r\n}\r\n","export const keys = {\r\n  BASE_URL: '',//'https://sandbox.limeinst.com',\r\n  TOKEN: ''//'Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhdXRoSWQiOiJmYzhiNzQ5ZC0wMzZjLTQwOTMtODc5Yi0xZWZjZjc2ZTVhNDMiLCJleHAiOjE1NzM1MTY4MDAsImlzcyI6IkxpbWVfQ2xvdWQiLCJhdWQiOiJhdWQifQ.5ciqWB7QgkIhyYuXjME2_taEaLViyTe-yN8kNkxEsvE'\r\n}\r\n","import axios from 'axios';\r\nimport { keys } from './keys';\r\n\r\nexport const guid = () => {\r\n  function s4() {\r\n    return Math.floor((1 + Math.random()) * 0x10000)\r\n      .toString(16)\r\n      .substring(1);\r\n  }\r\n  return s4() + s4() + '-' + s4() + '-' + s4() + '-' + s4() + '-' + s4() + s4() + s4();\r\n}\r\n\r\nexport const getParameterByName = ( name ) => {\r\n  name = name.replace(/[\\[]/,\"\\\\\\[\").replace(/[\\]]/,\"\\\\\\]\");\r\n  var regexS = \"[\\\\?&]\"+name+\"=([^&#]*)\";\r\n  var regex = new RegExp( regexS );\r\n  var results = regex.exec( window.location.href );\r\n  if( results == null )\r\n    return \"\";\r\n  else\r\n    return decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n}\r\n\r\nexport const loginStatus = async () => {\r\n  if(!window.location.href.toLowerCase().match(\"login\")) {\r\n    sessionStorage.destination = window.location.href;\r\n    console.log('probably logs');\r\n    try {\r\n      const request = await axios({\r\n        url: '/api/Auth/Status',\r\n        baseURL: keys.BASE_URL,\r\n        method: 'GET',\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        }\r\n      });\r\n      const status = request.data;\r\n      if(status.login === 'valid') {\r\n        sessionStorage.destination = window.location.href\r\n        //window.location.replace('?error='+data.error.source)\r\n      }\r\n  } catch {\r\n    console.log('hello?');\r\n    window.location.href = `http://www.google.com`;\r\n  }\r\n\r\n  }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fontColor\":\"rgba(255, 255, 255, 0.8)\"};"],"sourceRoot":""}