(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{180:function(module,__webpack_exports__,__webpack_require__){"use strict";var D_react_dashboard_with_redux_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(33),D_react_dashboard_with_redux_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(D_react_dashboard_with_redux_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0__),D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(46),D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(22),D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(23),D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(26),D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(24),D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(27),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(3),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),react_redux__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(25),axios__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(50),axios__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_9__),react_icons_fi__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(42),react_spinners__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(75),react_spinners__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(react_spinners__WEBPACK_IMPORTED_MODULE_11__),_util_keys__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(36),primereact_datatable__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(105),primereact_datatable__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(primereact_datatable__WEBPACK_IMPORTED_MODULE_13__),primereact_column__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(92),primereact_column__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(primereact_column__WEBPACK_IMPORTED_MODULE_14__),primereact_inputtext__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(38),primereact_inputtext__WEBPACK_IMPORTED_MODULE_15___default=__webpack_require__.n(primereact_inputtext__WEBPACK_IMPORTED_MODULE_15__),_styles_variables_scss__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(85),_styles_variables_scss__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_styles_variables_scss__WEBPACK_IMPORTED_MODULE_16__),CustomTable=function(_Component){function CustomTable(){var _getPrototypeOf2,_this;Object(D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,CustomTable);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,(_getPrototypeOf2=Object(D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(CustomTable)).call.apply(_getPrototypeOf2,[this].concat(args))),_this.state={globalFilter:"",data:[],loading:!0},_this.header=react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{textAlign:"left"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("i",{className:"pi pi-search",style:{margin:"4px 4px 0 3rem"}}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(primereact_inputtext__WEBPACK_IMPORTED_MODULE_15__.InputText,{type:"search",onChange:function(e){e.stopPropagation(),_this.setState({globalFilter:e.target.value})},placeholder:"Search",size:"50"}),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{style:{marginLeft:"1rem",cursor:"pointer"},title:"Refresh Data",onClick:function(e){_this.setState({loading:!0}),_this.fetchData()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_10__.d,{size:"1rem",style:{height:"1rem"}})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{style:{marginLeft:"1rem",cursor:"pointer"},title:"Export data as csv",onClick:function(e){_this.export()}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_10__.f,{size:"1rem",style:{height:"1rem"},onClick:_this.export}))),_this.fetchData=Object(D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__.a)(D_react_dashboard_with_redux_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.mark(function e(){var t;return D_react_dashboard_with_redux_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=_this.props.tile.properties,axios__WEBPACK_IMPORTED_MODULE_9___default()({url:t.url,baseURL:_util_keys__WEBPACK_IMPORTED_MODULE_12__.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json",Authorization:_util_keys__WEBPACK_IMPORTED_MODULE_12__.a.TOKEN}}).then(function(e){_this.setState({data:e.data,loading:!1})}).catch(function(e){console.log(e),_this.setState({loading:!1})});case 2:case"end":return e.stop()}},e,this)})),_this.export=function(){_this.dt.exportCSV()},_this.linkTemplate=function(e,t,a){var n=a(e).replace(/\^/g," ");return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{dangerouslySetInnerHTML:{__html:n}})},_this.renderTable=function(){var _this$state=_this.state,data=_this$state.data,loading=_this$state.loading;if(loading)return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%)"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_spinners__WEBPACK_IMPORTED_MODULE_11__.ScaleLoader,{sizeUnit:"px",size:30,color:_styles_variables_scss__WEBPACK_IMPORTED_MODULE_16___default.a.fontColor}));try{var columns=eval(_this.props.tile.properties.columns.replace(/\s/g,"")),dynamicCols=columns.map(function(e,t){return e.body?react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(primereact_column__WEBPACK_IMPORTED_MODULE_14__.Column,{key:t,field:e.field,header:e.header,sortable:!0,body:function(t,a){return _this.linkTemplate(t,a,e.body)}}):react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(primereact_column__WEBPACK_IMPORTED_MODULE_14__.Column,{key:t,field:e.field,header:e.header,sortable:!0})});return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(primereact_datatable__WEBPACK_IMPORTED_MODULE_13__.DataTable,{ref:function(e){_this.dt=e},value:data,rows:10,paginator:!0,globalFilter:_this.state.globalFilter,header:_this.header},dynamicCols)}catch(err){return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%)"}},"Invalid Input, please try again")}},_this}return Object(D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(CustomTable,_Component),Object(D_react_dashboard_with_redux_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(CustomTable,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tile.properties;e.tile.properties!==t&&this.fetchData()}},{key:"render",value:function(){var e=this.renderTable();return react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react__WEBPACK_IMPORTED_MODULE_7___default.a.Fragment,null,react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{className:"table-background",style:{height:"100%",width:"100%"}},react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("span",{style:{position:"absolute",top:"5px",left:"35px",zIndex:1e3,cursor:"grab"}}," ",react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(react_icons_fi__WEBPACK_IMPORTED_MODULE_10__.b,{style:{height:"1rem"}})),react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement("div",{onMouseDown:function(e){return e.stopPropagation()}},e)))}}]),CustomTable}(react__WEBPACK_IMPORTED_MODULE_7__.Component);function mapStateToProps(e){return{data:e.data}}__webpack_exports__.a=Object(react_redux__WEBPACK_IMPORTED_MODULE_8__.b)(mapStateToProps)(CustomTable)},187:function(e,t,a){e.exports=a(302)},294:function(e,t,a){e.exports={fontColor:"rgba(255, 255, 255, 0.8)"}},302:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"saveDashboard",function(){return P}),a.d(n,"loadDashboard",function(){return N}),a.d(n,"currentData",function(){return B}),a.d(n,"assetData",function(){return R}),a.d(n,"assetDefinitionData",function(){return U}),a.d(n,"toggleViewOnly",function(){return W}),a.d(n,"toggleSidebar",function(){return F}),a.d(n,"toggleModal",function(){return K}),a.d(n,"resetModal",function(){return G}),a.d(n,"addTile",function(){return z}),a.d(n,"deleteTile",function(){return q}),a.d(n,"editTile",function(){return V}),a.d(n,"saveLayouts",function(){return X}),a.d(n,"addTab",function(){return H}),a.d(n,"editTab",function(){return J}),a.d(n,"deleteTab",function(){return Y}),a.d(n,"changeTab",function(){return $});var r=a(3),l=a.n(r),i=a(87),o=a.n(i),s=a(25),c=a(97),d=a(173),u=a(62),m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILE":return Object(u.a)(e).concat([{id:t.id,properties:t.tile.properties,dataGrid:t.tile.dataGrid}]);case"DELETE_TILE":return e.filter(function(e){return e.id!==t.id});case"LOAD_DASHBOARD":return t.payload.data.tiles?t.payload.data.tiles[0]:e;case"SET_ACTIVE_TILES":return t.tiles?t.tiles:[];default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[[]],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TILE":var a=t.activeTab,n=t.id,r=t.tile,l=e,i=Object(u.a)(e[a.index]).concat([{id:n,properties:r.properties,dataGrid:r.dataGrid}]);return l.splice(a.index,1,i),Object(u.a)(l);case"DELETE_TILE":var o=t.activeTab,s=t.id,c=e[o.index].filter(function(e){return e.id!==s}),d=e.slice(0);return d.splice(o.index,1,c),Object(u.a)(d);case"EDIT_TILE":var m=t.index,p=t.newTile,h=e[m].filter(function(e){return e.id!==p.id});h.push(p);var _=e.slice(0);return _.splice(m,1,h),Object(u.a)(_);case"ADD_TAB":return Object(u.a)(e).concat([[]]);case"DELETE_TAB":return e.filter(function(e,a){return a!==t.index});case"LOAD_DASHBOARD":return t.payload.data.tiles?t.payload.data.tiles:e;default:return e}},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(arguments.length>1?arguments[1]:void 0).type,e},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SAVE_LAYOUT":var a=t.layouts,n=t.tab,r=e.slice(0);return r.splice(n.index,1,a),r;case"ADD_TAB":return Object(u.a)(e).concat([{}]);case"DELETE_TAB":return e.filter(function(e,a){return a!==t.index});case"SAVE_DASHBOARD":return e;case"LOAD_DASHBOARD":return t.payload.data.layouts?t.payload.data.layouts:e;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"default",index:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_TAB":return t.tab;case"DELETE_TAB":default:return e}},f=a(41),v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{name:"default",index:0}],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TAB":return Object(u.a)(e).concat([t.tab]);case"EDIT_TAB":return e.map(function(e,a){return a===t.tab.index?Object(f.a)({},e,{name:t.name}):e});case"DELETE_TAB":return e.map(function(e,a){return a>t.index?{name:e.name,index:e.index-1}:e}).filter(function(e,a){return a!==t.index});case"LOAD_DASHBOARD":return t.payload.data.tabs?t.payload.data.tabs:e;default:return e}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sidebar:!1,modal:{visible:!1,tile:null},viewOnly:!1},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_SIDEBAR":var a=!e.sidebar;return Object(f.a)({},e,{sidebar:a});case"TOGGLE_MODAL":return Object(f.a)({},e,{modal:{visible:!0,tile:t.tile}});case"RESET_MODAL":return Object(f.a)({},e,{modal:{visible:!1,tile:null}});case"EDIT_TILE":return Object(f.a)({},e,{modal:Object(f.a)({},e.modal,{tile:t.tile})});case"TOGGLE_VIEWONLY":return Object(f.a)({},e,{viewOnly:!e.viewOnly});default:return e}},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_DATA":return 200===t.payload.status?Object(f.a)({},e,{dataItems:t.payload.data}):(console.log(t.payload),Object(f.a)({},e,{dataItems:null}));case"ASSET_DATA":return 200===t.payload.status?Object(f.a)({},e,{asset:t.payload.data}):(console.log(t.payload),Object(f.a)({},e,{asset:null}));case"ASSET_DEFINITION_DATA":return 200===t.payload.status?Object(f.a)({},e,{assetDef:t.payload.data}):(console.log(t.payload),Object(f.a)({},e,{assetDef:null}));default:return e}},y=Object(c.c)({activeTab:b,tabs:v,activeTiles:m,tiles:p,activeLayouts:h,layouts:_,ui:E,data:g});var O=a(33),x=a.n(O),D=a(46),T=a(22),C=a(23),w=a(26),I=a(24),k=a(27),A=a(75),j=a(50),M=a.n(j),S=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(window.location.href);return null==t?"":decodeURIComponent(t[1].replace(/\+/g," "))},L=a(36),P=function(e,t,a){return function(){var n=Object(D.a)(x.a.mark(function n(r){var l,i,o;return x.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return l=S("dashboardId"),i="/api/dashboards/".concat(l),n.next=4,M()({url:i,baseURL:L.a.BASE_URL,method:"POST",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN},data:JSON.stringify({tiles:e,layouts:t,tabs:a})});case 4:o=n.sent,r({type:"SAVE_DASHBOARD",payload:o.data});case 6:case"end":return n.stop()}},n,this)}));return function(e){return n.apply(this,arguments)}}()},N=function(){return function(){var e=Object(D.a)(x.a.mark(function e(t){var a,n,r,l,i,o,s,c;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=S("dashboardId"),n=S("assetDefinitionId"),r=S("assetId"),a){e.next=20;break}return e.next=6,M()({url:"/api/assetDefinitions/".concat(n,"/Dashboards"),baseURL:L.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN}});case 6:if(0===(l=e.sent).data.length){e.next=11;break}a=l.data[0].dashboardId,e.next=18;break;case 11:return i={dashboardId:0,dashboardName:"assetdef16dashboard",systemDefinitionId:null,assetDefinitionId:n,config:" "},e.next=14,M()({url:"/api/dashboards",baseURL:L.a.BASE_URL,method:"POST",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN},data:JSON.stringify(i)});case 14:o=e.sent,a=o[0].dashboardId,alert("No dashboard for this asset was found, creating a new one"),console.log(a);case 18:s=window.location.protocol+"//"+window.location.host+window.location.pathname+"?dashboardId=".concat(a,"&assetDefinitionId=").concat(n,"&assetId=").concat(r),window.history.pushState({path:s},"",s);case 20:return e.next=22,M()({url:"/api/dashboards/".concat(a),baseURL:L.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN}});case 22:c=e.sent,t({type:"LOAD_DASHBOARD",payload:c});case 24:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},B=function(){return function(){var e=Object(D.a)(x.a.mark(function e(t){var a,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=S("assetId"),n="/api/Assets/".concat(a,"/currentDataItems"),e.next=4,M()({url:n,baseURL:L.a.BASE_URL,method:"GET",headers:{Authorization:L.a.TOKEN,"Content-Type":"application/json"}});case 4:r=e.sent,t({type:"CURRENT_DATA",payload:r});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},R=function(){return function(){var e=Object(D.a)(x.a.mark(function e(t){var a,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=S("assetId"),n="/api/assets/".concat(a),e.next=4,M()({url:n,baseURL:L.a.BASE_URL,method:"GET",headers:{Authorization:L.a.TOKEN,"Content-Type":"application/json"}});case 4:r=e.sent,t({type:"ASSET_DATA",payload:r});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},U=function(){return function(){var e=Object(D.a)(x.a.mark(function e(t){var a,n,r;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=S("assetDefinitionId"),n="/api/assetdefinitions/".concat(a),e.next=4,M()({url:n,baseURL:L.a.BASE_URL,method:"GET",headers:{Authorization:L.a.TOKEN,"Content-Type":"application/json"}});case 4:r=e.sent,t({type:"ASSET_DEFINITION_DATA",payload:r});case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},W=function(){return{type:"TOGGLE_VIEWONLY"}},F=function(){return{type:"TOGGLE_SIDEBAR"}},K=function(e){return{type:"TOGGLE_MODAL",tile:e}},G=function(){return{type:"RESET_MODAL"}},z=function(e,t){var a={dataGrid:{x:999,y:0,w:2,h:2},properties:e};return{type:"ADD_TILE",id:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}(),tile:a,activeTab:t}},q=function(e,t){return{type:"DELETE_TILE",id:e,activeTab:t}},V=function(e,t){return{type:"EDIT_TILE",newTile:e,index:t}},X=function(e,t){return{type:"SAVE_LAYOUT",layouts:e,tab:t}},H=function(e){return{type:"ADD_TAB",tab:e}},J=function(e,t){return{type:"EDIT_TAB",tab:e,name:t}},Y=function(e){return{type:"DELETE_TAB",index:e}},$=function(e){return{type:"CHANGE_TAB",tab:e}},Q=a(42),Z=a(95);var ee=Object(s.b)(function(e){return{ui:e.ui,data:e.data}},n)(function(e){var t=e.toggleSidebar,a=e.toggleViewOnly,n=e.ui,r=e.data,i=r.asset,o=r.assetDef,s=n.viewOnly?"none":"",c=window.innerWidth>600?"block":"none",d=i&&o?"builder"===S("mode")?o.assetDefinitionName:i.assetAlias:"";return l.a.createElement("nav",{className:"navbar"},l.a.createElement("div",{className:"navbar-menu navbar-section",onClick:t,style:{cursor:"pointer"}},l.a.createElement(Q.a,{style:{display:s,height:"1.75rem"},className:"navbar-menu-icon",size:"1.75rem"})),l.a.createElement("div",{className:"navbar-section"},l.a.createElement(Z.Checkbox,{style:{marginTop:".2rem",marginLeft:"1.5rem",borderRadius:"4px",backgroundColor:"#444 "},title:"Click to toggle",className:"",name:"viewOnly",checked:n.viewOnly,onChange:a}),l.a.createElement("label",{style:{color:"white",fontSize:".75rem",marginLeft:".5rem"},title:"Click checkbox to toggle",htmlFor:"viewOnly",className:"p-checkbox-label navbar-checkbox-label"},"View only mode")),l.a.createElement("h1",{style:{margin:0,marginLeft:"1rem"},className:"navbar-asset"},"".concat(d)),l.a.createElement("h1",{style:{display:c},className:"navbar-brand navbar-section"},"Lime Cloud"),l.a.createElement("div",{className:"navbar-section",style:{marginLeft:"auto",display:c}},l.a.createElement("ul",{style:{listStyle:"none",margin:0}},l.a.createElement("li",{className:"navbar-navitem"},l.a.createElement("a",{href:"/assets/list.shtml"},"Assets")),l.a.createElement("li",{className:"navbar-navitem"},l.a.createElement("a",{href:"/assetdefinitions/index.shtml"},"Asset Definitions")))))}),te=a(44),ae=a(175),ne=a(64),re=a(67),le=a(38),ie=a(98),oe=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={dataItem:null,name:"",min:"",max:"",unit:"",band1:null,band1End:"",band2End:"",band2:null,band3:null},a.dataItems=a.props.data.dataItems,a.handleChange=function(e){e.preventDefault();var t=a.props.addData;a.setState(Object(te.a)({},e.target.name,e.target.value),function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ui.modal.tile;if(e){var t=e.properties,a=t.dataItem,n=t.name,r=t.min,l=t.max,i=t.unit,o=t.band1,s=t.band1End,c=t.band2,d=t.band2End,u=t.band3,m=this.dataItems.filter(function(e){return e.label===a.label});this.setState({dataItems:this.dataItems,dataItem:m[0],name:n,min:r,max:l,unit:i,band1:o,band1End:s,band2:c,band2End:d,band3:u})}}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.dataItem,n=e.min,r=e.max,i=e.unit,o=e.band1,s=e.band1End,c=e.band2,d=e.band2End,u=e.band3,m=this.dataItems;return l.a.createElement("div",{className:"component-form"},l.a.createElement(re.Dropdown,{style:{width:"100%"},optionLabel:"label",name:"dataItem",value:a,onChange:this.handleChange,options:m,placeholder:"Select a data item",filter:!0,required:!0}),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:t,type:"text",onChange:this.handleChange,name:"name"}),l.a.createElement("label",{htmlFor:"name"},"Title")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:i,type:"text",onChange:this.handleChange,name:"unit"}),l.a.createElement("label",{htmlFor:"unit"},"Unit")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:n,type:"number",onChange:this.handleChange,name:"min",required:!0}),l.a.createElement("label",{htmlFor:"min"},"Min*")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:r,type:"number",onChange:this.handleChange,name:"max",required:!0}),l.a.createElement("label",{htmlFor:"max"},"Max*")),l.a.createElement("div",{className:"color-picker",style:{marginBottom:".25rem"}},l.a.createElement("span",{className:"color-picker-label"},"Band 1:"),l.a.createElement(ie.ColorPicker,{value:o,name:"band1",onChange:this.handleChange,defaultColor:"000000"}),l.a.createElement("span",{className:"color-picker-color"},o)),l.a.createElement("div",{className:"dialgauge-band-lengths"},l.a.createElement("span",{className:""},""===n?"min to ":"".concat(n," to ")),l.a.createElement(le.InputText,{value:s,style:{width:"50%"},type:"number",onChange:this.handleChange,name:"band1End",placeholder:"Band 1 End*",required:!0})),l.a.createElement("div",{className:"color-picker",style:{marginBottom:".25rem"}},l.a.createElement("span",{className:"color-picker-label"},"Band 2:"),l.a.createElement(ie.ColorPicker,{value:c,name:"band2",onChange:this.handleChange,defaultColor:"000000"}),l.a.createElement("span",{className:"color-picker-color"},c)),l.a.createElement("div",{className:"dialgauge-band-lengths"},l.a.createElement("span",{className:""},""===s?"Band 1 End to ":"".concat(s," to ")),l.a.createElement(le.InputText,{value:d,style:{width:"50%"},type:"number",onChange:this.handleChange,name:"band2End",placeholder:"Band 2 End*",required:!0})),l.a.createElement("div",{className:"color-picker",style:{marginBottom:".25rem"}},l.a.createElement("span",{className:"color-picker-label"},"Band 3:"),l.a.createElement(ie.ColorPicker,{value:u,name:"band3",onChange:this.handleChange,defaultColor:"000000"}),l.a.createElement("span",{className:"color-picker-color"},u)),l.a.createElement("div",{className:"dialgauge-band-lengths"},l.a.createElement("span",{className:""},""===d?"Band 2 End to ":"".concat(d," to ")),l.a.createElement("span",{className:""}," ",""===r?"max":r," ")),l.a.createElement("p",{style:{fontSize:"12px",marginTop:0,marginBottom:".5rem"}},"Band colors will default if not specifically selected"))}}]),t}(r.Component);var se=Object(s.b)(function(e){return{data:e.data,ui:e.ui}})(oe),ce=a(145),de=a(146),ue=a(116),me=[{label:"5 minutes ago",value:"five"},{label:"10 minutes ago",value:"ten"},{label:"half hour ago",value:"halfhour"},{label:"1 hour ago",value:"hour"}],pe=[{label:"Live",value:"live"},{label:"Fixed",value:"fixed"}],he=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={dataItems:null,title:"",yaxis:"",liveStart:"",fixedStart:"",end:"",timeType:"live",legend:!0},a.dataItems=a.props.data.dataItems,a.handleChange=function(e){e.preventDefault();var t=a.props.addData,n=e.target.checked?e.target.checked:e.target.value;a.setState(Object(te.a)({},e.target.name,n),function(){t(a.state)})},a.renderTimeSelection=function(){var e=a.state,t=e.timeType,n=e.liveStart,r=e.fixedStart,i=e.end;return"live"===t?l.a.createElement(l.a.Fragment,null,l.a.createElement(re.Dropdown,{style:{width:"100%"},name:"liveStart",value:n,onChange:a.handleChange,options:me,placeholder:"Select a start time"})):"fixed"===t?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-float-label"},l.a.createElement(ue.Calendar,{className:"calendar",value:r,name:"fixedStart",onChange:a.handleChange,showTime:!0,showButtonBar:!0}),l.a.createElement("label",{htmlFor:"fixedStart"},"Start Time")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(ue.Calendar,{className:"calendar",value:i,name:"end",onChange:a.handleChange,showTime:!0,showButtonBar:!0}),l.a.createElement("label",{htmlFor:"end"},"End Time"))):l.a.createElement("div",null,"Something went wrong")},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ui.modal.tile;if(t){var a=t.properties,n=a.title,r=a.yaxis,l=a.dataItems,i=a.liveStart,o=a.fixedStart,s=a.end,c=a.timeType,d=a.legend,u=l?l.map(function(t){return e.dataItems.find(function(e){return e.label===t.label})}):null;this.setState({title:n,yaxis:r,dataItems:u,liveStart:i,fixedStart:o,end:s,timeType:c,legend:d})}}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.yaxis,n=e.dataItems,r=e.legend,i=e.timeType,o=this.renderTimeSelection();return l.a.createElement("section",{className:"component-form"},l.a.createElement("label",null,"Time Type: "),l.a.createElement(de.SelectButton,{value:i,name:"timeType",options:pe,onChange:this.handleChange}),o,l.a.createElement(ce.MultiSelect,{name:"dataItems",value:n,options:this.dataItems,optionLabel:"label",onChange:this.handleChange,placeholder:"Choose data items",filter:!0,required:!0}),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:t,type:"text",onChange:this.handleChange,name:"title"}),l.a.createElement("label",{htmlFor:"title"},"Title")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:a,type:"text",onChange:this.handleChange,name:"yaxis"}),l.a.createElement("label",{htmlFor:"yaxis"},"Y-Axis Label")),l.a.createElement(Z.Checkbox,{checked:r,onChange:this.handleChange,name:"legend"}),l.a.createElement("label",{htmlFor:"legend",className:"p-checkbox-label"},"Display Legend"))}}]),t}(r.Component);var _e=Object(s.b)(function(e){return{data:e.data,ui:e.ui}})(he),be=a(176),fe=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={text:a.props.ui.modal.tile?a.props.ui.modal.tile.properties.text:"",edit:!1},a.handleChange=function(e){var t=a.props.addData;a.setState({text:e.htmlValue},function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.state,t=e.text,a=e.edit;return l.a.createElement("section",{className:"component-form"},l.a.createElement(be.Editor,{style:{height:"200px"},name:"text",value:t,onTextChange:this.handleChange,placeholder:"Your text here"}),a&&l.a.createElement("p",{style:{marginTop:0}},"Note: Text in the editior can only be overwritten, not edited."))}}]),t}(r.Component);var ve=Object(s.b)(function(e){return{ui:e.ui}})(fe),Ee=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={axes:[{label:"yaxis0",min:"",max:""}],series:[{dataItem:null,axis:null,color:""}]},a.dataItems=a.props.data.dataItems,a.handleChange=function(e,t,n){if("axis"===n){var r=Object(u.a)(a.state.axes);r[t][e.target.name]=e.target.value,a.setState({axes:r})}else if("series"===n){var l=Object(u.a)(a.state.series);l[t][e.target.name]=e.target.value,a.setState({series:l})}},a.addAxis=function(e){e.preventDefault();var t=a.state.axes.length;a.setState(function(e){return{axes:Object(u.a)(e.axes).concat([{label:"yaxis".concat(t),min:"",max:""}])}})},a.addSeries=function(e){e.preventDefault(),a.setState(function(e){return{series:Object(u.a)(e.series).concat([{dataItem:"",axis:"",color:""}])}})},a.renderSeries=function(e,t){var n=a.state,r=n.series,i=n.axes;return l.a.createElement("div",{key:t,style:{width:"100%",marginBottom:"1rem"}},l.a.createElement(re.Dropdown,{name:"dataItem",className:"multiaxis-form-field",style:{width:"30%",marginLeft:"0"},options:a.dataItems,optionLabel:"label",value:r[t].dataItem,onChange:function(e){return a.handleChange(e,t,"series")},filter:!0,placeholder:"Choose data item",required:!0}),l.a.createElement(re.Dropdown,{name:"axis",className:"multiaxis-form-field",style:{width:"30%"},options:i,optionLabel:"label",value:r[t].axis,onChange:function(e){return a.handleChange(e,t,"series")},filter:!0,placeholder:"Choose Y-Axis",required:!0}),l.a.createElement(ie.ColorPicker,{name:"color",className:"multiaxis-form-field",style:{width:"10%"},value:r[t].color,onChange:function(e){return a.handleChange(e,t,"series")},defaultColor:"000000"}),l.a.createElement("span",{className:"multiaxis-form-field",style:{width:"10%",textAlign:"center",verticalAlign:"middle"}},l.a.createElement(Q.h,{size:"1.5rem",onClick:function(e){return a.handleDelete(e,t,"series")},style:{cursor:"pointer"}})))},a.renderAxes=function(e,t){var n=a.state.axes;return l.a.createElement("div",{key:t,style:{width:"100%",marginBottom:"1rem"}},l.a.createElement(le.InputText,{style:{width:"30%",marginLeft:"0"},className:"multiaxis-form-field",type:"text",value:n[t].label,onChange:function(e){return a.handleChange(e,t,"axis")},name:"label"}),l.a.createElement(le.InputText,{className:"multiaxis-form-field",name:"min",style:{width:"20%"},value:n[t].min,onChange:function(e){return a.handleChange(e,t,"axis")},placeholder:"min",type:"number"}),l.a.createElement(le.InputText,{className:"multiaxis-form-field",name:"max",style:{width:"20%"},value:n[t].max,onChange:function(e){return a.handleChange(e,t,"axis")},placeholder:"max",type:"number"}),l.a.createElement("span",{className:"multiaxis-form-field",style:{width:"10%",textAlign:"center",verticalAlign:"middle"}},l.a.createElement(Q.h,{size:"1.5rem",onClick:function(e){return a.handleDelete(e,t,"axis")},style:{cursor:"pointer"}})))},a.handleDelete=function(e,t,n){var r=a.state,l=r.axes,i=r.series;"axis"===n?a.setState({axes:l.filter(function(e,a){return a!==t})}):"series"===n&&a.setState({series:i.filter(function(e,a){return a!==t})})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ui.modal.tile;if(t){var a=t.properties,n=a.axes,r=a.series,l=r.map(function(t){return e.dataItems.find(function(e){if(t.dataItem)return e.label===t.dataItem.label})}),i=r.map(function(e,t){return{axis:e.axis,dataItem:l[t],color:e.color}});0!==r.length&&this.setState({series:i}),0!==n.length&&this.setState({axes:n})}}},{key:"render",value:function(){var e=this.state,t=e.axes,a=e.series,n=this.props,r=n.submitModal,i=n.closeModal;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{marginBottom:"2rem"}},l.a.createElement("div",{style:{marginBottom:"1rem"}},l.a.createElement("span",{className:"multiaxis-form-header",style:{width:"30%",marginLeft:"0"}},"Label"),l.a.createElement("span",{className:"multiaxis-form-header",style:{width:"20%"}},"Minimum"),l.a.createElement("span",{className:"multiaxis-form-header",style:{width:"20%"}},"Maximum"),l.a.createElement("span",{className:"multiaxis-form-header"},"Delete")),t.map(this.renderAxes),l.a.createElement(ne.Button,{label:"Add Axis",onClick:this.addAxis,style:{marginRight:"1rem"}}),l.a.createElement("span",null,"Note: If no min/max is specified the axis will autoscale.")),l.a.createElement("div",null,l.a.createElement("div",{style:{marginBottom:"1rem"}},l.a.createElement("span",{className:"multiaxis-form-header",style:{width:"30%",marginLeft:"0"}},"Data Item"),l.a.createElement("span",{className:"multiaxis-form-header",style:{width:"30%"}},"Y Axis"),l.a.createElement("span",{className:"multiaxis-form-header",style:{width:"10%"}},"Color"),l.a.createElement("span",{className:"multiaxis-form-header"},"Delete")),a.map(this.renderSeries),l.a.createElement(ne.Button,{style:{marginRight:"1rem"},label:"Add Series",onClick:this.addSeries}),l.a.createElement("span",null,"Note: Color will default if none specifically selected.")),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(ne.Button,{label:"Submit",icon:"pi pi-check",onClick:function(e){return r(e,t,a)}}),l.a.createElement(ne.Button,{label:"Close",icon:"pi pi-times",onClick:i,style:{marginLeft:"1rem",background:"#e53935",border:"1px solid #e53935"}})))}}]),t}(r.Component);var ge=Object(s.b)(function(e){return{data:e.data,ui:e.ui}})(Ee),ye=[{label:"5 minutes ago",value:"five"},{label:"10 minutes ago",value:"ten"},{label:"half hour ago",value:"halfhour"},{label:"1 hour ago",value:"hour"}],Oe=[{label:"Live",value:"live"},{label:"Fixed",value:"fixed"}],xe=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={series:[],title:"",axes:[],liveStart:"",fixedStart:"",timeType:"live",end:"",legend:!0,visible:!1},a.dataItems=a.props.data.dataItems,a.editPos={},a.handleChange=function(e){e.preventDefault();var t=a.props.addData,n=e.target.checked?e.target.checked:e.target.value;a.setState(Object(te.a)({},e.target.name,n),function(){t(a.state)})},a.openModal=function(e){e.stopPropagation(),e.preventDefault(),a.setState({visible:!0})},a.closeModal=function(e){e.stopPropagation(),e.preventDefault(),a.setState({visible:!1})},a.submitModal=function(e,t,n){e.preventDefault();var r=a.props.addData;a.setState({axes:t,series:n,visible:!1},function(){r(a.state)})},a.renderTimeSelection=function(){var e=a.state,t=e.timeType,n=e.liveStart,r=e.fixedStart,i=e.end;return"live"===t?l.a.createElement(re.Dropdown,{style:{width:"100%"},name:"liveStart",value:n,onChange:a.handleChange,options:ye,placeholder:"Select a start time"}):"fixed"===t?l.a.createElement(l.a.Fragment,null,l.a.createElement("span",{className:"p-float-label"},l.a.createElement(ue.Calendar,{className:"calendar",value:r,name:"fixedStart",onChange:a.handleChange,showTime:!0,showButtonBar:!0}),l.a.createElement("label",{htmlFor:"fixedStart"},"Start Time")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(ue.Calendar,{className:"calendar",value:i,name:"end",onChange:a.handleChange,showTime:!0,showButtonBar:!0}),l.a.createElement("label",{htmlFor:"end"},"End Time"))):l.a.createElement("div",null,"Something went wrong")},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ui.modal.tile;if(e){this.editPos={top:"-75%",left:"-220%",width:"200vh"};var t=e.properties,a=t.title,n=t.axes,r=t.series,l=t.liveStart,i=t.fixedStart,o=t.timeType,s=t.end,c=t.legend;this.setState({title:a,axes:n,series:r,liveStart:l,fixedStart:new Date(i),end:new Date(s),timeType:o,legend:c})}}},{key:"render",value:function(){var e=this.state,t=e.title,a=e.timeType,n=e.legend,r=e.series,i=e.axes,o=this.renderTimeSelection(),s="".concat(this.state.visible?"modal-show":"modal-hide");return l.a.createElement(l.a.Fragment,null,l.a.createElement("section",{className:"component-form"},l.a.createElement("label",null,"Time Type: "),l.a.createElement(de.SelectButton,{value:a,name:"timeType",options:Oe,onChange:this.handleChange}),o,l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:t,type:"text",onChange:this.handleChange,name:"title"}),l.a.createElement("label",{htmlFor:"title"},"Title")),l.a.createElement("div",null,l.a.createElement(Z.Checkbox,{checked:n,onChange:this.handleChange,name:"legend"}),l.a.createElement("label",{htmlFor:"legend",className:"p-checkbox-label"},"Display Legend")),l.a.createElement(ne.Button,{style:{marginBottom:"1rem"},onClick:this.openModal,label:"Graph Config"})),l.a.createElement("div",{className:"background ".concat(s),style:this.editPos},l.a.createElement("section",{className:"tab-modal ",style:{position:"absolute",width:"600px"}},l.a.createElement("div",{className:"modal-main"},l.a.createElement("h1",{className:"tab-modal-header"},"Axis and Plot Config:"),l.a.createElement(ge,{submitModal:this.submitModal,closeModal:this.closeModal,series:r,axes:i})))))}}]),t}(r.Component);var De=Object(s.b)(function(e){return{data:e.data,ui:e.ui}})(xe),Te=[{label:"DataItems",value:"dataItems"},{label:"Files",value:"files"},{label:"Alarms",value:"alarms"},{label:"Events",value:"events"}],Ce=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={option:""},a.dataItems=a.props.data.dataItems,a.handleChange=function(e){e.preventDefault();var t=a.props.addData,n=e.target.value?e.target.value:e.target.checked;a.setState(Object(te.a)({},e.target.name,n),function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.state.option;return l.a.createElement("section",{className:"component-form"},l.a.createElement(re.Dropdown,{style:{width:"100%"},name:"option",value:e,options:Te,optionLabel:"label",onChange:this.handleChange,placeholder:"Choose Table Type",required:!0,filter:!0}))}}]),t}(r.Component);var we=Object(s.b)(function(e){return{data:e.data}})(Ce),Ie=a(177),ke=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={url:"",columns:""},a.handleChange=function(e){e.preventDefault();var t=a.props.addData,n=e.target.value?e.target.value:e.target.checked;a.setState(Object(te.a)({},e.target.name,n),function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ui.modal.tile;if(e){var t=e.properties,a=t.url,n=t.columns;this.setState({url:a,columns:n})}}},{key:"render",value:function(){return l.a.createElement("section",{className:"component-form"},l.a.createElement(le.InputText,{value:this.state.url,onChange:this.handleChange,placeholder:"Data Source eg. /api/...",name:"url"}),l.a.createElement(Ie.InputTextarea,{rows:15,columns:50,value:this.state.columns,onChange:this.handleChange,placeholder:'Columns: must be in the following format exactly, [{"header": "", "field":""}, {...}, etc].\r To make custom cells, add a "body" field to the column object. The field value must be a function that takes a data arguemnt and returns a string of valid html. Opening tags must also have a "^" after the tag name. Example, "body": () => {return "<a^ href="mylink.com" >data.field</a> (data)',name:"columns"}))}}]),t}(r.Component);var Ae=Object(s.b)(function(e){return{data:e.data,ui:e.ui}})(ke),je=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={showAll:!1},a.handleChange=function(e){e.preventDefault();var t=a.props.addData,n=e.target.checked?e.target.checked:e.target.value;a.setState(Object(te.a)({},e.target.name,n),function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ui.modal.tile;if(e){var t=e.properties.showAll;this.setState({showAll:t})}}},{key:"render",value:function(){var e=this.state.showAll;return l.a.createElement("section",{className:"component-form"},l.a.createElement(Z.Checkbox,{checked:e,onChange:this.handleChange,name:"showAll"}),l.a.createElement("label",{htmlFor:"showAll",className:"p-checkbox-label"},"Show All Assets"))}}]),t}(r.Component);var Me=Object(s.b)(function(e){return{ui:e.ui}})(je),Se=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={dataItem:null,min:"",max:"",unit:"",fillColor:""},a.dataItems=a.props.data.dataItems,a.handleChange=function(e){e.preventDefault();var t=a.props.addData;a.setState(Object(te.a)({},e.target.name,e.target.value),function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ui.modal.tile;if(e){var t=e.properties,a=t.dataItem,n=t.name,r=t.min,l=t.max,i=t.unit,o=t.band1,s=t.band2,c=t.band3,d=this.dataItems.filter(function(e){return e.label===a.label});this.setState({dataItems:this.dataItems,dataItem:d[0],name:n,min:r,max:l,unit:i,band1:o,band2:s,band3:c})}}},{key:"render",value:function(){var e=this.state,t=e.dataItem,a=e.max,n=e.unit,r=e.fillColor,i=this.dataItems;return l.a.createElement("div",{className:"component-form"},l.a.createElement(re.Dropdown,{style:{width:"100%"},optionLabel:"label",name:"dataItem",value:t,onChange:this.handleChange,options:i,placeholder:"Select a data item",filter:!0,required:!0}),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:a,type:"number",onChange:this.handleChange,name:"max",required:!0}),l.a.createElement("label",{htmlFor:"max"},"Max*")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:n,type:"text",onChange:this.handleChange,name:"unit"}),l.a.createElement("label",{htmlFor:"unit"},"Unit")),l.a.createElement("div",{className:"color-picker"},l.a.createElement("span",{className:"color-picker-label"},"Fill Color:"),l.a.createElement(ie.ColorPicker,{value:r,name:"fillColor",onChange:this.handleChange,defaultColor:"000000"}),l.a.createElement("span",{className:"color-picker-color"},r)),l.a.createElement("p",{style:{fontSize:"12px",marginTop:0}},"Fill color will default if not specifically selected"))}}]),t}(r.Component);var Le=Object(s.b)(function(e){return{data:e.data,ui:e.ui}})(Se),Pe=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={dataItems:[],max:"",unit:""},a.dataItems=a.props.data.dataItems,a.handleChange=function(e){e.preventDefault();var t=a.props.addData;a.setState(Object(te.a)({},e.target.name,e.target.value),function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.ui.modal.tile;if(t){var a=t.properties,n=a.dataItems,r=a.max,l=n?n.map(function(t){return e.dataItems.find(function(e){return e.label===t.label})}):null;this.setState({dataItems:l,max:r})}}},{key:"render",value:function(){var e=this.state,t=e.dataItems,a=e.max,n=e.unit;return l.a.createElement("div",{className:"component-form"},l.a.createElement(ce.MultiSelect,{name:"dataItems",value:t,options:this.dataItems,optionLabel:"label",onChange:this.handleChange,placeholder:"Choose data items",filter:!0,required:!0}),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:a,type:"number",onChange:this.handleChange,name:"max"}),l.a.createElement("label",{htmlFor:"max"},"Max*")),l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{value:n,type:"text",onChange:this.handleChange,name:"unit"}),l.a.createElement("label",{htmlFor:"unit"},"Unit")))}}]),t}(r.Component);var Ne=Object(s.b)(function(e){return{data:e.data,ui:e.ui}})(Pe),Be=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={url:""},a.handleChange=function(e){e.preventDefault();var t=a.props.addData;a.setState(Object(te.a)({},e.target.name,e.target.value),function(){t(a.state)})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.ui.modal.tile;if(e){var t=e.properties.url;this.setState({url:t})}}},{key:"render",value:function(){var e=this.state.url;return l.a.createElement("div",{className:"component-form"},l.a.createElement("span",{className:"p-float-label"},l.a.createElement(le.InputText,{style:{width:"100%"},value:e,type:"text",onChange:this.handleChange,name:"url",required:!0}),l.a.createElement("label",{htmlFor:"url"},"url*")))}}]),t}(r.Component);var Re=Object(s.b)(function(e){return{ui:e.ui}})(Be),Ue=[{name:"Basic Graph",form:_e,value:"BasicGraph"},{name:"Advanced Graph",form:De,value:"AdvancedGraph"},{name:"Dial Gauge",form:se,value:"Gauge"},{name:"Cylinder Gauge",form:Le,value:"CylinderGauge"},{name:"Solid Gauge",form:Ne,value:"SolidGauge"},{name:"Text/Image",form:ve,value:"TextBox"},{name:"Basic Table",form:we,value:"Table"},{name:"Custom Table",form:Ae,value:"CustomTable"},{name:"Google Map",form:Me,value:"Map"},{name:"iframe",form:Re,value:"IframeTile"}],We=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={properties:{type:null}},a.handleFormSubmit=function(e){e.preventDefault();var t=a.props.activeTab,n=a.state.properties;a.props.addTile(n,t),a.setState({properties:{type:null}})},a.handleSave=function(){var e=a.props,t=e.tiles,n=e.layouts,r=e.tabs;a.props.saveDashboard(t,n,r).then(function(){return alert("Dashboard has been saved!")})},a.handleChange=function(e){e.preventDefault(),a.setState({properties:Object(te.a)({},e.target.name,e.value),valid:!0})},a.handleData=function(e){a.setState({properties:Object(f.a)({},a.state.properties,e)})},a.renderForm=function(){var e=a.state.properties.type;if(e){var t=e.form;return l.a.createElement(t,{addData:a.handleData})}return l.a.createElement("div",{style:{marginBottom:"0"}})},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props,t=e.ui,a=e.toggleSidebar;return l.a.createElement(ae.Sidebar,{className:"side",visible:t.sidebar,onHide:a,style:{border:"1px solid #595959"}},l.a.createElement("section",{style:{paddingTop:"2rem"}},l.a.createElement("div",null,l.a.createElement(ne.Button,{className:"p-button-raised",onClick:this.handleSave,label:"Save Dashboard"})),l.a.createElement("form",{onSubmit:this.handleFormSubmit,className:"sidebar-form"},l.a.createElement(re.Dropdown,{options:Ue,style:{width:"100%"},value:this.state.properties.type,onChange:this.handleChange,name:"type",placeholder:"Select Tile Type",optionLabel:"name"}),this.renderForm(),l.a.createElement("div",null,l.a.createElement(ne.Button,{label:"Add Tile",type:"submit"})))))}}]),t}(r.Component);var Fe=Object(s.b)(function(e){return{tiles:e.tiles,layouts:e.layouts,tabs:e.tabs,activeTab:e.activeTab,ui:e.ui}},n)(We),Ke={Gauge:se,CylinderGauge:Le,SolidGauge:Ne,BasicGraph:_e,TextBox:ve,Map:Me,AdvancedGraph:De,Table:we,CustomTable:Ae,IframeTile:Re},Ge=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={properties:{type:null}},a.handleData=function(e){var t=a.props.ui.modal.tile;a.setState({properties:Object(f.a)({},a.state.properties,{type:t.properties.type},e)})},a.renderForm=function(){var e=a.props.ui.modal.tile;if(e&&e.properties.type&&Ke[e.properties.type.value]){var t=Ke[e.properties.type.value];return l.a.createElement(t,{addData:a.handleData})}return l.a.createElement("div",null,"No Type Selected")},a.closeModal=function(){var e=a.props.resetModal;a.setState({properties:{type:null}}),e()},a.submitModal=function(){var e=a.props,t=e.resetModal,n=e.ui,r=e.editTile,l=e.activeTab,i=a.state.properties,o=Object(f.a)({},n.modal.tile,{properties:Object(f.a)({},i)});i.type&&r(o,l.index),a.setState({properties:{type:null}}),t()},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.ui,t="".concat(e.modal.visible?"modal-show":"modal-hide");return l.a.createElement("div",{className:"background ".concat(t)},l.a.createElement("section",{className:"modal"},l.a.createElement("div",{className:"modal-main"},l.a.createElement("h1",{style:{margin:0,marginBottom:"1rem",fontSize:"1.25rem"}},"Edit Tile:"),this.renderForm(),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(ne.Button,{label:"Submit",icon:"pi pi-check",onClick:this.submitModal}),l.a.createElement(ne.Button,{label:"Close",icon:"pi pi-times",onClick:this.closeModal,style:{marginLeft:"1rem",background:"#e53935",border:"1px solid #e53935"}})))))}}]),t}(r.Component);var ze=Object(s.b)(function(e){return{ui:e.ui,activeTab:e.activeTab}},n)(Ge),qe=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={nextTab:a.props.tabs.length,visible:!1,name:"",type:""},a.renderTab=function(e,t){var n=a.props,r=n.activeTab,i=n.ui.viewOnly?"none":"",o="tab-item";return e.index===r.index&&(o+=" tab-active"),l.a.createElement("li",{key:t,className:o,style:{textAlign:"center"},onClick:function(){return a.props.changeTab(e)}},l.a.createElement("span",{name:"edit",onDoubleClick:function(t){return a.handleTabRename(t,e)},title:"Double click to edit tab name"},e.name),l.a.createElement("span",{style:{display:i},className:"tab-delete",title:"Click to delete tab"},l.a.createElement(Q.h,{style:{height:"1rem"},className:"tab-delete tab-icon",size:"1rem",onClick:function(t){return a.handleDeleteTab(t,e.index)}})))},a.handleTabRename=function(e,t){e.preventDefault(),e.stopPropagation(),a.setState({name:t.name,type:t}),a.openModal()},a.handleAddTab=function(e){a.setState({type:"add"}),a.openModal()},a.handleDeleteTab=function(e,t){e.stopPropagation();var n=a.props,r=n.deleteTab,l=n.changeTab,i=n.tabs,o=n.activeTab;window.confirm("Are you sure you want to delete this tab?")&&(r(t),o.index===t&&l(i[0===o.index?0:o.index-1]))},a.handleSubmit=function(e){var t=a.state,n=t.nextTab,r=t.name,l=t.type;if("add"===l){a.props.addTab({name:"".concat(""!==r?r:"tab"+n),index:n});var i=n+1;a.setState({nextTab:i,visible:!1,name:""})}else"object"===typeof l&&(a.props.editTab(l,r),a.setState({visible:!1,name:""}))},a.closeModal=function(){a.setState({visible:!1,name:""})},a.openModal=function(){a.setState({visible:!0})},a.handleChange=function(e){e.preventDefault(),a.setState(Object(te.a)({},e.target.name,e.target.value))},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this,t=this.state.type,a=this.props,n=a.tabs,r=a.ui.viewOnly?"none":"",i="".concat(this.state.visible?"modal-show":"modal-hide");return l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"tabs"},n&&n.map(this.renderTab),l.a.createElement(Q.c,{name:"add",style:{display:r,height:"1.75rem"},size:"1.75rem",className:"newtab-btn",title:"Create New Tab",onClick:function(t){return e.handleAddTab(t)}})),l.a.createElement("div",{className:"background ".concat(i)},l.a.createElement("section",{className:"tab-modal"},l.a.createElement("div",{className:"modal-main"},l.a.createElement("h1",{className:"tab-modal-header"},"add"===t?"Add New Tab:":"Edit Tab:"),l.a.createElement("div",null,l.a.createElement(le.InputText,{placeholder:"Tab Name",name:"name",style:{width:"100%",marginBottom:"1rem"},value:this.state.name,onChange:this.handleChange})),l.a.createElement("div",{className:"modal-footer"},l.a.createElement(ne.Button,{label:"Submit",icon:"pi pi-check",onClick:function(t){return e.handleSubmit(t)}}),l.a.createElement(ne.Button,{label:"Close",icon:"pi pi-times",onClick:this.closeModal,style:{marginLeft:"1rem",background:"#e53935",border:"1px solid #e53935"}}))))))}}]),t}(r.Component);var Ve=Object(s.b)(function(e){return{activeTab:e.activeTab,tabs:e.tabs,ui:e.ui}},n)(qe),Xe=a(153),He=a(32),Je=a(34),Ye=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).chartInit=function(){var e=a.props.tile,t=e.id,n=e.properties,r=Number(n.min),l=Number(n.max),i=Number(n.band1End),o=Number(n.band2End);He.i.commercialLicense=!0,a.chart=He.g(t,Je.f),a.chart.innerRadius=-8,a.chart.startAngle=135,a.chart.endAngle=405;var s=a.chart.xAxes.push(new Je.l);s.min=+n.min,s.max=+n.max,s.strictMinMax=!0;var c=new He.a;s.renderer.ticks.template.stroke="#fff",s.renderer.labels.template.radius=5,s.renderer.ticks.template.strokeOpacity=.35,s.renderer.grid.template.disabled=!0,s.renderer.ticks.template.length=-12,s.hiddenState.properties.opacity=1,s.hiddenState.properties.visible=!0,s.setStateOnChildren=!0,s.numberFormatter.bigNumberPrefixes=[{number:1e3,suffix:"k"},{number:1e6,suffix:"M"},{number:1e9,suffix:"G"}],s.numberFormatter.numberFormat="#,###.#a";var d=s.axisRanges.create();d.value=r,d.endValue=i?(r+l)*i/l:.5*(r+l),d.axisFill.fillOpacity=.9,d.axisFill.fill=n.band1?"#".concat(n.band1):c.getIndex(0);var u=s.axisRanges.create();u.value=i?(r+l)*i/l:.5*(r+l),u.endValue=o?(l-r)*o/l+r:.8*(l-r)+r,u.axisFill.fillOpacity=.9,u.axisFill.fill=n.band2?"#".concat(n.band2):c.getIndex(2);var m=s.axisRanges.create();m.value=o?(l-r)*o/l+r:.8*(l-r)+r,m.endValue=l,m.axisFill.fillOpacity=.9,m.axisFill.fill=n.band3?"#".concat(n.band3):c.getIndex(4),a.label=a.chart.radarContainer.createChild(He.d),a.label.isMeasured=!1,a.label.horizontalCenter="middle",a.label.verticalCenter="bottom",a.label.y=70,a.label.fontSize=25,a.label.text="",a.label.text="".concat(n.min," ").concat(n.unit?n.unit:"");var p=a.chart.titles.create();p.text=""!==n.name?n.name:n.dataItem?n.dataItem.label:"",p.marginBottom=15,a.hand=a.chart.hands.push(new Je.c),a.hand.showValue(n.min,1e3,He.h.cubicOut)},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.chartInit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tile.properties,a=this.props.data.dataItems;if(e.tile.properties!==t&&(this.chart.dispose(),this.chartInit()),t.dataItem&&a){var n=t.dataItem.label,r=a.find(function(e){return e.label===n})?Math.round(100*a.find(function(e){return e.label===n}).value)/100:t.min;this.hand.showValue(r,1e3,He.h.cubicOut),this.label.text="".concat(r," ").concat(t.unit)}else this.hand.showValue(t.min,1e3,He.h.cubicOut),this.label.text="N/A ".concat(t.unit)}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){var e=this.props.tile.id;return l.a.createElement("div",{id:e,style:{width:"100%",height:"100%"}})}}]),t}(r.Component);Ye.defaultProps={};var $e=Object(s.b)(function(e){return{data:e.data}})(Ye),Qe=[{date:"2012-07-27",value:13},{date:"2012-07-28",value:11},{date:"2012-07-29",value:15},{date:"2012-07-30",value:16},{date:"2012-07-31",value:18},{date:"2012-08-01",value:13},{date:"2012-08-02",value:22},{date:"2012-08-03",value:23},{date:"2012-08-04",value:20},{date:"2012-08-05",value:17},{date:"2012-08-06",value:16},{date:"2012-08-07",value:18},{date:"2012-08-08",value:21},{date:"2012-08-09",value:26},{date:"2012-08-10",value:24},{date:"2012-08-11",value:29},{date:"2012-08-12",value:32},{date:"2012-08-13",value:18},{date:"2012-08-14",value:24},{date:"2012-08-15",value:22},{date:"2012-08-16",value:18},{date:"2012-08-17",value:19},{date:"2012-08-18",value:14},{date:"2012-08-19",value:15},{date:"2012-08-20",value:12},{date:"2012-08-21",value:8},{date:"2012-08-22",value:9},{date:"2012-08-23",value:8},{date:"2012-08-24",value:7},{date:"2012-08-25",value:5},{date:"2012-08-26",value:11},{date:"2012-08-27",value:13},{date:"2012-08-28",value:18},{date:"2012-08-29",value:20},{date:"2012-08-30",value:29},{date:"2012-08-31",value:33},{date:"2012-09-01",value:42},{date:"2012-09-02",value:35},{date:"2012-09-03",value:31},{date:"2012-09-04",value:47},{date:"2012-09-05",value:52},{date:"2012-09-06",value:46},{date:"2012-09-07",value:41},{date:"2012-09-08",value:43},{date:"2012-09-09",value:40},{date:"2012-09-10",value:39},{date:"2012-09-11",value:34},{date:"2012-09-12",value:29},{date:"2012-09-13",value:34},{date:"2012-09-14",value:37},{date:"2012-09-15",value:42},{date:"2012-09-16",value:49},{date:"2012-09-17",value:46},{date:"2012-09-18",value:47},{date:"2012-09-19",value:55},{date:"2012-09-20",value:59},{date:"2012-09-21",value:58},{date:"2012-09-22",value:57},{date:"2012-09-23",value:61},{date:"2012-09-24",value:59},{date:"2012-09-25",value:67},{date:"2012-09-26",value:65},{date:"2012-09-27",value:61},{date:"2012-09-28",value:66},{date:"2012-09-29",value:69},{date:"2012-09-30",value:71},{date:"2012-10-01",value:67},{date:"2012-10-02",value:63},{date:"2012-10-03",value:46},{date:"2012-10-04",value:32},{date:"2012-10-05",value:21},{date:"2012-10-06",value:18},{date:"2012-10-07",value:21},{date:"2012-10-08",value:28},{date:"2012-10-09",value:27},{date:"2012-10-10",value:36},{date:"2012-10-11",value:33},{date:"2012-10-12",value:31},{date:"2012-10-13",value:30},{date:"2012-10-14",value:34},{date:"2012-10-15",value:38},{date:"2012-10-16",value:37},{date:"2012-10-17",value:44},{date:"2012-10-18",value:49},{date:"2012-10-19",value:53},{date:"2012-10-20",value:57},{date:"2012-10-21",value:60},{date:"2012-10-22",value:61},{date:"2012-10-23",value:69},{date:"2012-10-24",value:67},{date:"2012-10-25",value:72},{date:"2012-10-26",value:77},{date:"2012-10-27",value:75},{date:"2012-10-28",value:70},{date:"2012-10-29",value:72},{date:"2012-10-30",value:70},{date:"2012-10-31",value:72},{date:"2012-11-01",value:73},{date:"2012-11-02",value:67},{date:"2012-11-03",value:68},{date:"2012-11-04",value:65},{date:"2012-11-05",value:71},{date:"2012-11-06",value:75},{date:"2012-11-07",value:74},{date:"2012-11-08",value:71},{date:"2012-11-09",value:76},{date:"2012-11-10",value:77},{date:"2012-11-11",value:81},{date:"2012-11-12",value:83},{date:"2012-11-13",value:80},{date:"2012-11-14",value:81},{date:"2012-11-15",value:87},{date:"2012-11-16",value:82},{date:"2012-11-17",value:86},{date:"2012-11-18",value:80},{date:"2012-11-19",value:87},{date:"2012-11-20",value:83},{date:"2012-11-21",value:85},{date:"2012-11-22",value:84},{date:"2012-11-23",value:82},{date:"2012-11-24",value:73},{date:"2012-11-25",value:71},{date:"2012-11-26",value:75},{date:"2012-11-27",value:79},{date:"2012-11-28",value:70},{date:"2012-11-29",value:73},{date:"2012-11-30",value:61},{date:"2012-12-01",value:62},{date:"2012-12-02",value:66},{date:"2012-12-03",value:65},{date:"2012-12-04",value:73},{date:"2012-12-05",value:79},{date:"2012-12-06",value:78},{date:"2012-12-07",value:78},{date:"2012-12-08",value:78},{date:"2012-12-09",value:74},{date:"2012-12-10",value:73},{date:"2012-12-11",value:75},{date:"2012-12-12",value:70},{date:"2012-12-13",value:77},{date:"2012-12-14",value:67},{date:"2012-12-15",value:62},{date:"2012-12-16",value:64},{date:"2012-12-17",value:61},{date:"2012-12-18",value:59},{date:"2012-12-19",value:53},{date:"2012-12-20",value:54},{date:"2012-12-21",value:56},{date:"2012-12-22",value:59},{date:"2012-12-23",value:58},{date:"2012-12-24",value:55},{date:"2012-12-25",value:52},{date:"2012-12-26",value:54},{date:"2012-12-27",value:50},{date:"2012-12-28",value:50},{date:"2012-12-29",value:51},{date:"2012-12-30",value:52},{date:"2012-12-31",value:58},{date:"2013-01-01",value:60},{date:"2013-01-02",value:67},{date:"2013-01-03",value:64},{date:"2013-01-04",value:66},{date:"2013-01-05",value:60},{date:"2013-01-06",value:63},{date:"2013-01-07",value:61},{date:"2013-01-08",value:60},{date:"2013-01-09",value:65},{date:"2013-01-10",value:75},{date:"2013-01-11",value:77},{date:"2013-01-12",value:78},{date:"2013-01-13",value:70},{date:"2013-01-14",value:70},{date:"2013-01-15",value:73},{date:"2013-01-16",value:71},{date:"2013-01-17",value:74},{date:"2013-01-18",value:78},{date:"2013-01-19",value:85},{date:"2013-01-20",value:82},{date:"2013-01-21",value:83},{date:"2013-01-22",value:88},{date:"2013-01-23",value:85},{date:"2013-01-24",value:85},{date:"2013-01-25",value:80},{date:"2013-01-26",value:87},{date:"2013-01-27",value:84},{date:"2013-01-28",value:83},{date:"2013-01-29",value:84},{date:"2013-01-30",value:81}],Ze=a(85),et=a.n(Ze),tt=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a.chartInit=Object(D.a)(x.a.mark(function e(){var t,n,r,l,i,o,s,c,d;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=a.props.tile,n=t.id,r=t.properties,He.i.commercialLicense=!0,a.chart=He.g(n,Je.m),a.chart.exporting.menu=new He.b,a.chart.exporting.menu.verticalAlign="bottom",a.chart.exporting.menu.align="left",(l=a.chart.xAxes.push(new Je.e)).renderer.minGridDistance=75,l.renderer.grid.template.location=.5,l.startLocation=.5,l.endLocation=.5,!r.dataItems){e.next=18;break}return e.next=15,a.fetchData();case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=Qe;case 19:if(a.chart.data=e.t0,(i=a.chart.yAxes.push(new Je.l)).title.text=""!==r.yaxis?r.yaxis:"",i.renderer.line.strokeOpacity=1,i.renderer.line.strokeWidth=2,i.renderer.grid.template.disabled=!0,a.chart.cursor=new Je.o,a.chart.cursor.behavior="panXY",a.chart.cursor.xAxis=l,r.dataItems)for(o=0;o<r.dataItems.length;o++)s=r.dataItems[o].label,c="".concat(r.dataItems[o].assetId,"-").concat(r.dataItems[o].dataItemId),a.createSeries(c,"timestamp",s);else a.createSeries("value","date","No dataItems selected");a.chart.scrollbarX=new He.e,a.chart.scrollbarX.parent=a.chart.bottomAxesContainer,a.chart.legend=r.legend?new Je.g:null,(d=a.chart.titles.create()).text=""!==r.title?r.title:"",d.marginBottom=5,a.setState({loading:!1}),e.next=42;break;case 38:e.prev=38,e.t1=e.catch(0),console.log(e.t1),a.setState({loading:"failed"});case 42:case"end":return e.stop()}},e,this,[[0,38]])})),a.fetchData=Object(D.a)(x.a.mark(function e(){var t,n,r,l,i,o,s,c,d,u,m,p,h;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.tile.properties,n=t.dataItems,r=t.timeType,l=t.liveStart,i=t.fixedStart,o=t.end,s=t.start,c=S("assetId"),d={five:new Date(new Date-3e5).toJSON(),ten:new Date(new Date-6e5).toJSON(),halfhour:new Date(new Date-18e5).toJSON(),hour:new Date(new Date-36e5).toJSON()},u=s?d[s]:"live"===r?d[l]:i,m="live"===r?(new Date).toJSON():o,"/api/HistoricalDataItems",p=n.map(function(e){return{assetId:c,dataItemId:e.dataItemId}}),e.next=9,M()({url:"/api/HistoricalDataItems",baseURL:L.a.BASE_URL,method:"POST",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN},data:{Name:"request",DataItems:p,StartTime:u,EndTime:m,Format:{Type:"DataItemChart"}}});case 9:if(0===(h=e.sent).data.length){e.next=14;break}return e.abrupt("return",h.data.map(function(e){return Object(f.a)({},e,{timestamp:new Date(e.timestamp)})}));case 14:return e.abrupt("return",[{timestamp:new Date,value:0}]);case 15:case"end":return e.stop()}},e,this)})),a.createSeries=function(e,t,n){var r=a.props.tile.properties.timeType,l=a.chart.series.push(new Je.h);l.dataFields.valueY=e,l.dataFields.dateX=t,l.strokeWidth=3,l.name=n,l.tensionX=.85,l.minBulletDistance=15,l.interpolationDuration=0,l.transitionDuration=0,l.tooltipText="".concat(n,": {").concat(e,"}"),l.tooltip.background.cornerRadius=20,l.tooltip.background.strokeOpacity=0,l.tooltip.pointerOrientation="vertical",l.tooltip.label.minWidth=40,l.tooltip.label.minHeight=40,l.tooltip.label.textAlign="middle",l.tooltip.label.textValign="middle";var i=l.bullets.push(new Je.b);if(i.circle.strokeWidth=2,i.circle.radius=4,i.circle.fill=He.f("#fff"),i.states.create("hover").properties.scale=1.3,"live"===r){var o=l.createChild(Je.b);o.circle.radius=3,o.fillOpacity=1,o.isMeasured=!0,l.events.on("validated",function(){o.moveTo(l.dataItems.last.point),o.validatePosition()})}},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(D.a)(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chartInit();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tile.properties,a=this.props.data.dataItems;if(e.tile.properties!==t&&(this.chart.dispose(),this.setState({loading:!0}),this.chartInit()),t.dataItems&&a&&"live"===t.timeType){for(var n={},r=function(e){var r=t.dataItems[e];n["".concat(r.assetId,"-").concat(r.dataItemId)]=a.find(function(e){return e.label===r.label})?a.find(function(e){return e.label===r.label}).value:0},l=0;l<t.dataItems.length;l++)r(l);n.timestamp=new Date,0===this.chart.data.length?this.chart.data=[n]:this.chart.addData(n)}}},{key:"render",value:function(){var e=this,t=this.props.tile.id,a=this.state.loading;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{position:"absolute",top:"40%",left:"50%",transform:"translateX(-50%)",display:!0===a?"block":"none"}},l.a.createElement(A.ScaleLoader,{sizeUnit:"px",size:30,color:et.a.fontColor})),l.a.createElement("div",{style:{position:"absolute",top:"40%",left:"50%",transform:"translateX(-50%)",display:"failed"===a?"block":"none"}},"Something went wrong, try refreshing this tile"),l.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},l.a.createElement("span",{style:{position:"absolute",top:"5px",left:"40px",zIndex:1e3,cursor:"grab"}},l.a.createElement("span",{title:"Click and hold to move tile"},l.a.createElement(Q.b,{style:{height:"1rem"}})),l.a.createElement("span",{title:"Click to refresh graph"},l.a.createElement(Q.e,{style:{height:"1rem",marginLeft:".75rem",cursor:"pointer"},onClick:function(){e.setState({loading:!0}),e.chartInit()}}))),l.a.createElement("div",{id:t,style:{width:"100%",height:"96%",position:"absolute",bottom:"0"},onMouseDown:function(e){return e.stopPropagation()}})))}}]),t}(r.Component);var at=Object(s.b)(function(e){return{data:e.data}})(tt),nt=function(e){function t(){return Object(T.a)(this,t),Object(w.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.tile.properties;return l.a.createElement("section",{style:{width:"100%",height:"100%",position:"relative"}},l.a.createElement("div",{style:{padding:"1.5rem"},dangerouslySetInnerHTML:{__html:e.text}}))}}]),t}(r.Component),rt=a(179),lt=window.google,it=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={overlays:[],options:{},loading:!0},a.onMapReady=Object(D.a)(x.a.mark(function e(){var t,n,r,l;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.data.asset,!a.props.tile.properties.showAll){e.next=8;break}return e.next=5,a.fetchData();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0=null;case 9:n=e.t0,t&&(r=n?n.map(function(e){return new lt.maps.Marker({position:{lat:e.latitude,lng:e.longitude},title:e.assetAlias})}):[new lt.maps.Marker({position:{lat:t.latitude,lng:t.longitude},title:t.assetAlias})],l={center:t?{lat:t.latitude,lng:t.longitude}:{lat:29.7604,lng:-95.3698},zoom:10},a.setState({overlays:r,options:l,loading:!1}));case 11:case"end":return e.stop()}},e,this)})),a.fetchData=Object(D.a)(x.a.mark(function e(){var t;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"/api/assets",e.prev=1,e.next=4,M()({url:"/api/assets",baseURL:L.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json"}});case 4:return t=e.sent,e.abrupt("return",t.data);case 8:return e.prev=8,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 12:case"end":return e.stop()}},e,this,[[1,8]])})),a.onOverlayClick=function(e){},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.tile.properties;e.tile.properties!==t&&this.onMapReady()}},{key:"render",value:function(){var e=this.props.data.asset,t=this.state,a=t.overlays,n=t.loading,r={center:e?{lat:e.latitude,lng:e.longitude}:{lat:29.7604,lng:-95.3698},zoom:10};return e?l.a.createElement("div",{style:{width:"96%",height:"96%",margin:"auto",marginTop:"1.5rem",paddingBottom:"1.5rem"},onMouseDown:function(e){return e.stopPropagation()}},l.a.createElement(rt.GMap,{options:r,overlays:a,onMapReady:this.onMapReady,style:{width:"100%",height:"100%",borderRadius:"5px"},onMouseDown:function(e){return e.stopPropagation()}})):l.a.createElement("div",{style:{position:"absolute",top:"40%",left:"50%",transform:"translateX(-50%)",display:!0===n?"block":"none"}},l.a.createElement(A.ScaleLoader,{sizeUnit:"px",size:30,color:et.a.fontColor}))}}]),t}(r.Component);var ot=Object(s.b)(function(e){return{data:e.data}},n)(it),st=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a.chartInit=Object(D.a)(x.a.mark(function e(){var t,n,r,l,i,o,s,c,d,u;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=a.props.tile,n=t.id,r=t.properties,He.i.commercialLicense=!0,a.chart=He.g(n,Je.m),a.chart.exporting.menu=new He.b,a.chart.exporting.menu.verticalAlign="bottom",a.chart.exporting.menu.align="left",e.next=9,a.fetchData();case 9:if(a.chart.data=e.sent,(l=a.chart.xAxes.push(new Je.e)).renderer.minGridDistance=100,l.renderer.grid.template.location=.5,l.startLocation=.5,l.endLocation=.5,a.chart.cursor=new Je.o,a.chart.cursor.behavior="panXY",a.chart.cursor.xAxis=l,r.axes)for(i=0;i<r.axes.length;i++)o=i%2!==0,a.createAxes(r.axes[i],o);else a.chart.yAxes.push(new Je.l);if(r.series)for(s=0;s<r.series.length;s++){c=r.series[s].dataItem?r.series[s].dataItem.label:"plot".concat(s),d=r.series[s].dataItem?"".concat(r.series[s].dataItem.assetId,"-").concat(r.series[s].dataItem.dataItemId):"field".concat(s);try{a.createSeries(d,"timestamp",c,r.series[s])}catch(m){console.log(m)}}else a.createSeries("value","date","default",a.chart.yAxes.values[0]);a.chart.scrollbarX=new He.e,a.chart.scrollbarX.parent=a.chart.bottomAxesContainer,a.chart.legend=r.legend?new Je.g:null,(u=a.chart.titles.create()).text=""!==r.title?r.title:"",u.marginBottom=5,a.setState({loading:!1}),e.next=33;break;case 29:e.prev=29,e.t0=e.catch(0),console.log(e.t0),a.setState({loading:"failed"});case 33:case"end":return e.stop()}},e,this,[[0,29]])})),a.fetchData=Object(D.a)(x.a.mark(function e(){var t,n,r,l,i,o,s,c,d,u,m,p,h;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.tile.properties,n=t.start,r=t.liveStart,l=t.fixedStart,i=t.timeType,o=t.end,s=t.series,c=S("assetId"),d={five:new Date(new Date-3e5).toJSON(),ten:new Date(new Date-6e5).toJSON(),halfhour:new Date(new Date-18e5).toJSON(),hour:new Date(new Date-36e5).toJSON()},u=n?d[n]:"live"===i?d[r]:l,m=i?"live"===i?(new Date).toJSON():o:(new Date).toJSON(),"/api/HistoricalDataItems",p=s?s.map(function(e){return{assetId:c,dataItemId:e.dataItem?e.dataItem.dataItemId:0}}):{},e.next=9,M()({url:"/api/HistoricalDataItems",baseURL:L.a.BASE_URL,method:"POST",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN},data:{Name:"request",DataItems:p,StartTime:u,EndTime:m,Format:{Type:"DataItemChart"}}});case 9:if(0===(h=e.sent).data.length){e.next=14;break}return e.abrupt("return",h.data.map(function(e){return Object(f.a)({},e,{timestamp:new Date(e.timestamp)})}));case 14:return e.abrupt("return",[{timestamp:new Date,value:0}]);case 15:case"end":return e.stop()}},e,this)})),a.createSeries=function(e,t,n,r){var l=a.props.tile.properties.timeType,i=a.chart.series.push(new Je.h);i.dataFields.valueY=e,i.dataFields.dateX=t,i.strokeWidth=3,i.name=n,i.yAxis=r.axis?a[r.axis.label]:r,i.tensionX=.85,i.minBulletDistance=15,r.color&&""!==r.color&&(i.stroke=He.f("#".concat(r.color)),i.fill=i.stroke),i.tooltipText="".concat(n,": {").concat(e,"}"),i.tooltip.background.cornerRadius=20,i.tooltip.background.strokeOpacity=0,i.tooltip.pointerOrientation="vertical",i.tooltip.label.minWidth=40,i.tooltip.label.minHeight=40,i.tooltip.label.textAlign="middle",i.tooltip.label.textValign="middle";var o=i.bullets.push(new Je.b);if(o.circle.strokeWidth=2,o.circle.radius=4,o.circle.fill=He.f("#fff"),o.states.create("hover").properties.scale=1.3,"live"===l){var s=i.createChild(Je.b);s.circle.radius=3,s.fillOpacity=1,s.isMeasured=!0,i.events.on("validated",function(){s.moveTo(i.dataItems.last.point),s.validatePosition()})}},a.createAxes=function(e,t){a[e.label]=a.chart.yAxes.push(new Je.l),a[e.label].title.text=""!==e.label?e.label:"",a[e.label].renderer.line.strokeOpacity=1,a[e.label].renderer.line.strokeWidth=2,a[e.label].renderer.grid.template.disabled=!0,a[e.label].renderer.opposite=t,a[e.label].min=""!==e.min?+e.min:null,a[e.label].max=""!==e.max?+e.max:null,""!==e.min&&""!==e.max&&(a[e.label].strictMinMax=!0)},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(D.a)(x.a.mark(function e(){return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.chartInit();case 2:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tile.properties,a=this.props.data.dataItems;if(e.tile.properties!==t&&(this.chart.dispose(),this.chartInit()),t.series&&a&&"live"===t.timeType){for(var n={},r=0;r<t.series.length;r++)try{!function(){var e=t.series[r].dataItem;n["".concat(e.assetId,"-").concat(e.dataItemId)]=a.find(function(t){return t.label===e.label})?a.find(function(t){return t.label===e.label}).value:0}()}catch(l){console.log(l)}n.timestamp=new Date,this.chart.addData(n)}}},{key:"render",value:function(){var e=this,t=this.props.tile.id,a=this.state.loading,n=a?"block":"none";return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{position:"absolute",top:"40%",left:"50%",transform:"translateX(-50%)",display:"failed"===a?"block":"none"}},"Something went wrong, try refreshing this tile"),l.a.createElement("div",{style:{position:"absolute",top:"40%",left:"50%",transform:"translateX(-50%)",display:n}},l.a.createElement(A.ScaleLoader,{sizeUnit:"px",size:30,color:et.a.fontColor})),l.a.createElement("div",{style:{width:"100%",height:"100%",position:"relative"}},l.a.createElement("span",{style:{position:"absolute",top:"5px",left:"40px",zIndex:1e3,cursor:"grab"}},l.a.createElement("span",{title:"Click and hold to move tile"},l.a.createElement(Q.b,{style:{height:"1rem"}})),l.a.createElement("span",{title:"Click to refresh graph"},l.a.createElement(Q.e,{style:{height:"1rem",marginLeft:".75rem",cursor:"pointer"},onClick:function(){e.setState({loading:!0}),e.chartInit()}}))),l.a.createElement("div",{id:t,style:{width:"100%",height:"96%",position:"absolute",bottom:"0"},onMouseDown:function(e){return e.stopPropagation()}})))}}]),t}(r.Component);st.defaultProps={};var ct=Object(s.b)(function(e){return{data:e.data}})(st);var dt=function(e){return l.a.createElement("div",{style:{position:"absolute",top:"25%",left:"50%",transform:"translateX(-50%)"}},l.a.createElement("p",{style:{textAlign:"center",margin:0}},"Either no type was selected or this tile type is deprecated, please delete and recreate this tile"))},ut=a(105),mt=a(92),pt=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={globalFilter:"",data:[],loading:!0},a.header=l.a.createElement("div",{style:{textAlign:"left"}},l.a.createElement("i",{className:"pi pi-search",style:{margin:"4px 4px 0 3rem"}}),l.a.createElement(le.InputText,{type:"search",onChange:function(e){e.stopPropagation(),a.setState({globalFilter:e.target.value})},placeholder:"Search",size:"50"}),l.a.createElement("span",{style:{marginLeft:"1rem",cursor:"pointer"},title:"Refresh Data",onClick:function(e){a.setState({loading:!0}),a.fetchData()}},l.a.createElement(Q.d,{size:"1rem",style:{height:"1rem"}})),l.a.createElement("span",{style:{marginLeft:"1rem",cursor:"pointer"},title:"Export data as csv",onClick:function(e){a.export()}},l.a.createElement(Q.f,{size:"1rem",style:{height:"1rem"},onClick:a.export}))),a.fetchData=Object(D.a)(x.a.mark(function e(){var t,n;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=a.props.tile.properties.option,n=S("assetId"),e.t0=t.value,e.next="dataItems"===e.t0?5:"alarms"===e.t0?7:"events"===e.t0?9:"files"===e.t0?11:13;break;case 5:return a.setState({loading:!1}),e.abrupt("break",15);case 7:return M()({url:"/api/Assets/".concat(n,"/Alarms"),baseURL:L.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN}}).then(function(e){return a.setState({data:e.data,loading:!1})}),e.abrupt("break",15);case 9:return M()({url:"/api/Assets/".concat(n,"/Events"),baseURL:L.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN}}).then(function(e){return a.setState({data:e.data,loading:!1})}),e.abrupt("break",15);case 11:return M()({url:"/api/assets/".concat(n),baseURL:L.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN}}).then(function(e){var t=new Date(new Date-6048e5).toJSON(),n=e.data.serialNumber;M()({url:"/api/files?hostname=".concat(n,"&startDate=").concat(t),baseURL:L.a.BASE_URL,method:"GET",headers:{"Content-Type":"application/json",Authorization:L.a.TOKEN}}).then(function(e){return a.setState({data:e.data,loading:!1})})}),e.abrupt("break",15);case 13:return a.setState({loading:!1}),e.abrupt("break",15);case 15:case"end":return e.stop()}},e,this)})),a.export=function(){a.dt.exportCSV()},a.renderFileTable=function(){var e=a.state.data,t=[{header:"File Name",field:"filename"},{header:"Host Name",field:"hostname"},{header:"haspId",field:"haspId"},{header:"Timestamp",field:"timestamp"}].map(function(e,t){return"filename"===e.field?l.a.createElement(mt.Column,{key:t,field:e.field,header:e.header,sortable:!0,body:function(e,t){return l.a.createElement("a",{href:"".concat(e.filename)},"".concat(e.filename))}}):l.a.createElement(mt.Column,{key:t,field:e.field,header:e.header,sortable:!0})});return l.a.createElement(ut.DataTable,{ref:function(e){a.dt=e},value:e,rows:10,paginator:!0,globalFilter:a.state.globalFilter,header:a.header},t)},a.renderEventTable=function(){var e=a.state.data,t=[{header:"Name",field:"name"},{header:"Cause",field:"cause"},{header:"Recieved",field:"received"},{header:"Timestamp",field:"timestamp"},{header:"Count",field:"count"}].map(function(e,t){return l.a.createElement(mt.Column,{key:t,field:e.field,header:e.header,sortable:!0})});return l.a.createElement(ut.DataTable,{ref:function(e){a.dt=e},value:e,rows:10,paginator:!0,globalFilter:a.state.globalFilter,header:a.header},t)},a.renderAlarmTable=function(){var e=a.state.data,t=[{header:"Name",field:"name"},{header:"Reason",field:"reason"},{header:"Cause",field:"cause"},{header:"Last Raised",field:"raised"},{header:"Severity",field:"severity"},{header:"Count",field:"count"}].map(function(e,t){return l.a.createElement(mt.Column,{key:t,field:e.field,header:e.header,sortable:!0})});return l.a.createElement(ut.DataTable,{ref:function(e){a.dt=e},value:e,rows:10,paginator:!0,globalFilter:a.state.globalFilter,header:a.header},t)},a.renderDataItemTable=function(){var e;a.props.data.dataItems&&(e=a.props.data.dataItems.map(function(e){return Object(f.a)({},e,{value:Math.round(1e3*e.value)/1e3})}));var t=[{header:"Label",field:"label"},{header:"Value",field:"value"}].map(function(e,t){return l.a.createElement(mt.Column,{key:t,field:e.field,header:e.header,sortable:!0})});return l.a.createElement(ut.DataTable,{ref:function(e){a.dt=e},value:e,rows:10,paginator:!0,globalFilter:a.state.globalFilter,header:a.header},t)},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.fetchData()}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){var e,t=this.state.loading,a=this.props.tile.properties.option;if(t)return l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%)"}},l.a.createElement(A.ScaleLoader,{sizeUnit:"px",size:30,color:"#fff"}));switch(a.value){case"dataItems":e=this.renderDataItemTable();break;case"alarms":e=this.renderAlarmTable();break;case"events":e=this.renderEventTable();break;case"files":e=this.renderFileTable();break;default:e=this.renderDataItemTable()}return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"table-background",style:{height:"100%",width:"100%"}},l.a.createElement("span",{style:{position:"absolute",top:"5px",left:"35px",zIndex:1e3,cursor:"grab"}}," ",l.a.createElement(Q.b,{style:{height:"1rem"}})),l.a.createElement("div",{onMouseDown:function(e){return e.stopPropagation()}},e)))}}]),t}(r.Component);var ht=Object(s.b)(function(e){return{data:e.data}})(pt),_t=a(180),bt=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).chartInit=function(){var e=a.props.tile,t=e.id,n=e.properties,r=Number(n.max),l=n.dataItem,i=n.fillColor;He.i.commercialLicense=!0,a.chart=He.g(t,Je.n);var o=a.chart.createChild(He.d);o.text="".concat(l.label),o.align="center";var s=a.chart.createChild(He.d);s.text="Max: ".concat(r),s.align="center",s.isMeasured=!1,s.x=He.j(50),s.horizontalCenter="middle",s.y=He.j(0);var c=a.chart.xAxes.push(new Je.a);c.dataFields.category="category",c.renderer.grid.template.location=0,c.renderer.grid.template.strokeOpacity=0;var d=a.chart.yAxes.push(new Je.l);d.renderer.grid.template.strokeOpacity=0,d.min=-20,d.max=120,d.strictMinMax=!0,d.renderer.baseGrid.disabled=!0,d.renderer.labels.template.adapter.add("text",function(e){return e>100||e<0?"":e+"%"});var u=a.chart.series.push(new Je.d);u.dataFields.valueY="fillValue",u.dataFields.categoryX="category",u.columns.template.width=He.j(80),u.columns.template.fillOpacity=.9,u.columns.template.strokeOpacity=1,u.columns.template.strokeWidth=2,""!==i&&(u.columns.template.fill="#".concat(i),u.columns.template.stroke="#".concat(i));var m=a.chart.series.push(new Je.d);m.dataFields.valueY="emptyValue",m.dataFields.categoryX="category",m.stacked=!0,m.columns.template.width=He.j(80),m.columns.template.fill=He.f("#000"),m.columns.template.fillOpacity=.1,m.columns.template.stroke=He.f("#000"),m.columns.template.strokeOpacity=.2,m.columns.template.strokeWidth=2},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.chartInit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tile.properties,a=this.props.data.dataItems;if(e.tile.properties!==t&&(this.chart.dispose(),this.chartInit()),t.dataItem&&a&&e.data.dataItems!==a){var n=a.find(function(e){return e.label===t.dataItem.label}).value;this.chart.data=[{category:"".concat(Math.round(100*n)/100," ").concat(t.unit),fillValue:n/t.max*100,emptyValue:(t.max-n)/t.max*100}]}}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){var e=this.props.tile.id;return l.a.createElement("div",{id:e,style:{width:"100%",height:"100%"}})}}]),t}(r.Component);bt.defaultProps={};var ft=Object(s.b)(function(e){return{data:e.data}})(bt),vt=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).chartInit=function(){var e=a.props.tile,t=e.id,n=e.properties;a.chart=He.g(t,Je.i),a.chart.startAngle=-90,a.chart.endAngle=180,a.chart.innerRadius=He.j(10),a.chart.numberFormatter.numberFormat="#.##";var r=a.chart.yAxes.push(new Je.a);r.dataFields.category="category",r.renderer.grid.template.location=0,r.renderer.grid.template.strokeOpacity=0,r.renderer.labels.template.horizontalCenter="right",r.renderer.labels.template.fontWeight=300,r.renderer.labels.template.adapter.add("fill",function(e,t){return t.dataItem.index>=0?a.chart.colors.getIndex(t.dataItem.index):e}),r.renderer.minGridDistance=10;var l=a.chart.xAxes.push(new Je.l);l.renderer.grid.template.strokeOpacity=0,l.min=0,l.max=100,l.strictMinMax=!0,l.renderer.labels.template.adapter.add("text",function(e){return e>=100?"".concat(n.max," ").concat(n.unit?n.unit:""):e+"%"});var i=a.chart.series.push(new Je.j);i.dataFields.valueX="full",i.dataFields.categoryY="category",i.clustered=!1,i.columns.template.fill=(new He.c).getFor("alternativeBackground"),i.columns.template.fillOpacity=.08,i.columns.template.cornerRadiusTopLeft=20,i.columns.template.strokeWidth=0,i.columns.template.radarColumn.cornerRadius=20;var o=a.chart.series.push(new Je.j);o.dataFields.valueX="value",o.dataFields.categoryY="category",o.clustered=!1,o.columns.template.strokeWidth=0,o.columns.template.tooltipText="[bold]{raw} ".concat(n.unit?n.unit:""),o.columns.template.radarColumn.cornerRadius=20,o.columns.template.adapter.add("fill",function(e,t){return a.chart.colors.getIndex(t.dataItem.index)}),a.chart.cursor=new Je.k},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){this.chartInit()}},{key:"componentDidUpdate",value:function(e){var t=this.props.tile.properties,a=this.props.data.dataItems;if(e.tile.properties!==t&&(this.chart.dispose(),this.chartInit()),t.dataItems&&a){for(var n=[],r=function(e){var r=t.dataItems[e],l=a.find(function(e){return e.label===r.label});n[e]={category:l.label,value:l.value/t.max*100,raw:l.value,full:t.max}},l=0;l<t.dataItems.length;l++)r(l);this.chart.data=n}}},{key:"componentWillUnmount",value:function(){this.chart&&this.chart.dispose()}},{key:"render",value:function(){var e=this.props.tile.id;return l.a.createElement("div",{id:e,style:{width:"100%",height:"100%"}})}}]),t}(r.Component);vt.defaultProps={};var Et=Object(s.b)(function(e){return{data:e.data}})(vt),gt=a(181),yt=a.n(gt),Ot=function(e){function t(){return Object(T.a)(this,t),Object(w.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.tile,t=e.id,a=e.properties;return l.a.createElement("div",{id:t,style:{width:"96%",height:"96%",margin:"auto",marginTop:"1.5rem",paddingBottom:"1.5rem",borderRadius:"5px"}},l.a.createElement(yt.a,{url:a.url,style:{borderRadius:"5px"},width:"100%",height:"100%",className:"",display:"initial",position:"relative",allowFullScreen:!0}))}}]),t}(r.Component),xt={TileType:dt,Gauge:$e,BasicGraph:at,AdvancedGraph:ct,TextBox:nt,Map:ot,Table:ht,CustomTable:_t.a,CylinderGauge:ft,SolidGauge:Et,IframeTile:Ot},Dt=function(e){function t(){return Object(T.a)(this,t),Object(w.a)(this,Object(I.a)(t).apply(this,arguments))}return Object(k.a)(t,e),Object(C.a)(t,[{key:"handleEditTile",value:function(e){(0,this.props.toggleModal)(e)}},{key:"render",value:function(){var e=this,t=this.props,a=t.tile,n=t.deleteTile,r=t.activeTab,i=t.ui,o=a.properties.type&&xt[a.properties.type.value]?xt[a.properties.type.value]:xt.TileType,s=i.viewOnly?"none":"";return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"tile",style:{height:"100%",width:"100%"}},l.a.createElement("span",{className:"tile-remove",style:{position:"absolute",top:"5px",right:"10px",zIndex:1e3,display:s},title:"Click to delete tile",onClick:function(){return n(a.id,r)}}," ",l.a.createElement(Q.h,{style:{height:"1rem"}})),l.a.createElement("span",{style:{position:"absolute",top:"5px",left:"10px",zIndex:1e3,cursor:"pointer",display:s},title:"Click to Edit tile",onClick:function(t){return e.handleEditTile(a)}},l.a.createElement(Q.g,{style:{height:"1rem"},size:"1rem"})),l.a.createElement(o,{tile:a})))}}]),t}(r.Component);var Tt=Object(s.b)(function(e){return{activeTab:e.activeTab,ui:e.ui}},n)(Dt),Ct=Object(Xe.WidthProvider)(Xe.Responsive),wt=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).renderGrids=function(e){var t=a.props,n=t.tiles,r=t.layouts,i=t.activeTab,o=t.ui,s=i.index===e.index?"visible":"hidden",c=i.index===e.index?"":0;return l.a.createElement("div",{style:{visibility:s,height:c},key:e.index},l.a.createElement(Ct,{style:{visibility:s,height:c},key:e.index,breakpoints:{lg:1200,md:996,sm:768,xs:480,xxs:0},cols:{lg:12,md:9,sm:6,xs:4,xxs:2},rowHeight:80,layouts:r[e.index],onLayoutChange:function(t,n){return a.handleLayoutChange(t,n,e)},isDraggable:!o.viewOnly,isResizable:!o.viewOnly},n[e.index]&&n[e.index].map(a.renderTile)))},a.renderTile=function(e){return l.a.createElement("div",{key:e.id,"data-grid":e.dataGrid},l.a.createElement(Tt,{tile:e,toggleModal:a.toggleModal}))},a.handleLayoutChange=function(e,t,n){a.props.saveLayouts(t,n)},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"render",value:function(){var e=this.props.tabs;return l.a.createElement(l.a.Fragment,null,e&&e.map(this.renderGrids))}}]),t}(l.a.Component);var It=Object(s.b)(function(e){return{activeTab:e.activeTab,layouts:e.layouts,tiles:e.tiles,ui:e.ui,tabs:e.tabs}},n)(wt),kt=a(183),At=a(184);a(294);He.k(At.a),He.k(kt.a),He.i.autoSetClassName=!0;var jt=function(e){function t(){var e,a;Object(T.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(w.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0},a}return Object(k.a)(t,e),Object(C.a)(t,[{key:"componentDidMount",value:function(){var e=Object(D.a)(x.a.mark(function e(){var t=this;return x.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"builder"!==S("mode")&&this.props.toggleViewOnly(),e.next=3,this.props.loadDashboard().then(function(){return t.setState({loading:!1})}).catch(function(e){console.log(e),t.setState({loading:"failed"})});case 3:return e.next=5,this.props.currentData();case 5:return e.next=7,this.props.assetData();case 7:return e.next=9,this.props.assetDefinitionData();case 9:this.interval=setInterval(function(){return t.props.currentData()},1e4);case 10:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.loading;return"failed"===e?l.a.createElement(l.a.Fragment,null,l.a.createElement(ee,{toggleSidebar:this.toggleSidebar}),l.a.createElement("section",{style:{height:"94vh"}},l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translateX(-50%)"}},l.a.createElement("h2",null,"Failed to load Dashboard. Please refresh.")))):e?l.a.createElement(l.a.Fragment,null,l.a.createElement(ee,{toggleSidebar:this.toggleSidebar}),l.a.createElement("section",{style:{height:"94vh"}},l.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translateX(-50%)"}},l.a.createElement(A.PulseLoader,{sizeUnit:"px",size:20,color:et.a.fontColor})))):l.a.createElement(l.a.Fragment,null,l.a.createElement(ee,{toggleSidebar:this.toggleSidebar}),l.a.createElement(Fe,{className:"sidebar"}),l.a.createElement(ze,null),l.a.createElement(Ve,null),l.a.createElement(It,{className:"main"}))}}]),t}(r.Component),Mt=Object(s.b)(null,n)(jt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=function(e){var t=Object(c.a)(d.a),a=Object(c.d)(t);return Object(c.e)(y,e,a)}();o.a.render(l.a.createElement(s.a,{store:St},l.a.createElement(Mt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},36:function(e,t,a){"use strict";a.d(t,"a",function(){return n});var n={BASE_URL:"",TOKEN:""}},85:function(e,t,a){e.exports={fontColor:"rgba(255, 255, 255, 0.8)"}}},[[187,6,2]]]);
//# sourceMappingURL=main.c7e35e48.chunk.js.map